(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[461],{17662:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var s=r(41664),n=r.n(s),a=r(25675),i=r.n(a),l=r(91472),o=r(41338),c=r(5802);function d(){return(0,c.jsx)("footer",{className:"bg-gradient-to-br from-neutral-900 to-neutral-800 text-neutral-300",children:(0,c.jsxs)("div",{className:"container mx-auto py-16 px-4",children:[(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12",children:[(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsx)(n(),{href:"/",className:"inline-block",children:(0,c.jsx)("div",{className:"flex items-center space-x-3 group",children:(0,c.jsx)("div",{className:"h-12 bg-white p-2 rounded-lg overflow-hidden relative",children:(0,c.jsx)(i(),{src:"/images/logo-fixed/Logo CT quer 4c.webp",alt:"Contact Tables Logo",width:120,height:40,className:"transition-all group-hover:scale-105",priority:!0,style:{objectFit:"contain",width:"auto",height:"100%"},quality:100})})})}),(0,c.jsx)("p",{className:"text-neutral-400 leading-relaxed",children:"Wir verbinden Menschen am Restauranttisch â€“ f\xfcr echte Begegnungen und inspirierende Gespr\xe4che."})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"text-xl font-semibold text-white mb-6 border-b border-neutral-700 pb-3",children:"Entdecken"}),(0,c.jsxs)("ul",{className:"space-y-4",children:[(0,c.jsx)("li",{children:(0,c.jsxs)(n(),{href:"/restaurants",className:"flex items-center space-x-2 text-neutral-400 hover:text-primary-400 transition-colors group",children:[(0,c.jsx)(l.i63,{className:"group-hover:translate-x-1 transition-transform"}),(0,c.jsx)("span",{children:"Restaurants finden"})]})}),(0,c.jsx)("li",{children:(0,c.jsxs)(n(),{href:"/about",className:"flex items-center space-x-2 text-neutral-400 hover:text-primary-400 transition-colors group",children:[(0,c.jsx)(l.WY8,{className:"group-hover:translate-x-1 transition-transform"}),(0,c.jsx)("span",{children:"\xdcber uns"})]})}),(0,c.jsx)("li",{children:(0,c.jsxs)(n(),{href:"/restaurant/register",className:"flex items-center space-x-2 text-neutral-400 hover:text-primary-400 transition-colors group",children:[(0,c.jsx)(l.i63,{className:"group-hover:translate-x-1 transition-transform"}),(0,c.jsx)("span",{children:"Restaurant anmelden"})]})}),(0,c.jsx)("li",{children:(0,c.jsxs)(n(),{href:"/events",className:"flex items-center space-x-2 text-neutral-400 hover:text-primary-400 transition-colors group",children:[(0,c.jsx)(l.TCC,{className:"group-hover:translate-x-1 transition-transform"}),(0,c.jsx)("span",{children:"Events & Aktionen"})]})})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"text-xl font-semibold text-white mb-6 border-b border-neutral-700 pb-3",children:"Rechtliches"}),(0,c.jsxs)("ul",{className:"space-y-4",children:[(0,c.jsx)("li",{children:(0,c.jsx)(n(),{href:"/datenschutz",className:"text-neutral-400 hover:text-primary-400 transition-colors",children:"Datenschutzerkl\xe4rung"})}),(0,c.jsx)("li",{children:(0,c.jsx)(n(),{href:"/faq",className:"text-neutral-400 hover:text-primary-400 transition-colors",children:"FAQ"})}),(0,c.jsx)("li",{children:(0,c.jsx)(n(),{href:"/impressum",className:"text-neutral-400 hover:text-primary-400 transition-colors",children:"Impressum"})}),(0,c.jsx)("li",{children:(0,c.jsx)(n(),{href:"/barrierefreiheit",className:"text-neutral-400 hover:text-primary-400 transition-colors",children:"Barrierefreiheit"})})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"text-xl font-semibold text-white mb-6 border-b border-neutral-700 pb-3",children:"Kontakt"}),(0,c.jsxs)("ul",{className:"space-y-4",children:[(0,c.jsx)("li",{className:"group",children:(0,c.jsxs)("a",{href:"tel:+4915679640069",className:"flex items-center space-x-3 text-neutral-400 hover:text-primary-400 transition-colors",children:[(0,c.jsx)("div",{className:"w-8 h-8 rounded-full bg-neutral-800 group-hover:bg-primary-700 flex items-center justify-center transition-all duration-300",children:(0,c.jsx)(l.tUt,{size:16})}),(0,c.jsx)("span",{children:"+49 15679 640069"})]})}),(0,c.jsx)("li",{className:"group",children:(0,c.jsxs)(n(),{href:"/contact",className:"flex items-center space-x-3 text-neutral-400 hover:text-primary-400 transition-colors",children:[(0,c.jsx)("div",{className:"w-8 h-8 rounded-full bg-neutral-800 group-hover:bg-primary-700 flex items-center justify-center transition-all duration-300",children:(0,c.jsx)(l.Imn,{size:16})}),(0,c.jsx)("span",{children:"Nachricht absenden"})]})}),(0,c.jsx)("li",{className:"group",children:(0,c.jsxs)("a",{href:"https://www.facebook.com/contacttables/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 text-neutral-400 hover:text-primary-400 transition-colors",children:[(0,c.jsx)("div",{className:"w-8 h-8 rounded-full bg-neutral-800 group-hover:bg-primary-700 flex items-center justify-center transition-all duration-300",children:(0,c.jsx)(o.tBk,{size:16})}),(0,c.jsx)("span",{children:"Facebook"})]})}),(0,c.jsx)("li",{className:"group",children:(0,c.jsxs)("a",{href:"https://www.instagram.com/contacttables/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 text-neutral-400 hover:text-primary-400 transition-colors",children:[(0,c.jsx)("div",{className:"w-8 h-8 rounded-full bg-neutral-800 group-hover:bg-primary-700 flex items-center justify-center transition-all duration-300",children:(0,c.jsx)(o.Zf_,{size:16})}),(0,c.jsx)("span",{children:"Instagram"})]})})]})]})]}),(0,c.jsx)("div",{className:"border-t border-neutral-800 mt-16 pt-8 text-center",children:(0,c.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[(0,c.jsxs)("p",{className:"text-neutral-500",children:["\xa9 ",new Date().getFullYear()," contact-tables. Alle Rechte vorbehalten."]}),(0,c.jsxs)("p",{className:"flex items-center text-neutral-500",children:[(0,c.jsx)("span",{children:"Made with"})," ",(0,c.jsx)(l.$aX,{className:"mx-2 text-primary-500"})," ",(0,c.jsx)("span",{children:"in Germany"})]})]})})]})})}},70063:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var s=r(92401),n=r(91472),a=r(5802);function i(e){var t=e.id,r=e.name,i=e.placeholder,l=e.value,o=e.onChange,c=e.required,d=e.className,u=e.autoComplete,m=e.disabled,h=e.minLength,x=(0,s.useState)(!1),p=x[0],f=x[1],g=(0,s.useState)(!1),j=g[0],b=g[1],v=(0,s.useRef)(null);return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{ref:v,type:p?"text":"password",id:t,name:r,placeholder:void 0===i?"Passwort eingeben":i,value:l,onChange:o,onFocus:function(){b(!0)},onBlur:function(){b(!1)},required:void 0!==c&&c,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ".concat(void 0===d?"":d),autoComplete:void 0===u?"current-password":u,disabled:void 0!==m&&m,minLength:h}),(0,a.jsx)("button",{type:"button",onClick:function(e){e.preventDefault(),f(!p),v.current&&v.current.focus()},className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none ".concat(j?"z-10":""),"aria-label":p?"Passwort verbergen":"Passwort anzeigen",tabIndex:-1,children:p?(0,a.jsx)(n.rzC,{size:20}):(0,a.jsx)(n.rDJ,{size:20})})]})}},39418:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return g}});var s=r(50029),n=r(64687),a=r.n(n),i=r(92401),l=r(11163),o=r(41664),c=r.n(o),d=r(63708),u=r(17662),m=r(89681),h=r(91472),x=r(86405),p=r(70063),f=r(5802);function g(){var e,t=(0,i.useState)(""),r=t[0],n=t[1],o=(0,i.useState)(""),g=o[0],j=o[1],b=(0,i.useState)(""),v=b[0],y=b[1],N=(0,i.useState)(null),w=N[0],C=N[1],k=(0,i.useState)(null),I=k[0],R=k[1],E=(0,i.useState)(!1),z=E[0],S=E[1],_=(0,l.useRouter)(),M=(0,x.createBrowserClient)("https://efmbzrmroyetcqxcwxka.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVmbWJ6cm1yb3lldGNxeGN3eGthIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc3MjkzNDgsImV4cCI6MjA2MzMwNTM0OH0.ohJQapQUce_nuK0Ra30WUQGfchrSG3ZTx43jxV0f0I4"),P=(e=(0,s.Z)(a().mark(function e(t){var s,n;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),C(null),R(null),S(!0),!(!r||!g||!v)){e.next=8;break}return C("Bitte f\xfcllen Sie alle Felder aus."),S(!1),e.abrupt("return");case 8:return e.prev=8,e.next=11,fetch("/api/auth/register-user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r,email:g,password:v,role:"CUSTOMER"})});case 11:if((s=e.sent).ok){e.next=17;break}return e.next=15,s.json();case 15:throw Error(e.sent.message||"Fehler bei der Registrierung.");case 17:return e.next=19,M.auth.signInWithPassword({email:g,password:v});case 19:if(!(n=e.sent.error)){e.next=23;break}throw Error("Anmeldung nach Registrierung fehlgeschlagen: ".concat(n.message));case 23:R("Registrierung erfolgreich! Sie werden angemeldet..."),e.next=29;break;case 26:e.prev=26,e.t0=e.catch(8),C(e.t0.message);case 29:return e.prev=29,S(!1),e.finish(29);case 32:case"end":return e.stop()}},e,null,[[8,26,29,32]])})),function(t){return e.apply(this,arguments)});return(0,i.useEffect)(function(){var e=M.auth.onAuthStateChange(function(e,t){"SIGNED_IN"===e&&(null==t?void 0:t.user.user_metadata.role)==="CUSTOMER"&&_.push("/customer/dashboard")}).data.subscription;return function(){e.unsubscribe()}},[_,M]),(0,f.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,f.jsx)(d.Z,{}),(0,f.jsx)("main",{className:"flex-grow flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,f.jsxs)(m.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-lg",children:[(0,f.jsxs)("div",{className:"text-center",children:[(0,f.jsx)("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Konto erstellen"}),(0,f.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Registrieren Sie sich als Gast, um Tische zu reservieren."})]}),(0,f.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:P,children:[(0,f.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,f.jsxs)("div",{className:"mb-4",children:[(0,f.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),(0,f.jsxs)("div",{className:"relative",children:[(0,f.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,f.jsx)(h.fzv,{className:"h-5 w-5 text-gray-400"})}),(0,f.jsx)("input",{id:"name",name:"name",type:"text",required:!0,value:r,onChange:function(e){return n(e.target.value)},className:"appearance-none relative block w-full px-3 py-3 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Vollst\xe4ndiger Name"})]})]}),(0,f.jsxs)("div",{className:"mb-4",children:[(0,f.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"E-Mail-Adresse"}),(0,f.jsxs)("div",{className:"relative",children:[(0,f.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,f.jsx)(h.Imn,{className:"h-5 w-5 text-gray-400"})}),(0,f.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:g,onChange:function(e){return j(e.target.value)},className:"appearance-none relative block w-full px-3 py-3 pl-10 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"E-Mail-Adresse"})]})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Passwort"}),(0,f.jsxs)("div",{className:"relative",children:[(0,f.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,f.jsx)(h.UIZ,{className:"h-5 w-5 text-gray-400"})}),(0,f.jsx)("div",{className:"pl-10",children:(0,f.jsx)(p.Z,{id:"password",name:"password",autoComplete:"new-password",required:!0,value:v,onChange:function(e){return y(e.target.value)},className:"appearance-none relative block w-full border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Passwort (mindestens 6 Zeichen)"})})]})]})]}),w&&(0,f.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:(0,f.jsx)("p",{className:"text-sm text-red-700",children:w})}),I&&(0,f.jsx)("div",{className:"bg-green-50 border-l-4 border-green-500 p-4",children:(0,f.jsx)("p",{className:"text-sm text-green-700",children:I})}),(0,f.jsx)("div",{children:(0,f.jsxs)("button",{type:"submit",disabled:z,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:[(0,f.jsx)("span",{className:"absolute left-0 inset-y-0 flex items-center pl-3",children:(0,f.jsx)(h.zy7,{className:"h-5 w-5 text-primary-500 group-hover:text-primary-400"})}),z?"Registriere...":"Registrieren"]})})]}),(0,f.jsxs)("div",{className:"text-center mt-4 space-y-4",children:[(0,f.jsxs)("p",{className:"text-sm text-gray-600",children:["Sind Sie ein Restaurant?"," ",(0,f.jsx)(c(),{href:"/restaurant/register",className:"font-medium text-primary-600 hover:text-primary-500",children:"Hier als Restaurant registrieren"})]}),(0,f.jsxs)("p",{className:"text-sm text-gray-600",children:["Bereits registriert?"," ",(0,f.jsx)(c(),{href:"/auth/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"Zum Login"})]})]})]})}),(0,f.jsx)(u.Z,{})]})}},16659:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/auth/register",function(){return r(39418)}])},11163:function(e,t,r){e.exports=r(11171)},13114:function(e,t,r){"use strict";r.d(t,{M:function(){return j}});var s=r(5802),n=r(92401),a=r(25364),i=r(96681),l=r(58868),o=r(240),c=r(93243),d=r(16014);class u extends n.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,r=(0,c.R)(e)&&e.offsetWidth||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=r-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function m({children:e,isPresent:t,anchorX:r,root:a}){let i=(0,n.useId)(),l=(0,n.useRef)(null),o=(0,n.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=(0,n.useContext)(d._);return(0,n.useInsertionEffect)(()=>{let{width:e,height:s,top:n,left:d,right:u}=o.current;if(t||!l.current||!e||!s)return;let m="left"===r?`left: ${d}`:`right: ${u}`;l.current.dataset.motionPopId=i;let h=document.createElement("style");c&&(h.nonce=c);let x=a??document.head;return x.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${s}px !important;
            ${m}px !important;
            top: ${n}px !important;
          }
        `),()=>{x.contains(h)&&x.removeChild(h)}},[t]),(0,s.jsx)(u,{isPresent:t,childRef:l,sizeRef:o,children:n.cloneElement(e,{ref:l})})}let h=({children:e,initial:t,isPresent:r,onExitComplete:a,custom:l,presenceAffectsLayout:c,mode:d,anchorX:u,root:h})=>{let p=(0,i.h)(x),f=(0,n.useId)(),g=!0,j=(0,n.useMemo)(()=>(g=!1,{id:f,initial:t,isPresent:r,custom:l,onExitComplete:e=>{for(let t of(p.set(e,!0),p.values()))if(!t)return;a&&a()},register:e=>(p.set(e,!1),()=>p.delete(e))}),[r,p,a]);return c&&g&&(j={...j}),(0,n.useMemo)(()=>{p.forEach((e,t)=>p.set(t,!1))},[r]),n.useEffect(()=>{r||p.size||!a||a()},[r]),"popLayout"===d&&(e=(0,s.jsx)(m,{isPresent:r,anchorX:u,root:h,children:e})),(0,s.jsx)(o.O.Provider,{value:j,children:e})};function x(){return new Map}var p=r(15947);let f=e=>e.key||"";function g(e){let t=[];return n.Children.forEach(e,e=>{(0,n.isValidElement)(e)&&t.push(e)}),t}let j=({children:e,custom:t,initial:r=!0,onExitComplete:o,presenceAffectsLayout:c=!0,mode:d="sync",propagate:u=!1,anchorX:m="left",root:x})=>{let[j,b]=(0,p.oO)(u),v=(0,n.useMemo)(()=>g(e),[e]),y=u&&!j?[]:v.map(f),N=(0,n.useRef)(!0),w=(0,n.useRef)(v),C=(0,i.h)(()=>new Map),[k,I]=(0,n.useState)(v),[R,E]=(0,n.useState)(v);(0,l.L)(()=>{N.current=!1,w.current=v;for(let e=0;e<R.length;e++){let t=f(R[e]);y.includes(t)?C.delete(t):!0!==C.get(t)&&C.set(t,!1)}},[R,y.length,y.join("-")]);let z=[];if(v!==k){let e=[...v];for(let t=0;t<R.length;t++){let r=R[t],s=f(r);y.includes(s)||(e.splice(t,0,r),z.push(r))}return"wait"===d&&z.length&&(e=z),E(g(e)),I(v),null}let{forceRender:S}=(0,n.useContext)(a.p);return(0,s.jsx)(s.Fragment,{children:R.map(e=>{let n=f(e),a=(!u||!!j)&&(v===R||y.includes(n));return(0,s.jsx)(h,{isPresent:a,initial:(!N.current||!!r)&&void 0,custom:t,presenceAffectsLayout:c,mode:d,root:x,onExitComplete:a?void 0:()=>{if(!C.has(n))return;C.set(n,!0);let e=!0;C.forEach(t=>{t||(e=!1)}),e&&(S?.(),E(w.current),u&&b?.(),o&&o())},anchorX:m,children:e},n)})})}}},function(e){e.O(0,[6130,3365,6058,6405,8428,300,3708,2888,9774,179],function(){return e(e.s=16659)}),_N_E=e.O()}]);