(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9470],{17662:function(e,r,t){"use strict";t.d(r,{Z:function(){return u}});var n=t(41664),s=t.n(n),a=t(25675),i=t.n(a),o=t(91472),c=t(41338),l=t(5802);function u(){return(0,l.jsx)("footer",{className:"bg-gradient-to-br from-neutral-900 to-neutral-800 text-neutral-300",children:(0,l.jsxs)("div",{className:"container mx-auto py-16 px-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12",children:[(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)(s(),{href:"/",className:"inline-block",children:(0,l.jsx)("div",{className:"flex items-center space-x-3 group",children:(0,l.jsx)("div",{className:"h-12 bg-white p-2 rounded-lg overflow-hidden relative",children:(0,l.jsx)(i(),{src:"/images/logo-fixed/Logo CT quer 4c.webp",alt:"Contact Tables Logo",width:120,height:40,className:"transition-all group-hover:scale-105",priority:!0,style:{objectFit:"contain",width:"auto",height:"100%"},quality:100})})})}),(0,l.jsx)("p",{className:"text-neutral-400 leading-relaxed",children:"Wir verbinden Menschen am Restauranttisch â€“ f\xfcr echte Begegnungen und inspirierende Gespr\xe4che."})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-xl font-semibold text-white mb-6 border-b border-neutral-700 pb-3",children:"Entdecken"}),(0,l.jsxs)("ul",{className:"space-y-4",children:[(0,l.jsx)("li",{children:(0,l.jsxs)(s(),{href:"/restaurants",className:"flex items-center space-x-2 text-neutral-400 hover:text-primary-400 transition-colors group",children:[(0,l.jsx)(o.i63,{className:"group-hover:translate-x-1 transition-transform"}),(0,l.jsx)("span",{children:"Restaurants finden"})]})}),(0,l.jsx)("li",{children:(0,l.jsxs)(s(),{href:"/about",className:"flex items-center space-x-2 text-neutral-400 hover:text-primary-400 transition-colors group",children:[(0,l.jsx)(o.WY8,{className:"group-hover:translate-x-1 transition-transform"}),(0,l.jsx)("span",{children:"\xdcber uns"})]})}),(0,l.jsx)("li",{children:(0,l.jsxs)(s(),{href:"/restaurant/register",className:"flex items-center space-x-2 text-neutral-400 hover:text-primary-400 transition-colors group",children:[(0,l.jsx)(o.i63,{className:"group-hover:translate-x-1 transition-transform"}),(0,l.jsx)("span",{children:"Restaurant anmelden"})]})}),(0,l.jsx)("li",{children:(0,l.jsxs)(s(),{href:"/events",className:"flex items-center space-x-2 text-neutral-400 hover:text-primary-400 transition-colors group",children:[(0,l.jsx)(o.TCC,{className:"group-hover:translate-x-1 transition-transform"}),(0,l.jsx)("span",{children:"Events & Aktionen"})]})})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-xl font-semibold text-white mb-6 border-b border-neutral-700 pb-3",children:"Rechtliches"}),(0,l.jsxs)("ul",{className:"space-y-4",children:[(0,l.jsx)("li",{children:(0,l.jsx)(s(),{href:"/datenschutz",className:"text-neutral-400 hover:text-primary-400 transition-colors",children:"Datenschutzerkl\xe4rung"})}),(0,l.jsx)("li",{children:(0,l.jsx)(s(),{href:"/faq",className:"text-neutral-400 hover:text-primary-400 transition-colors",children:"FAQ"})}),(0,l.jsx)("li",{children:(0,l.jsx)(s(),{href:"/impressum",className:"text-neutral-400 hover:text-primary-400 transition-colors",children:"Impressum"})}),(0,l.jsx)("li",{children:(0,l.jsx)(s(),{href:"/barrierefreiheit",className:"text-neutral-400 hover:text-primary-400 transition-colors",children:"Barrierefreiheit"})})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-xl font-semibold text-white mb-6 border-b border-neutral-700 pb-3",children:"Kontakt"}),(0,l.jsxs)("ul",{className:"space-y-4",children:[(0,l.jsx)("li",{className:"group",children:(0,l.jsxs)("a",{href:"tel:+4915679640069",className:"flex items-center space-x-3 text-neutral-400 hover:text-primary-400 transition-colors",children:[(0,l.jsx)("div",{className:"w-8 h-8 rounded-full bg-neutral-800 group-hover:bg-primary-700 flex items-center justify-center transition-all duration-300",children:(0,l.jsx)(o.tUt,{size:16})}),(0,l.jsx)("span",{children:"+49 15679 640069"})]})}),(0,l.jsx)("li",{className:"group",children:(0,l.jsxs)(s(),{href:"/contact",className:"flex items-center space-x-3 text-neutral-400 hover:text-primary-400 transition-colors",children:[(0,l.jsx)("div",{className:"w-8 h-8 rounded-full bg-neutral-800 group-hover:bg-primary-700 flex items-center justify-center transition-all duration-300",children:(0,l.jsx)(o.Imn,{size:16})}),(0,l.jsx)("span",{children:"Nachricht absenden"})]})}),(0,l.jsx)("li",{className:"group",children:(0,l.jsxs)("a",{href:"https://www.facebook.com/contacttables/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 text-neutral-400 hover:text-primary-400 transition-colors",children:[(0,l.jsx)("div",{className:"w-8 h-8 rounded-full bg-neutral-800 group-hover:bg-primary-700 flex items-center justify-center transition-all duration-300",children:(0,l.jsx)(c.tBk,{size:16})}),(0,l.jsx)("span",{children:"Facebook"})]})}),(0,l.jsx)("li",{className:"group",children:(0,l.jsxs)("a",{href:"https://www.instagram.com/contacttables/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 text-neutral-400 hover:text-primary-400 transition-colors",children:[(0,l.jsx)("div",{className:"w-8 h-8 rounded-full bg-neutral-800 group-hover:bg-primary-700 flex items-center justify-center transition-all duration-300",children:(0,l.jsx)(c.Zf_,{size:16})}),(0,l.jsx)("span",{children:"Instagram"})]})})]})]})]}),(0,l.jsx)("div",{className:"border-t border-neutral-800 mt-16 pt-8 text-center",children:(0,l.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[(0,l.jsxs)("p",{className:"text-neutral-500",children:["\xa9 ",new Date().getFullYear()," contact-tables. Alle Rechte vorbehalten."]}),(0,l.jsxs)("p",{className:"flex items-center text-neutral-500",children:[(0,l.jsx)("span",{children:"Made with"})," ",(0,l.jsx)(o.$aX,{className:"mx-2 text-primary-500"})," ",(0,l.jsx)("span",{children:"in Germany"})]})]})})]})})}},70063:function(e,r,t){"use strict";t.d(r,{Z:function(){return i}});var n=t(92401),s=t(91472),a=t(5802);function i(e){var r=e.id,t=e.name,i=e.placeholder,o=e.value,c=e.onChange,l=e.required,u=e.className,d=e.autoComplete,h=e.disabled,p=e.minLength,m=(0,n.useState)(!1),x=m[0],f=m[1],g=(0,n.useState)(!1),b=g[0],j=g[1],v=(0,n.useRef)(null);return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{ref:v,type:x?"text":"password",id:r,name:t,placeholder:void 0===i?"Passwort eingeben":i,value:o,onChange:c,onFocus:function(){j(!0)},onBlur:function(){j(!1)},required:void 0!==l&&l,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ".concat(void 0===u?"":u),autoComplete:void 0===d?"current-password":d,disabled:void 0!==h&&h,minLength:p}),(0,a.jsx)("button",{type:"button",onClick:function(e){e.preventDefault(),f(!x),v.current&&v.current.focus()},className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none ".concat(b?"z-10":""),"aria-label":x?"Passwort verbergen":"Passwort anzeigen",tabIndex:-1,children:x?(0,a.jsx)(s.rzC,{size:20}):(0,a.jsx)(s.rDJ,{size:20})})]})}},85143:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return g}});var n=t(50029),s=t(64687),a=t.n(s),i=t(92401),o=t(11163),c=t(41664),l=t.n(c),u=t(89681),d=t(91472),h=t(63708),p=t(17662),m=t(83596),x=t(70063),f=t(5802);function g(){var e,r=(0,i.useState)(""),t=r[0],s=r[1],c=(0,i.useState)(""),g=c[0],b=c[1],j=(0,i.useState)(!1),v=j[0],w=j[1],y=(0,i.useState)(""),N=y[0],k=y[1];(0,o.useRouter)();var C=(e=(0,n.Z)(a().mark(function e(r){var n,s,i,o,c,l;return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),w(!0),k(""),e.prev=3,e.next=6,m.auth.signIn(t,g);case 6:if(s=(n=e.sent).data,!(i=n.error)){e.next=11;break}throw i;case 11:if(!(s&&s.user)){e.next=26;break}return e.next=14,m.supabase.from("restaurants").select("id, status").eq("user_id",s.user.id).single();case 14:if(c=(o=e.sent).data,!((l=o.error)&&"PGRST116"!==l.code)){e.next=20;break}throw console.error("Fehler beim Abrufen des Restaurant-Profils:",l),Error("Fehler beim Abrufen des Restaurant-Profils");case 20:if(c){e.next=24;break}return e.next=23,m.auth.signOut();case 23:throw Error("Sie haben keinen Zugriff auf das Restaurant-Dashboard. Bitte registrieren Sie sich als Restaurant.");case 24:return setTimeout(function(){window.location.href="/restaurant/dashboard"},500),e.abrupt("return");case 26:e.next=32;break;case 28:e.prev=28,e.t0=e.catch(3),console.error("Login-Fehler:",e.t0),k(e.t0.message||"Ein Fehler ist aufgetreten. Bitte versuchen Sie es erneut.");case 32:return e.prev=32,w(!1),e.finish(32);case 35:case"end":return e.stop()}},e,null,[[3,28,32,35]])})),function(r){return e.apply(this,arguments)});return(0,f.jsxs)("div",{className:"min-h-screen bg-neutral-50",children:[(0,f.jsx)(h.Z,{}),(0,f.jsx)("main",{className:"pt-20 px-4 md:px-8 pb-12",children:(0,f.jsxs)("div",{className:"max-w-md mx-auto bg-white rounded-xl shadow-sm p-8",children:[(0,f.jsxs)("div",{className:"text-center mb-8",children:[(0,f.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Restaurant Login"}),(0,f.jsx)("p",{className:"text-gray-600 mt-2",children:"Melden Sie sich an, um Ihr Restaurant zu verwalten"})]}),N&&(0,f.jsx)(u.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 p-4 bg-red-100 text-red-800 rounded-lg",children:(0,f.jsxs)("div",{className:"flex items-center",children:[(0,f.jsx)(d.bcx,{className:"mr-2"}),(0,f.jsx)("p",{children:N})]})}),(0,f.jsxs)("form",{onSubmit:C,className:"space-y-6",children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"E-Mail"}),(0,f.jsxs)("div",{className:"relative",children:[(0,f.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,f.jsx)(d.Imn,{className:"text-gray-400"})}),(0,f.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t,onChange:function(e){return s(e.target.value)},className:"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"ihre-email@beispiel.de"})]})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Passwort"}),(0,f.jsxs)("div",{className:"relative",children:[(0,f.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,f.jsx)(d.UIZ,{className:"text-gray-400"})}),(0,f.jsx)("div",{className:"pl-10",children:(0,f.jsx)(x.Z,{id:"password",name:"password",autoComplete:"current-password",required:!0,value:g,onChange:function(e){return b(e.target.value)},className:"block w-full border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500"})})]}),(0,f.jsx)("div",{className:"text-right mt-2",children:(0,f.jsx)(l(),{href:"/restaurant/reset-password",className:"text-sm text-primary-600 hover:text-primary-500",children:"Passwort vergessen?"})})]}),(0,f.jsx)("div",{children:(0,f.jsx)("button",{type:"submit",disabled:v,className:"w-full flex justify-center items-center py-2 px-4 border border-transparent rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 ".concat(v?"opacity-70 cursor-not-allowed":""),children:v?(0,f.jsxs)("span",{className:"flex items-center",children:[(0,f.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,f.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,f.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Anmeldung..."]}):(0,f.jsxs)("span",{className:"flex items-center",children:[(0,f.jsx)(d._fJ,{className:"mr-2"}),"Anmelden"]})})})]}),(0,f.jsx)("div",{className:"mt-6 text-center",children:(0,f.jsxs)("p",{className:"text-gray-600",children:["Noch kein Restaurant-Konto?"," ",(0,f.jsx)(l(),{href:"/restaurant/register",className:"text-primary-600 hover:text-primary-500 font-medium",children:"Jetzt registrieren"})]})})]})}),(0,f.jsx)(p.Z,{})]})}},83596:function(e,r,t){"use strict";t.r(r),t.d(r,{admin:function(){return R},auth:function(){return C},profiles:function(){return I},restaurants:function(){return P},supabase:function(){return k}});var n,s,a,i,o,c,l,u,d,h,p,m,x=t(59499),f=t(50029),g=t(64687),b=t.n(g),j=t(86405);function v(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function w(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?v(Object(t),!0).forEach(function(r){(0,x.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var y="https://efmbzrmroyetcqxcwxka.supabase.co",N="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVmbWJ6cm1yb3lldGNxeGN3eGthIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc3MjkzNDgsImV4cCI6MjA2MzMwNTM0OH0.ohJQapQUce_nuK0Ra30WUQGfchrSG3ZTx43jxV0f0I4";y&&N||console.error("Kritischer Fehler: Supabase URL oder Anon Key fehlen in der Client-Konfiguration.");var k=(0,j.createBrowserClient)(y,N,{auth:{storageKey:"contact-tables-auth",persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}),C={signUp:(n=(0,f.Z)(b().mark(function e(r,t){var n,s,a,i,o=arguments;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:{},e.next=3,k.auth.signUp({email:r,password:t,options:{data:w(w({},n),{},{role:n.role||"CUSTOMER"})}});case 3:return a=(s=e.sent).data,i=s.error,e.abrupt("return",{data:a,error:i});case 7:case"end":return e.stop()}},e)})),function(e,r){return n.apply(this,arguments)}),signIn:(s=(0,f.Z)(b().mark(function e(r,t){var n,s,a;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.auth.signInWithPassword({email:r,password:t});case 2:return s=(n=e.sent).data,a=n.error,e.abrupt("return",{data:s,error:a});case 6:case"end":return e.stop()}},e)})),function(e,r){return s.apply(this,arguments)}),signInWithGoogle:(a=(0,f.Z)(b().mark(function e(r){var t,n,s;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.auth.signInWithOAuth({provider:"google",options:{redirectTo:(null==r?void 0:r.redirectTo)||"".concat(window.location.origin,"/auth/callback")}});case 2:return n=(t=e.sent).data,s=t.error,e.abrupt("return",{data:n,error:s});case 6:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)}),signOut:(i=(0,f.Z)(b().mark(function e(){var r;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.auth.signOut();case 2:return r=e.sent.error,e.abrupt("return",{error:r});case 5:case"end":return e.stop()}},e)})),function(){return i.apply(this,arguments)}),getUser:(o=(0,f.Z)(b().mark(function e(){var r,t,n;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.auth.getUser();case 2:return t=(r=e.sent).data,n=r.error,e.abrupt("return",{data:t,error:n});case 6:case"end":return e.stop()}},e)})),function(){return o.apply(this,arguments)}),getSession:(c=(0,f.Z)(b().mark(function e(){var r,t,n;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.auth.getSession();case 2:return t=(r=e.sent).data,n=r.error,e.abrupt("return",{data:t,error:n});case 6:case"end":return e.stop()}},e)})),function(){return c.apply(this,arguments)}),resetPassword:(l=(0,f.Z)(b().mark(function e(r){var t,n,s;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.auth.resetPasswordForEmail(r,{redirectTo:"https://contact-tables.org/auth/reset-password"});case 2:return n=(t=e.sent).data,s=t.error,e.abrupt("return",{data:n,error:s});case 6:case"end":return e.stop()}},e)})),function(e){return l.apply(this,arguments)}),updatePassword:(u=(0,f.Z)(b().mark(function e(r){var t,n,s;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.auth.updateUser({password:r});case 2:return n=(t=e.sent).data,s=t.error,e.abrupt("return",{data:n,error:s});case 6:case"end":return e.stop()}},e)})),function(e){return u.apply(this,arguments)})},I={getProfile:(d=(0,f.Z)(b().mark(function e(r){var t,n,s;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.from("profiles").select("*").eq("id",r).single();case 2:return n=(t=e.sent).data,s=t.error,e.abrupt("return",{data:n,error:s});case 6:case"end":return e.stop()}},e)})),function(e){return d.apply(this,arguments)}),updateProfile:(h=(0,f.Z)(b().mark(function e(r,t){var n,s,a;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.from("profiles").update(t).eq("id",r);case 2:return s=(n=e.sent).data,a=n.error,e.abrupt("return",{data:s,error:a});case 6:case"end":return e.stop()}},e)})),function(e,r){return h.apply(this,arguments)})},P={getRestaurantProfile:(p=(0,f.Z)(b().mark(function e(r){var t,n,s;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.from("restaurants").select("*").eq("user_id",r).single();case 2:return n=(t=e.sent).data,s=t.error,e.abrupt("return",{data:n,error:s});case 6:case"end":return e.stop()}},e)})),function(e){return p.apply(this,arguments)})},R={getAllUsers:(m=(0,f.Z)(b().mark(function e(){var r,t,n;return b().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.from("profiles").select("*");case 2:return t=(r=e.sent).data,n=r.error,e.abrupt("return",{data:t,error:n});case 6:case"end":return e.stop()}},e)})),function(){return m.apply(this,arguments)})}},95098:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/restaurant/login",function(){return t(85143)}])},11163:function(e,r,t){e.exports=t(11171)},13114:function(e,r,t){"use strict";t.d(r,{M:function(){return b}});var n=t(5802),s=t(92401),a=t(25364),i=t(96681),o=t(58868),c=t(240),l=t(93243),u=t(16014);class d extends s.Component{getSnapshotBeforeUpdate(e){let r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){let e=r.offsetParent,t=(0,l.R)(e)&&e.offsetWidth||0,n=this.props.sizeRef.current;n.height=r.offsetHeight||0,n.width=r.offsetWidth||0,n.top=r.offsetTop,n.left=r.offsetLeft,n.right=t-n.width-n.left}return null}componentDidUpdate(){}render(){return this.props.children}}function h({children:e,isPresent:r,anchorX:t,root:a}){let i=(0,s.useId)(),o=(0,s.useRef)(null),c=(0,s.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=(0,s.useContext)(u._);return(0,s.useInsertionEffect)(()=>{let{width:e,height:n,top:s,left:u,right:d}=c.current;if(r||!o.current||!e||!n)return;let h="left"===t?`left: ${u}`:`right: ${d}`;o.current.dataset.motionPopId=i;let p=document.createElement("style");l&&(p.nonce=l);let m=a??document.head;return m.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${n}px !important;
            ${h}px !important;
            top: ${s}px !important;
          }
        `),()=>{m.contains(p)&&m.removeChild(p)}},[r]),(0,n.jsx)(d,{isPresent:r,childRef:o,sizeRef:c,children:s.cloneElement(e,{ref:o})})}let p=({children:e,initial:r,isPresent:t,onExitComplete:a,custom:o,presenceAffectsLayout:l,mode:u,anchorX:d,root:p})=>{let x=(0,i.h)(m),f=(0,s.useId)(),g=!0,b=(0,s.useMemo)(()=>(g=!1,{id:f,initial:r,isPresent:t,custom:o,onExitComplete:e=>{for(let r of(x.set(e,!0),x.values()))if(!r)return;a&&a()},register:e=>(x.set(e,!1),()=>x.delete(e))}),[t,x,a]);return l&&g&&(b={...b}),(0,s.useMemo)(()=>{x.forEach((e,r)=>x.set(r,!1))},[t]),s.useEffect(()=>{t||x.size||!a||a()},[t]),"popLayout"===u&&(e=(0,n.jsx)(h,{isPresent:t,anchorX:d,root:p,children:e})),(0,n.jsx)(c.O.Provider,{value:b,children:e})};function m(){return new Map}var x=t(15947);let f=e=>e.key||"";function g(e){let r=[];return s.Children.forEach(e,e=>{(0,s.isValidElement)(e)&&r.push(e)}),r}let b=({children:e,custom:r,initial:t=!0,onExitComplete:c,presenceAffectsLayout:l=!0,mode:u="sync",propagate:d=!1,anchorX:h="left",root:m})=>{let[b,j]=(0,x.oO)(d),v=(0,s.useMemo)(()=>g(e),[e]),w=d&&!b?[]:v.map(f),y=(0,s.useRef)(!0),N=(0,s.useRef)(v),k=(0,i.h)(()=>new Map),[C,I]=(0,s.useState)(v),[P,R]=(0,s.useState)(v);(0,o.L)(()=>{y.current=!1,N.current=v;for(let e=0;e<P.length;e++){let r=f(P[e]);w.includes(r)?k.delete(r):!0!==k.get(r)&&k.set(r,!1)}},[P,w.length,w.join("-")]);let O=[];if(v!==C){let e=[...v];for(let r=0;r<P.length;r++){let t=P[r],n=f(t);w.includes(n)||(e.splice(r,0,t),O.push(t))}return"wait"===u&&O.length&&(e=O),R(g(e)),I(v),null}let{forceRender:E}=(0,s.useContext)(a.p);return(0,n.jsx)(n.Fragment,{children:P.map(e=>{let s=f(e),a=(!d||!!b)&&(v===P||w.includes(s));return(0,n.jsx)(p,{isPresent:a,initial:(!y.current||!!t)&&void 0,custom:r,presenceAffectsLayout:l,mode:u,root:m,onExitComplete:a?void 0:()=>{if(!k.has(s))return;k.set(s,!0);let e=!0;k.forEach(r=>{r||(e=!1)}),e&&(E?.(),R(N.current),d&&j?.(),c&&c())},anchorX:h,children:e},s)})})}}},function(e){e.O(0,[6130,3365,6058,6405,8428,300,3708,2888,9774,179],function(){return e(e.s=95098)}),_N_E=e.O()}]);