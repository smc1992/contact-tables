(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3565],{12977:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSP:function(){return p},default:function(){return g}});var n=s(59499),a=s(50029),r=s(64687),i=s.n(r),l=s(92401),c=s(11163),o=s(89681),d=s(91472),u=s(63708),m=s(17662),x=s(39920),h=s(5802);function f(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,n)}return s}function b(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?f(Object(s),!0).forEach(function(t){(0,n.Z)(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):f(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}var p=!0;function g(){var e=(0,c.useRouter)(),t=(0,l.useState)([]),s=t[0],r=t[1],f=(0,l.useState)(!0),p=f[0],g=f[1],j=(0,l.useState)({date:""}),y=j[0],N=j[1];return(0,l.useEffect)(function(){var e;(e=(0,a.Z)(i().mark(function e(){return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),e.next=4,x.eJ.getRestaurantContactTables(y);case 4:r(e.sent.contactTables||[]),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Fehler beim Abrufen der Kontakttische:",e.t0);case 11:return e.prev=11,g(!1),e.finish(11);case 14:case"end":return e.stop()}},e,null,[[0,8,11,14]])})),function(){return e.apply(this,arguments)})()},[y]),(0,h.jsxs)("div",{className:"flex flex-col min-h-screen bg-gray-50",children:[(0,h.jsx)(u.Z,{}),(0,h.jsx)("main",{className:"flex-grow container mx-auto px-4 py-8",children:(0,h.jsxs)(o.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,h.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Kontakttische in Ihrem Restaurant"}),(0,h.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:[(0,h.jsx)("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Filter"}),(0,h.jsx)("div",{className:"flex flex-wrap gap-4",children:(0,h.jsxs)("div",{className:"flex-1 min-w-[200px]",children:[(0,h.jsx)("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Datum"}),(0,h.jsxs)("div",{className:"relative",children:[(0,h.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,h.jsx)(d.vlc,{className:"text-gray-400"})}),(0,h.jsx)("input",{type:"date",id:"date",name:"date",value:y.date,onChange:function(e){var t=e.target,s=t.name,a=t.value;N(function(e){return b(b({},e),{},(0,n.Z)({},s,a))})},className:"pl-10 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]})})]}),(0,h.jsx)("div",{className:"space-y-6",children:p?(0,h.jsxs)("div",{className:"text-center py-10",children:[(0,h.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),(0,h.jsx)("p",{className:"mt-2 text-gray-600",children:"Kontakttische werden geladen..."})]}):0===s.length?(0,h.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[(0,h.jsx)(d.H33,{className:"mx-auto text-gray-400 text-4xl mb-4"}),(0,h.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Keine Kontakttische gefunden"}),(0,h.jsx)("p",{className:"text-gray-600",children:"Es wurden keine Kontakttische f\xfcr Ihr Restaurant gefunden."})]}):s.map(function(t){return(0,h.jsx)(o.E.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white rounded-lg shadow-md overflow-hidden",children:(0,h.jsxs)("div",{className:"p-6",children:[(0,h.jsxs)("div",{className:"flex justify-between items-start",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:t.title}),(0,h.jsx)("p",{className:"text-gray-600 mb-4",children:t.description}),(0,h.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600 mb-4",children:[(0,h.jsxs)("div",{className:"flex items-center",children:[(0,h.jsx)(d.vlc,{className:"mr-2 text-blue-600"}),new Date(t.datetime).toLocaleDateString("de-DE",{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})]}),(0,h.jsxs)("div",{className:"flex items-center",children:[(0,h.jsx)(d.WY8,{className:"mr-2 text-blue-600"}),t.participants.length," / ",t.maxParticipants," Teilnehmer"]})]})]}),(0,h.jsx)("div",{className:"flex items-center",children:(0,h.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat("OPEN"===t.status?"bg-green-100 text-green-800":"FULL"===t.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:"OPEN"===t.status?"Offen":"FULL"===t.status?"Voll":"Vergangen"})})]}),(0,h.jsxs)("div",{className:"mt-4 pt-4 border-t border-gray-100",children:[(0,h.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"Teilnehmer:"}),(0,h.jsx)("ul",{className:"space-y-2",children:t.participants.map(function(e){return(0,h.jsxs)("li",{className:"flex items-center text-sm",children:[(0,h.jsx)("span",{className:"w-6 h-6 rounded-full bg-blue-100 text-blue-600 flex items-center justify-center mr-2",children:e.user.name.charAt(0)}),(0,h.jsx)("span",{children:e.user.name}),e.isHost&&(0,h.jsx)("span",{className:"ml-2 px-2 py-0.5 bg-blue-100 text-blue-600 rounded text-xs",children:"Host"})]},e.id)})})]}),(0,h.jsx)("div",{className:"mt-6 flex justify-end",children:(0,h.jsx)("button",{onClick:function(){return e.push("/contact-tables/".concat(t.id))},className:"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Details anzeigen"})})]})},t.id)})})]})}),(0,h.jsx)(m.Z,{})]})}},80696:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/restaurant/contact-tables",function(){return s(12977)}])}},function(e){e.O(0,[6130,3365,6058,6405,8428,300,6308,3708,5502,2888,9774,179],function(){return e(e.s=80696)}),_N_E=e.O()}]);