(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8102],{17662:function(e,r,t){"use strict";t.d(r,{Z:function(){return d}});var s=t(41664),n=t.n(s),a=t(25675),i=t.n(a),l=t(91472),o=t(41338),c=t(5802);function d(){return(0,c.jsx)("footer",{className:"bg-gradient-to-br from-neutral-900 to-neutral-800 text-neutral-300",children:(0,c.jsxs)("div",{className:"container mx-auto py-16 px-4",children:[(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12",children:[(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsx)(n(),{href:"/",className:"inline-block",children:(0,c.jsx)("div",{className:"flex items-center space-x-3 group",children:(0,c.jsx)("div",{className:"h-12 bg-white p-2 rounded-lg overflow-hidden relative",children:(0,c.jsx)(i(),{src:"/images/logo-fixed/Logo CT quer 4c.webp",alt:"Contact Tables Logo",width:120,height:40,className:"transition-all group-hover:scale-105",priority:!0,style:{objectFit:"contain",width:"auto",height:"100%"},quality:100})})})}),(0,c.jsx)("p",{className:"text-neutral-400 leading-relaxed",children:"Wir verbinden Menschen am Restauranttisch â€“ f\xfcr echte Begegnungen und inspirierende Gespr\xe4che."})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"text-xl font-semibold text-white mb-6 border-b border-neutral-700 pb-3",children:"Entdecken"}),(0,c.jsxs)("ul",{className:"space-y-4",children:[(0,c.jsx)("li",{children:(0,c.jsxs)(n(),{href:"/restaurants",className:"flex items-center space-x-2 text-neutral-400 hover:text-primary-400 transition-colors group",children:[(0,c.jsx)(l.i63,{className:"group-hover:translate-x-1 transition-transform"}),(0,c.jsx)("span",{children:"Restaurants finden"})]})}),(0,c.jsx)("li",{children:(0,c.jsxs)(n(),{href:"/about",className:"flex items-center space-x-2 text-neutral-400 hover:text-primary-400 transition-colors group",children:[(0,c.jsx)(l.WY8,{className:"group-hover:translate-x-1 transition-transform"}),(0,c.jsx)("span",{children:"\xdcber uns"})]})}),(0,c.jsx)("li",{children:(0,c.jsxs)(n(),{href:"/restaurant/register",className:"flex items-center space-x-2 text-neutral-400 hover:text-primary-400 transition-colors group",children:[(0,c.jsx)(l.i63,{className:"group-hover:translate-x-1 transition-transform"}),(0,c.jsx)("span",{children:"Restaurant anmelden"})]})}),(0,c.jsx)("li",{children:(0,c.jsxs)(n(),{href:"/events",className:"flex items-center space-x-2 text-neutral-400 hover:text-primary-400 transition-colors group",children:[(0,c.jsx)(l.TCC,{className:"group-hover:translate-x-1 transition-transform"}),(0,c.jsx)("span",{children:"Events & Aktionen"})]})})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"text-xl font-semibold text-white mb-6 border-b border-neutral-700 pb-3",children:"Rechtliches"}),(0,c.jsxs)("ul",{className:"space-y-4",children:[(0,c.jsx)("li",{children:(0,c.jsx)(n(),{href:"/datenschutz",className:"text-neutral-400 hover:text-primary-400 transition-colors",children:"Datenschutzerkl\xe4rung"})}),(0,c.jsx)("li",{children:(0,c.jsx)(n(),{href:"/faq",className:"text-neutral-400 hover:text-primary-400 transition-colors",children:"FAQ"})}),(0,c.jsx)("li",{children:(0,c.jsx)(n(),{href:"/impressum",className:"text-neutral-400 hover:text-primary-400 transition-colors",children:"Impressum"})}),(0,c.jsx)("li",{children:(0,c.jsx)(n(),{href:"/barrierefreiheit",className:"text-neutral-400 hover:text-primary-400 transition-colors",children:"Barrierefreiheit"})})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"text-xl font-semibold text-white mb-6 border-b border-neutral-700 pb-3",children:"Kontakt"}),(0,c.jsxs)("ul",{className:"space-y-4",children:[(0,c.jsx)("li",{className:"group",children:(0,c.jsxs)("a",{href:"tel:+4915679640069",className:"flex items-center space-x-3 text-neutral-400 hover:text-primary-400 transition-colors",children:[(0,c.jsx)("div",{className:"w-8 h-8 rounded-full bg-neutral-800 group-hover:bg-primary-700 flex items-center justify-center transition-all duration-300",children:(0,c.jsx)(l.tUt,{size:16})}),(0,c.jsx)("span",{children:"+49 15679 640069"})]})}),(0,c.jsx)("li",{className:"group",children:(0,c.jsxs)(n(),{href:"/contact",className:"flex items-center space-x-3 text-neutral-400 hover:text-primary-400 transition-colors",children:[(0,c.jsx)("div",{className:"w-8 h-8 rounded-full bg-neutral-800 group-hover:bg-primary-700 flex items-center justify-center transition-all duration-300",children:(0,c.jsx)(l.Imn,{size:16})}),(0,c.jsx)("span",{children:"Nachricht absenden"})]})}),(0,c.jsx)("li",{className:"group",children:(0,c.jsxs)("a",{href:"https://www.facebook.com/contacttables/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 text-neutral-400 hover:text-primary-400 transition-colors",children:[(0,c.jsx)("div",{className:"w-8 h-8 rounded-full bg-neutral-800 group-hover:bg-primary-700 flex items-center justify-center transition-all duration-300",children:(0,c.jsx)(o.tBk,{size:16})}),(0,c.jsx)("span",{children:"Facebook"})]})}),(0,c.jsx)("li",{className:"group",children:(0,c.jsxs)("a",{href:"https://www.instagram.com/contacttables/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 text-neutral-400 hover:text-primary-400 transition-colors",children:[(0,c.jsx)("div",{className:"w-8 h-8 rounded-full bg-neutral-800 group-hover:bg-primary-700 flex items-center justify-center transition-all duration-300",children:(0,c.jsx)(o.Zf_,{size:16})}),(0,c.jsx)("span",{children:"Instagram"})]})})]})]})]}),(0,c.jsx)("div",{className:"border-t border-neutral-800 mt-16 pt-8 text-center",children:(0,c.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[(0,c.jsxs)("p",{className:"text-neutral-500",children:["\xa9 ",new Date().getFullYear()," contact-tables. Alle Rechte vorbehalten."]}),(0,c.jsxs)("p",{className:"flex items-center text-neutral-500",children:[(0,c.jsx)("span",{children:"Made with"})," ",(0,c.jsx)(l.$aX,{className:"mx-2 text-primary-500"})," ",(0,c.jsx)("span",{children:"in Germany"})]})]})})]})})}},70063:function(e,r,t){"use strict";t.d(r,{Z:function(){return i}});var s=t(92401),n=t(91472),a=t(5802);function i(e){var r=e.id,t=e.name,i=e.placeholder,l=e.value,o=e.onChange,c=e.required,d=e.className,u=e.autoComplete,m=e.disabled,p=e.minLength,h=(0,s.useState)(!1),x=h[0],f=h[1],g=(0,s.useState)(!1),b=g[0],j=g[1],y=(0,s.useRef)(null);return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{ref:y,type:x?"text":"password",id:r,name:t,placeholder:void 0===i?"Passwort eingeben":i,value:l,onChange:o,onFocus:function(){j(!0)},onBlur:function(){j(!1)},required:void 0!==c&&c,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ".concat(void 0===d?"":d),autoComplete:void 0===u?"current-password":u,disabled:void 0!==m&&m,minLength:p}),(0,a.jsx)("button",{type:"button",onClick:function(e){e.preventDefault(),f(!x),y.current&&y.current.focus()},className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none ".concat(b?"z-10":""),"aria-label":x?"Passwort verbergen":"Passwort anzeigen",tabIndex:-1,children:x?(0,a.jsx)(n.rzC,{size:20}):(0,a.jsx)(n.rDJ,{size:20})})]})}},82245:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return b}});var s=t(59499),n=t(50029),a=t(64687),i=t.n(a),l=t(92401),o=t(11163),c=t(86405),d=t(89681),u=t(91472),m=t(63708),p=t(17662),h=t(70063),x=t(5802);function f(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);r&&(s=s.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,s)}return t}function g(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?f(Object(t),!0).forEach(function(r){(0,s.Z)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function b(){var e,r=(0,o.useRouter)(),t=(0,l.useState)({name:"",email:"",password:"",confirmPassword:"",phone:"",address:"",postalCode:"",city:"",description:"",cuisine:"",capacity:"",openingHours:""}),a=t[0],f=t[1],b=(0,l.useState)(!1),j=b[0],y=b[1],v=(0,l.useState)(function(){return(0,c.createBrowserClient)("https://efmbzrmroyetcqxcwxka.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVmbWJ6cm1yb3lldGNxeGN3eGthIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc3MjkzNDgsImV4cCI6MjA2MzMwNTM0OH0.ohJQapQUce_nuK0Ra30WUQGfchrSG3ZTx43jxV0f0I4")})[0],N=(0,l.useState)({type:null,message:""}),w=N[0],C=N[1],k=(e=(0,n.Z)(i().mark(function e(r){var t,s,n;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),C({type:null,message:""}),y(!0),!(a.password!==a.confirmPassword)){e.next=7;break}return C({type:"error",message:"Die Passw\xf6rter stimmen nicht \xfcberein."}),y(!1),e.abrupt("return");case 7:return e.prev=7,e.next=10,fetch("/api/auth/register-user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:a.name,email:a.email,password:a.password,role:"RESTAURANT",phone:a.phone,address:a.address,postalCode:a.postalCode,city:a.city,description:a.description,cuisine:a.cuisine,capacity:parseInt(a.capacity,10)||0,openingHours:a.openingHours})});case 10:return t=e.sent,e.next=13,t.json();case 13:if(s=e.sent,t.ok){e.next=16;break}throw Error(s.message||"Ein Fehler bei der Registrierung ist aufgetreten.");case 16:return e.next=18,v.auth.signInWithPassword({email:a.email,password:a.password});case 18:if(!(n=e.sent.error)){e.next=22;break}throw Error("Anmeldung nach Registrierung fehlgeschlagen: ".concat(n.message));case 22:C({type:"success",message:"Erfolgreich registriert und angemeldet! Die Weiterleitung wird vorbereitet..."}),e.next=28;break;case 25:e.prev=25,e.t0=e.catch(7),C({type:"error",message:e.t0 instanceof Error?e.t0.message:"Ein unerwarteter Fehler ist aufgetreten"});case 28:return e.prev=28,y(!1),e.finish(28);case 31:case"end":return e.stop()}},e,null,[[7,25,28,31]])})),function(r){return e.apply(this,arguments)}),E=function(e){var r=e.target,t=r.name,n=r.value;f(function(e){return g(g({},e),{},(0,s.Z)({},t,n))})};return(0,l.useEffect)(function(){var e=v.auth.onAuthStateChange(function(e,t){if(console.log("[Auth State Change] Event:",e),t){var s;console.log("[Auth State Change] Session User:",t.user),console.log("[Auth State Change] User Metadata:",t.user.user_metadata),console.log("[Auth State Change] User Role:",null===(s=t.user.user_metadata)||void 0===s?void 0:s.role)}"SIGNED_IN"===e&&(null==t?void 0:t.user.user_metadata.role)==="RESTAURANT"&&(console.log("[Auth State Change] Role-Check PASSED. Redirecting to dashboard..."),r.push("/restaurant/dashboard"))}).data.subscription;return function(){e.unsubscribe()}},[r,v]),(0,x.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,x.jsx)(m.Z,{}),(0,x.jsx)("main",{className:"flex-grow pt-24",children:(0,x.jsx)("div",{className:"container mx-auto px-4 py-12",children:(0,x.jsx)("div",{className:"max-w-3xl mx-auto",children:(0,x.jsx)(d.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-xl shadow-xl overflow-hidden",children:(0,x.jsxs)("div",{className:"p-8 md:p-12",children:[(0,x.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Restaurant registrieren"}),(0,x.jsx)("p",{className:"text-gray-600 mb-8",children:"Werden Sie Teil unserer Community und erreichen Sie neue G\xe4ste."}),w.type&&(0,x.jsx)(d.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"p-4 rounded-lg mb-6 ".concat("success"===w.type?"bg-green-50 text-green-800":"bg-red-50 text-red-800"),children:(0,x.jsxs)("div",{className:"flex items-center",children:["success"===w.type?(0,x.jsx)(u.UgA,{className:"w-5 h-5 mr-2"}):(0,x.jsx)(u.bcx,{className:"w-5 h-5 mr-2"}),w.message]})}),(0,x.jsxs)("form",{onSubmit:k,className:"space-y-6",children:[(0,x.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Restaurant Name *"}),(0,x.jsxs)("div",{className:"relative",children:[(0,x.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,x.jsx)(u.fzv,{className:"text-gray-400"})}),(0,x.jsx)("input",{type:"text",id:"name",name:"name",required:!0,value:a.name,onChange:E,className:"w-full pl-10 px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"E-Mail *"}),(0,x.jsxs)("div",{className:"relative",children:[(0,x.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,x.jsx)(u.Imn,{className:"text-gray-400"})}),(0,x.jsx)("input",{type:"email",id:"email",name:"email",required:!0,value:a.email,onChange:E,className:"w-full pl-10 px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Passwort *"}),(0,x.jsx)(h.Z,{id:"password",name:"password",required:!0,value:a.password,onChange:E,className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"}),(0,x.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Mindestens 8 Zeichen"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Passwort best\xe4tigen *"}),(0,x.jsx)(h.Z,{id:"confirmPassword",name:"confirmPassword",required:!0,value:a.confirmPassword,onChange:E,className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:"Telefon *"}),(0,x.jsxs)("div",{className:"relative",children:[(0,x.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,x.jsx)(u.tUt,{className:"text-gray-400"})}),(0,x.jsx)("input",{type:"tel",id:"phone",name:"phone",required:!0,value:a.phone,onChange:E,className:"w-full pl-10 px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),(0,x.jsxs)("div",{className:"md:col-span-2",children:[(0,x.jsx)("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-2",children:"Adresse *"}),(0,x.jsxs)("div",{className:"relative",children:[(0,x.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,x.jsx)(u.i63,{className:"text-gray-400"})}),(0,x.jsx)("input",{type:"text",id:"address",name:"address",required:!0,value:a.address,onChange:E,className:"w-full pl-10 px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{htmlFor:"postalCode",className:"block text-sm font-medium text-gray-700 mb-2",children:"PLZ *"}),(0,x.jsx)("input",{type:"text",id:"postalCode",name:"postalCode",required:!0,value:a.postalCode,onChange:E,className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700 mb-2",children:"Ort *"}),(0,x.jsx)("input",{type:"text",id:"city",name:"city",required:!0,value:a.city,onChange:E,className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{htmlFor:"cuisine",className:"block text-sm font-medium text-gray-700 mb-2",children:"K\xfcche / Kategorie *"}),(0,x.jsxs)("div",{className:"relative",children:[(0,x.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,x.jsx)(u.E25,{className:"text-gray-400"})}),(0,x.jsx)("input",{type:"text",id:"cuisine",name:"cuisine",required:!0,value:a.cuisine,onChange:E,className:"w-full pl-10 px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"z.B. Italienisch, Mediterran"})]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{htmlFor:"capacity",className:"block text-sm font-medium text-gray-700 mb-2",children:"Kapazit\xe4t (Sitzpl\xe4tze) *"}),(0,x.jsxs)("div",{className:"relative",children:[(0,x.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,x.jsx)(u.WY8,{className:"text-gray-400"})}),(0,x.jsx)("input",{type:"number",id:"capacity",name:"capacity",required:!0,value:a.capacity,onChange:E,className:"w-full pl-10 px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent"})]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{htmlFor:"openingHours",className:"block text-sm font-medium text-gray-700 mb-2",children:"\xd6ffnungszeiten *"}),(0,x.jsxs)("div",{className:"relative",children:[(0,x.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,x.jsx)(u.TCC,{className:"text-gray-400"})}),(0,x.jsx)("input",{type:"text",id:"openingHours",name:"openingHours",required:!0,value:a.openingHours,onChange:E,className:"w-full pl-10 px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"z.B. Mo-Fr 10-22 Uhr, Sa-So 12-22 Uhr"})]})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-2",children:"Beschreibung *"}),(0,x.jsx)("textarea",{id:"description",name:"description",required:!0,value:a.description,onChange:E,rows:4,className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Beschreiben Sie Ihr Restaurant, die Atmosph\xe4re und was Ihre G\xe4ste erwartet..."})]})]}),(0,x.jsx)("div",{className:"mt-6",children:(0,x.jsx)("button",{type:"submit",disabled:j,className:"w-full bg-primary-600 hover:bg-primary-700 text-white font-medium py-3 px-4 rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 ".concat(j?"opacity-70 cursor-not-allowed":""),children:j?(0,x.jsxs)("span",{className:"flex items-center justify-center",children:[(0,x.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,x.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,x.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Registrierung wird gesendet..."]}):"Registrierung absenden"})}),(0,x.jsx)("div",{className:"mt-4 text-center",children:(0,x.jsxs)("p",{className:"text-sm text-gray-600",children:["Bereits registriert? ",(0,x.jsx)("a",{href:"/restaurant/login",className:"text-primary-600 hover:text-primary-500 font-medium",children:"Hier anmelden"})]})})]})]})})})})}),(0,x.jsx)(p.Z,{})]})}},56976:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/restaurant/register",function(){return t(82245)}])},11163:function(e,r,t){e.exports=t(11171)},13114:function(e,r,t){"use strict";t.d(r,{M:function(){return b}});var s=t(5802),n=t(92401),a=t(25364),i=t(96681),l=t(58868),o=t(240),c=t(93243),d=t(16014);class u extends n.Component{getSnapshotBeforeUpdate(e){let r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){let e=r.offsetParent,t=(0,c.R)(e)&&e.offsetWidth||0,s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft,s.right=t-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function m({children:e,isPresent:r,anchorX:t,root:a}){let i=(0,n.useId)(),l=(0,n.useRef)(null),o=(0,n.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=(0,n.useContext)(d._);return(0,n.useInsertionEffect)(()=>{let{width:e,height:s,top:n,left:d,right:u}=o.current;if(r||!l.current||!e||!s)return;let m="left"===t?`left: ${d}`:`right: ${u}`;l.current.dataset.motionPopId=i;let p=document.createElement("style");c&&(p.nonce=c);let h=a??document.head;return h.appendChild(p),p.sheet&&p.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${s}px !important;
            ${m}px !important;
            top: ${n}px !important;
          }
        `),()=>{h.contains(p)&&h.removeChild(p)}},[r]),(0,s.jsx)(u,{isPresent:r,childRef:l,sizeRef:o,children:n.cloneElement(e,{ref:l})})}let p=({children:e,initial:r,isPresent:t,onExitComplete:a,custom:l,presenceAffectsLayout:c,mode:d,anchorX:u,root:p})=>{let x=(0,i.h)(h),f=(0,n.useId)(),g=!0,b=(0,n.useMemo)(()=>(g=!1,{id:f,initial:r,isPresent:t,custom:l,onExitComplete:e=>{for(let r of(x.set(e,!0),x.values()))if(!r)return;a&&a()},register:e=>(x.set(e,!1),()=>x.delete(e))}),[t,x,a]);return c&&g&&(b={...b}),(0,n.useMemo)(()=>{x.forEach((e,r)=>x.set(r,!1))},[t]),n.useEffect(()=>{t||x.size||!a||a()},[t]),"popLayout"===d&&(e=(0,s.jsx)(m,{isPresent:t,anchorX:u,root:p,children:e})),(0,s.jsx)(o.O.Provider,{value:b,children:e})};function h(){return new Map}var x=t(15947);let f=e=>e.key||"";function g(e){let r=[];return n.Children.forEach(e,e=>{(0,n.isValidElement)(e)&&r.push(e)}),r}let b=({children:e,custom:r,initial:t=!0,onExitComplete:o,presenceAffectsLayout:c=!0,mode:d="sync",propagate:u=!1,anchorX:m="left",root:h})=>{let[b,j]=(0,x.oO)(u),y=(0,n.useMemo)(()=>g(e),[e]),v=u&&!b?[]:y.map(f),N=(0,n.useRef)(!0),w=(0,n.useRef)(y),C=(0,i.h)(()=>new Map),[k,E]=(0,n.useState)(y),[S,P]=(0,n.useState)(y);(0,l.L)(()=>{N.current=!1,w.current=y;for(let e=0;e<S.length;e++){let r=f(S[e]);v.includes(r)?C.delete(r):!0!==C.get(r)&&C.set(r,!1)}},[S,v.length,v.join("-")]);let R=[];if(y!==k){let e=[...y];for(let r=0;r<S.length;r++){let t=S[r],s=f(t);v.includes(s)||(e.splice(r,0,t),R.push(t))}return"wait"===d&&R.length&&(e=R),P(g(e)),E(y),null}let{forceRender:I}=(0,n.useContext)(a.p);return(0,s.jsx)(s.Fragment,{children:S.map(e=>{let n=f(e),a=(!u||!!b)&&(y===S||v.includes(n));return(0,s.jsx)(p,{isPresent:a,initial:(!N.current||!!t)&&void 0,custom:r,presenceAffectsLayout:c,mode:d,root:h,onExitComplete:a?void 0:()=>{if(!C.has(n))return;C.set(n,!0);let e=!0;C.forEach(r=>{r||(e=!1)}),e&&(I?.(),P(w.current),u&&j?.(),o&&o())},anchorX:m,children:e},n)})})}}},function(e){e.O(0,[6130,3365,6058,6405,8428,300,3708,2888,9774,179],function(){return e(e.s=56976)}),_N_E=e.O()}]);