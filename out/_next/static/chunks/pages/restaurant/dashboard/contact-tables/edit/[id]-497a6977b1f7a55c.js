(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9572,116,2677],{13082:function(e,t,r){"use strict";r.d(t,{w_:function(){return u}});var n=r(92401),a={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i=n.createContext&&n.createContext(a),s=["attr","size","title"];function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach(function(t){var n,a;n=t,a=r[t],(n=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(n))in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function u(e){return function(t){return n.createElement(d,o({attr:l({},e.attr)},t),function e(t){return t&&t.map(function(t,r){return n.createElement(t.tag,l({key:r},t.attr),e(t.child))})}(e.child))}}function d(e){var t=function(t){var r,a=e.attr,i=e.size,c=e.title,u=function(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}(e,s),d=i||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),n.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,a,u,{className:r,style:l(l({color:e.color||t.color},t.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),c&&n.createElement("title",null,c),e.children)};return void 0!==i?n.createElement(i.Consumer,null,function(e){return t(e)}):t(a)}},68767:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"AmpStateContext",{enumerable:!0,get:function(){return n}});var n=r(38754)._(r(92401)).default.createContext({})},11057:function(e,t){"use strict";function r(e){var t=void 0===e?{}:e,r=t.ampFirst,n=t.hybrid,a=t.hasQuery;return void 0!==r&&r||void 0!==n&&n&&void 0!==a&&a}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isInAmpMode",{enumerable:!0,get:function(){return r}})},74394:function(e,t,r){"use strict";var n=r(20968);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return g},defaultHead:function(){return p}});var i=r(38754),s=r(61757),o=r(5802),c=s._(r(92401)),l=i._(r(55562)),u=r(68767),d=r(84376),f=r(11057);function p(e){void 0===e&&(e=!1);var t=[(0,o.jsx)("meta",{charSet:"utf-8"})];return e||t.push((0,o.jsx)("meta",{name:"viewport",content:"width=device-width"})),t}function m(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===c.default.Fragment?e.concat(c.default.Children.toArray(t.props.children).reduce(function(e,t){return"string"==typeof t||"number"==typeof t?e:e.concat(t)},[])):e.concat(t)}r(93678);var b=["name","httpEquiv","charSet","itemProp"];function h(e,t){var r,i,s,o,l=t.inAmpMode;return e.reduce(m,[]).reverse().concat(p(l).reverse()).filter((r=new Set,i=new Set,s=new Set,o={},function(e){var t=!0,n=!1;if(e.key&&"number"!=typeof e.key&&e.key.indexOf("$")>0){n=!0;var a=e.key.slice(e.key.indexOf("$")+1);r.has(a)?t=!1:r.add(a)}switch(e.type){case"title":case"base":i.has(e.type)?t=!1:i.add(e.type);break;case"meta":for(var c=0,l=b.length;c<l;c++){var u=b[c];if(e.props.hasOwnProperty(u)){if("charSet"===u)s.has(u)?t=!1:s.add(u);else{var d=e.props[u],f=o[u]||new Set;("name"!==u||!n)&&f.has(d)?t=!1:(f.add(d),o[u]=f)}}}}return t})).reverse().map(function(e,t){var r=e.key||t;if(!l&&"link"===e.type&&e.props.href&&["https://fonts.googleapis.com/css","https://use.typekit.net/"].some(function(t){return e.props.href.startsWith(t)})){var i=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e.props||{});return i["data-href"]=i.href,i.href=void 0,i["data-optimized-fonts"]=!0,c.default.cloneElement(e,i)}return c.default.cloneElement(e,{key:r})})}var g=function(e){var t=e.children,r=(0,c.useContext)(u.AmpStateContext),n=(0,c.useContext)(d.HeadManagerContext);return(0,o.jsx)(l.default,{reduceComponentsToState:h,headManager:n,inAmpMode:(0,f.isInAmpMode)(r),children:t})};("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},55562:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return s}});var n=r(92401),a=n.useLayoutEffect,i=n.useEffect;function s(e){var t=e.headManager,r=e.reduceComponentsToState;function s(){if(t&&t.mountedInstances){var a=n.Children.toArray(Array.from(t.mountedInstances).filter(Boolean));t.updateHead(r(a,e))}}return a(function(){var r;return null==t||null==(r=t.mountedInstances)||r.add(e.children),function(){var r;null==t||null==(r=t.mountedInstances)||r.delete(e.children)}}),a(function(){return t&&(t._pendingUpdate=s),function(){t&&(t._pendingUpdate=s)}}),i(function(){return t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null),function(){t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null)}}),null}},93678:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"warnOnce",{enumerable:!0,get:function(){return r}});var r=function(e){}},71376:function(e,t,r){"use strict";r.d(t,{Z:function(){return l}});var n=r(92401),a=r(41664),i=r.n(a),s=r(11163),o=r(91472),c=r(5802);function l(e){var t=e.activeItem,r=void 0===t?"dashboard":t;(0,s.useRouter)();var a=(0,n.useState)(!1),l=a[0],u=a[1],d=[{icon:o.m6D,label:"Dashboard",id:"dashboard",path:"/restaurant/dashboard"},{icon:o.vPQ,label:"Profil bearbeiten",id:"profile",path:"/restaurant/dashboard/profile"},{icon:o.LFN,label:"Bilder verwalten",id:"images",path:"/restaurant/dashboard/images"},{icon:o.vlc,label:"Contact Tables",id:"tables",path:"/restaurant/dashboard/tables"},{icon:o.WY8,label:"Reservierungen",id:"reservations",path:"/restaurant/dashboard/reservations"},{icon:o.XiQ,label:"Abonnement",id:"subscription",path:"/restaurant/dashboard/subscription"},{icon:o.NOg,label:"Vertrag & Dokumente",id:"documents",path:"/restaurant/dashboard/documents"},{icon:o.nbt,label:"Einstellungen",id:"settings",path:"/restaurant/dashboard/settings"}];return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"fixed bottom-4 right-4 md:hidden z-30",children:(0,c.jsx)("button",{onClick:function(){return u(!l)},className:"bg-primary-600 text-white p-3 rounded-full shadow-lg",children:l?(0,c.jsx)(o.q5L,{size:24}):(0,c.jsx)(o.cur,{size:24})})}),l&&(0,c.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 md:hidden",style:{pointerEvents:"auto"},children:(0,c.jsxs)("div",{className:"fixed inset-y-0 left-0 w-64 bg-white shadow-xl z-30 overflow-y-auto",children:[(0,c.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Restaurant"}),(0,c.jsx)("button",{onClick:function(){return u(!1)},className:"text-gray-500 hover:text-gray-700",children:(0,c.jsx)(o.q5L,{size:24})})]})}),(0,c.jsx)("nav",{className:"p-4",children:(0,c.jsx)("ul",{className:"space-y-2",children:d.map(function(e){var t=e.icon,n=r===e.id;return(0,c.jsx)("li",{children:(0,c.jsxs)(i(),{href:e.path,className:"flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ".concat(n?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-100"),onClick:function(){return u(!1)},children:[(0,c.jsx)(t,{size:20}),(0,c.jsx)("span",{children:e.label})]})},e.id)})})})]})}),(0,c.jsx)("aside",{className:"hidden md:block w-64 bg-white shadow-md min-h-screen pt-20",children:(0,c.jsx)("nav",{className:"p-4",children:(0,c.jsx)("ul",{className:"space-y-2",children:d.map(function(e){var t=e.icon,n=r===e.id;return(0,c.jsx)("li",{children:(0,c.jsxs)(i(),{href:e.path,className:"flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ".concat(n?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-100"),children:[(0,c.jsx)(t,{size:20}),(0,c.jsx)("span",{children:e.label})]})},e.id)})})})})]})}},18650:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return m},default:function(){return b}});var n=r(50029),a=r(64687),i=r.n(a),s=r(92401),o=r(11163),c=r(91472),l=r(9008),u=r.n(l),d=r(71376),f=r(82249),p=r(5802),m=!0;function b(e){var t,r=e.event,a=(0,o.useRouter)(),l=(0,s.useState)(r.title),m=l[0],b=l[1],h=(0,s.useState)(r.description||""),g=h[0],y=h[1],x=(0,s.useState)(new Date(r.datetime).toISOString().slice(0,16)),v=x[0],j=x[1],w=(0,s.useState)(r.maxParticipants),O=w[0],N=w[1],P=(0,s.useState)(r.price),k=P[0],S=P[1],_=(0,s.useState)(r.isPublic),C=_[0],E=_[1],A=(0,s.useState)(!1),M=A[0],D=A[1],I=(t=(0,n.Z)(i().mark(function e(t){var n,s,o;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),D(!0),n=f.default.loading("\xc4nderungen werden gespeichert..."),e.next=5,fetch("/api/restaurant/events/update",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({eventId:r.id,title:m,description:g,datetime:new Date(v).toISOString(),maxParticipants:Number(O),price:Number(k),isPublic:C})});case 5:if(s=e.sent,D(!1),f.default.dismiss(n),!s.ok){e.next=13;break}f.default.success("\xc4nderungen erfolgreich gespeichert!"),a.push("/restaurant/dashboard/contact-tables"),e.next=17;break;case 13:return e.next=15,s.json();case 15:o=e.sent,f.default.error(o.message||"Ein Fehler ist aufgetreten.");case 17:case"end":return e.stop()}},e)})),function(e){return t.apply(this,arguments)});return(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(u(),{children:(0,p.jsx)("title",{children:"Kontakttisch bearbeiten | contact.tables"})}),(0,p.jsxs)("div",{className:"flex min-h-screen bg-gray-50",children:[(0,p.jsx)(d.Z,{}),(0,p.jsx)("main",{className:"flex-1 p-4 sm:p-6 lg:p-8",children:(0,p.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,p.jsxs)("div",{className:"bg-white p-6 sm:p-8 rounded-2xl shadow-lg",children:[(0,p.jsxs)("h1",{className:"text-3xl font-bold text-gray-900 mb-6 flex items-center",children:[(0,p.jsx)(c.vPQ,{className:"mr-3 text-primary-500"}),"Kontakttisch bearbeiten"]}),(0,p.jsxs)("form",{onSubmit:I,className:"space-y-6",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:"Titel"}),(0,p.jsx)("input",{type:"text",id:"title",value:m,onChange:function(e){return b(e.target.value)},required:!0,className:"mt-1 block w-full px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent sm:text-sm"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Beschreibung"}),(0,p.jsx)("textarea",{id:"description",value:g,onChange:function(e){return y(e.target.value)},rows:4,className:"mt-1 block w-full px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent sm:text-sm"})]}),(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{htmlFor:"datetime",className:"block text-sm font-medium text-gray-700 mb-1",children:"Datum & Uhrzeit"}),(0,p.jsx)("input",{type:"datetime-local",id:"datetime",value:v,onChange:function(e){return j(e.target.value)},required:!0,className:"mt-1 block w-full px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent sm:text-sm"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{htmlFor:"maxParticipants",className:"block text-sm font-medium text-gray-700 mb-1",children:"Max. Teilnehmer"}),(0,p.jsx)("input",{type:"number",id:"maxParticipants",value:O,onChange:function(e){return N(parseInt(e.target.value,10))},required:!0,min:"2",className:"mt-1 block w-full px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent sm:text-sm"})]})]}),(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{htmlFor:"price",className:"block text-sm font-medium text-gray-700 mb-1",children:"Preis (€)"}),(0,p.jsx)("input",{type:"number",id:"price",value:k,onChange:function(e){return S(parseFloat(e.target.value))},required:!0,min:"0",step:"0.01",className:"mt-1 block w-full px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent sm:text-sm"})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sichtbarkeit"}),(0,p.jsxs)("div",{className:"mt-2 flex items-center space-x-4",children:[(0,p.jsxs)("label",{className:"inline-flex items-center",children:[(0,p.jsx)("input",{type:"radio",className:"form-radio text-primary-600",name:"isPublic",value:"true",checked:!0===C,onChange:function(){return E(!0)}}),(0,p.jsx)("span",{className:"ml-2",children:"\xd6ffentlich"})]}),(0,p.jsxs)("label",{className:"inline-flex items-center",children:[(0,p.jsx)("input",{type:"radio",className:"form-radio text-primary-600",name:"isPublic",value:"false",checked:!1===C,onChange:function(){return E(!1)}}),(0,p.jsx)("span",{className:"ml-2",children:"Privat"})]})]})]})]}),(0,p.jsxs)("div",{className:"pt-4 flex justify-end space-x-3",children:[(0,p.jsx)("button",{type:"button",onClick:function(){return a.back()},className:"py-2 px-6 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Abbrechen"}),(0,p.jsxs)("button",{type:"submit",disabled:M,className:"inline-flex justify-center items-center py-2 px-6 border border-transparent shadow-sm text-sm font-medium rounded-lg text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:[M&&(0,p.jsx)(c.dAq,{className:"animate-spin -ml-1 mr-3 h-5 w-5"}),M?"Speichert...":"\xc4nderungen speichern"]})]})]})]})})})]})]})}},79751:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/restaurant/dashboard/contact-tables/edit/[id]",function(){return r(18650)}])},9008:function(e,t,r){e.exports=r(74394)},11163:function(e,t,r){e.exports=r(11171)},52587:function(e,t,r){"use strict";function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}r.d(t,{Z:function(){return n}})},28811:function(e,t,r){"use strict";function n(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}r.d(t,{Z:function(){return n}})},90116:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(52587),a=r(28811),i=r(2937);function s(e){return function(e){if(Array.isArray(e))return(0,n.Z)(e)}(e)||(0,a.Z)(e)||(0,i.Z)(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},2937:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(52587);function a(e,t){if(e){if("string"==typeof e)return(0,n.Z)(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return(0,n.Z)(e,t)}}}},function(e){e.O(0,[6130,6058,2249,2888,9774,179],function(){return e(e.s=79751)}),_N_E=e.O()}]);