(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8769],{73162:function(e,t,n){"use strict";var r=n(92401),a=n(91472),s=n(13114),i=n(89681),c=n(5802);t.Z=function(){var e=(0,r.useState)(!1),t=e[0],n=e[1];(0,r.useEffect)(function(){sessionStorage.getItem("launchPopupClosed")||n(!0)},[]);var l=function(){sessionStorage.setItem("launchPopupClosed","true"),n(!1)};return(0,c.jsx)(s.M,{children:t&&(0,c.jsx)(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:(0,c.jsxs)(i.E.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},transition:{type:"spring",stiffness:300,damping:30},className:"relative bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 text-center",children:[(0,c.jsx)("button",{onClick:l,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-700 transition-colors","aria-label":"Popup schlie\xdfen",children:(0,c.jsx)(a.q5L,{size:24})}),(0,c.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-3",children:"Bald geht's richtig los!"}),(0,c.jsxs)("p",{className:"text-gray-600 leading-relaxed",children:["Der offizielle Launch von contact-tables ist im",(0,c.jsx)("span",{className:"font-semibold text-primary-600",children:" Oktober 2025"}),".",(0,c.jsx)("br",{}),"Du kannst dich aber schon jetzt registrieren und Teil unserer Community werden."]}),(0,c.jsx)("p",{className:"text-gray-500 leading-relaxed mt-4 text-sm",children:"Dein Tipp z\xe4hlt! Verrate uns gerne deine Lieblingsrestaurants in deiner Stadt, die du gerne dabei h\xe4ttest oder die perfekt zu contact-tables passen k\xf6nnten. Vielen Dank!"}),(0,c.jsx)("div",{className:"mt-6",children:(0,c.jsx)("a",{href:"/auth/register",className:"bg-primary-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-primary-700 transition-colors w-full sm:w-auto inline-block",onClick:l,children:"Jetzt registrieren"})})]})})})}},52712:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}}),n(92401);var r=n(9008),a=n.n(r),s=n(11163),i=n(63708),c=n(17662),l=n(73162),o=n(5802);function u(e){var t=e.children,n=e.title,r=e.description,u=e.className,d=!["/auth/login","/auth/register","/auth/update-password"].includes((0,s.useRouter)().pathname);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"flex flex-col min-h-screen bg-neutral-50 font-sans text-secondary-800",children:[(0,o.jsxs)(a(),{children:[(0,o.jsx)("title",{children:void 0===n?"contact-tables":n}),r&&(0,o.jsx)("meta",{name:"description",content:r}),(0,o.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,o.jsx)(i.Z,{}),(0,o.jsx)("main",{className:"flex-grow ".concat(u||""),children:(0,o.jsx)("div",{className:"w-full",children:t})}),d&&(0,o.jsx)(c.Z,{})]}),(0,o.jsx)(l.Z,{})]})}},80175:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return f}});var r=n(59499),a=n(50029),s=n(64687),i=n.n(s),c=n(92401),l=n(11163),o=n(65289),u=n(52712),d=n(39920),m=n(91472),h=n(5802);function x(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?x(Object(n),!0).forEach(function(t){(0,r.Z)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(){var e,t,n=(0,o.useAuth)().user,r=(0,c.useState)(!0),s=r[0],x=r[1],f=(0,c.useState)([]),p=f[0],b=f[1],j=(0,c.useState)(null),v=j[0],y=j[1],N=(0,l.useRouter)();(0,c.useEffect)(function(){var e;(e=(0,a.Z)(i().mark(function e(){var t,r,a;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=3;break}return N.push("/auth/login"),e.abrupt("return");case 3:return e.prev=3,x(!0),e.next=7,d.BG.getNotifications({});case 7:r=(t=e.sent).data,(a=t.error)?(console.error("Fehler beim Laden der Benachrichtigungen:",a),y("Benachrichtigungen konnten nicht geladen werden.")):r&&Array.isArray(r.notifications)?b(r.notifications):(console.log("Keine Benachrichtigungen gefunden oder falsches Datenformat, verwende Demo-Daten"),b([{id:1,type:"event_invitation",title:"Neue Event-Einladung",message:"Sie wurden zu einem gemeinsamen Abendessen im Restaurant Bella Italia eingeladen.",date:"2025-05-30T10:30:00",read:!1,actionUrl:"/events/1"},{id:2,type:"event_reminder",title:"Event-Erinnerung",message:'Ihr Event "Mittagessen mit neuen Kontakten" findet morgen um 12:30 Uhr statt.',date:"2025-05-29T15:45:00",read:!0,actionUrl:"/events/2"},{id:3,type:"new_message",title:"Neue Nachricht",message:"Sie haben eine neue Nachricht von Maria Schmidt erhalten.",date:"2025-05-28T09:15:00",read:!1,actionUrl:"/messages/3"},{id:4,type:"system",title:"Willkommen bei Contact Tables",message:"Vielen Dank f\xfcr Ihre Registrierung! Entdecken Sie Restaurants und kn\xfcpfen Sie neue Kontakte.",date:"2025-05-27T14:00:00",read:!0,actionUrl:null}])),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.error("Unerwarteter Fehler beim Laden der Benachrichtigungen:",e.t0),y("Ein unerwarteter Fehler ist aufgetreten.");case 17:return e.prev=17,x(!1),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[3,13,17,20]])})),function(){return e.apply(this,arguments)})()},[n,N]);var w=function(e){var t=new Date(e),n=Math.floor(Math.abs(new Date().getTime()-t.getTime())/864e5);return 0===n?"Heute, ".concat(t.toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})):1===n?"Gestern, ".concat(t.toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})):t.toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"})},k=(e=(0,a.Z)(i().mark(function e(t){var n;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d.BG.markNotificationAsRead(t.toString());case 3:(n=e.sent.error)?console.error("Fehler beim Markieren der Benachrichtigung als gelesen:",n):b(p.map(function(e){return e.id===t?g(g({},e),{},{read:!0}):e})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Unerwarteter Fehler:",e.t0);case 11:case"end":return e.stop()}},e,null,[[0,8]])})),function(t){return e.apply(this,arguments)}),E=(t=(0,a.Z)(i().mark(function e(){var t;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,d.BG.markAllNotificationsAsRead();case 5:(t=e.sent.error)?console.error("Fehler beim Markieren aller Benachrichtigungen als gelesen:",t):b(p.map(function(e){return g(g({},e),{},{read:!0})})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Unerwarteter Fehler:",e.t0);case 13:case"end":return e.stop()}},e,null,[[0,10]])})),function(){return t.apply(this,arguments)}),O=function(e){switch(e){case"event_invitation":case"event_reminder":return(0,h.jsx)(m.vlc,{className:"text-blue-500"});case"new_message":return(0,h.jsx)(m.IC0,{className:"text-green-500"});case"system":return(0,h.jsx)(m.H33,{className:"text-purple-500"});default:return(0,h.jsx)(m.vWP,{className:"text-gray-500"})}},D=p.filter(function(e){return!e.read}).length;return s?(0,h.jsx)(u.Z,{children:(0,h.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,h.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})})}):v?(0,h.jsx)(u.Z,{title:"Benachrichtigungen",children:(0,h.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 max-w-2xl mx-auto",children:(0,h.jsxs)("div",{className:"text-center py-8",children:[(0,h.jsx)(m.bcx,{className:"mx-auto text-4xl text-red-500 mb-4"}),(0,h.jsx)("h3",{className:"text-xl font-medium mb-2",children:"Fehler"}),(0,h.jsx)("p",{className:"text-gray-500 mb-6",children:v}),(0,h.jsx)("button",{onClick:function(){return window.location.reload()},className:"px-4 py-2 bg-primary text-white rounded hover:bg-primary-dark transition",children:"Erneut versuchen"})]})})}):(0,h.jsx)(u.Z,{title:"Benachrichtigungen",children:(0,h.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 max-w-2xl mx-auto",children:[(0,h.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,h.jsxs)("div",{className:"flex items-center",children:[(0,h.jsx)(m.vWP,{className:"text-primary mr-2 text-xl"}),D>0&&(0,h.jsxs)("span",{className:"ml-2 bg-primary text-white text-xs font-bold px-2 py-1 rounded-full",children:[D," neu"]})]}),D>0&&(0,h.jsxs)("button",{onClick:E,className:"text-sm text-primary hover:text-primary-dark flex items-center",children:[(0,h.jsx)(m.UgA,{className:"mr-1"})," Alle als gelesen markieren"]})]}),p.length>0?(0,h.jsx)("div",{className:"divide-y",children:p.map(function(e){return(0,h.jsx)("div",{className:"py-4 ".concat(e.read?"":"bg-blue-50"),children:(0,h.jsxs)("div",{className:"flex",children:[(0,h.jsx)("div",{className:"flex-shrink-0 pt-1",children:O(e.type)}),(0,h.jsxs)("div",{className:"ml-4 flex-grow",children:[(0,h.jsxs)("div",{className:"flex justify-between",children:[(0,h.jsx)("h3",{className:"font-medium ".concat(e.read?"":"font-semibold"),children:e.title}),(0,h.jsx)("span",{className:"text-xs text-gray-500",children:w(e.date)})]}),(0,h.jsx)("p",{className:"text-gray-600 mt-1",children:e.message}),(0,h.jsxs)("div",{className:"mt-2 flex justify-between",children:[e.actionUrl&&(0,h.jsx)("button",{onClick:function(){return N.push(e.actionUrl)},className:"text-sm text-primary hover:text-primary-dark",children:"Details anzeigen"}),!e.read&&(0,h.jsx)("button",{onClick:function(){return k(e.id)},className:"text-sm text-gray-500 hover:text-gray-700",children:"Als gelesen markieren"})]})]})]})},e.id)})}):(0,h.jsxs)("div",{className:"text-center py-12",children:[(0,h.jsx)(m.vWP,{className:"mx-auto text-4xl text-gray-300 mb-4"}),(0,h.jsx)("h3",{className:"text-xl font-medium mb-2",children:"Keine Benachrichtigungen"}),(0,h.jsx)("p",{className:"text-gray-500 mb-6",children:"Sie haben keine neuen Benachrichtigungen."})]})]})})}},19066:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/notifications",function(){return n(80175)}])},9008:function(e,t,n){e.exports=n(74394)}},function(e){e.O(0,[6130,3365,6058,6405,8428,300,6308,3708,5502,2888,9774,179],function(){return e(e.s=19066)}),_N_E=e.O()}]);