(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[577],{95443:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var s=r(92401),n=r(41664),a=r.n(n),i=r(11163),l=r(89681),o=r(91472),c=r(5802);function d(e){var t=e.activeItem,r=void 0===t?"dashboard":t,n=(0,i.useRouter)(),d=(0,s.useState)(!1),u=d[0],m=d[1],h=[{icon:o.m6D,label:"Dashboard",id:"dashboard",path:"/admin/dashboard"},{icon:o.LSm,label:"Partneranfragen",id:"partner-requests",path:"/admin/partner-requests"},{icon:o.SnF,label:"Restaurants",id:"restaurants",path:"/admin/restaurants"},{icon:o.orK,label:"Kontakttisch-Analysen",id:"contact-tables-analytics",path:"/admin/contact-tables/analytics"},{icon:o.bfl,label:"Moderation",id:"moderation",path:"/admin/moderation/reviews"},{icon:o.zFh,label:"Abonnements",id:"subscriptions",path:"/admin/subscriptions"},{icon:o.aCJ,label:"Kategorien",id:"categories",path:"/admin/categories"},{icon:o.E25,label:"Ausstattung",id:"amenities",path:"/admin/amenities"},{icon:o.i63,label:"St\xe4dte",id:"cities",path:"/admin/cities"},{icon:o.WY8,label:"Benutzer",id:"users",path:"/admin/users",useRouterPush:!0},{icon:o.NOg,label:"Blogs",id:"blogs",path:"/admin/blogs"},{icon:o.Imn,label:"Newsletter",id:"newsletter",path:"/admin/newsletters"},{icon:o.Imn,label:"E-Mail-Builder",id:"email-builder",path:"/admin/email-builder"},{icon:o.nbt,label:"Einstellungen",id:"settings",path:"/admin/settings"}];return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"fixed bottom-4 right-4 md:hidden z-30",children:(0,c.jsx)("button",{onClick:function(){return m(!u)},className:"bg-primary-600 text-white p-3 rounded-full shadow-lg",children:u?(0,c.jsx)(o.q5L,{size:24}):(0,c.jsx)(o.cur,{size:24})})}),(0,c.jsx)(l.E.div,{className:"fixed inset-0 bg-black bg-opacity-50 z-20 md:hidden",initial:{opacity:0},animate:{opacity:u?1:0},transition:{duration:.2},style:{pointerEvents:u?"auto":"none"},children:(0,c.jsxs)(l.E.div,{className:"fixed inset-y-0 left-0 w-64 bg-white shadow-xl z-30 overflow-y-auto",initial:{x:"-100%"},animate:{x:u?0:"-100%"},transition:{duration:.3},children:[(0,c.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Admin"}),(0,c.jsx)("button",{onClick:function(){return m(!1)},className:"text-gray-500 hover:text-gray-700",children:(0,c.jsx)(o.q5L,{size:24})})]})}),(0,c.jsx)("nav",{className:"p-4",children:(0,c.jsx)("ul",{className:"space-y-2",children:h.map(function(e){var t=e.icon,s=r===e.id;return(0,c.jsx)("li",{children:e.useRouterPush?(0,c.jsxs)("div",{className:"flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors cursor-pointer ".concat(s?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-100"),onClick:function(){console.log("AdminSidebar (Mobile): Router.push zu ".concat(e.label," (").concat(e.path,")")),n.push(e.path),m(!1)},children:[(0,c.jsx)(t,{size:20}),(0,c.jsx)("span",{children:e.label}),"partner-requests"===e.id&&(0,c.jsx)("span",{className:"ml-auto bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:"Neu"})]}):(0,c.jsxs)(a(),{href:e.path,className:"flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ".concat(s?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-100"),onClick:function(){console.log("AdminSidebar (Mobile): Link zu ".concat(e.label," (").concat(e.path,") geklickt")),m(!1)},children:[(0,c.jsx)(t,{size:20}),(0,c.jsx)("span",{children:e.label}),"partner-requests"===e.id&&(0,c.jsx)("span",{className:"ml-auto bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:"Neu"})]})},e.id)})})})]})}),(0,c.jsx)("aside",{className:"hidden md:block w-64 bg-white shadow-md min-h-screen pt-20",children:(0,c.jsx)("nav",{className:"p-4",children:(0,c.jsx)("ul",{className:"space-y-2",children:h.map(function(e){var t=e.icon,s=r===e.id;return(0,c.jsx)("li",{children:e.useRouterPush?(0,c.jsxs)("div",{className:"flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors cursor-pointer ".concat(s?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-100"),onClick:function(){console.log("AdminSidebar (Desktop): Router.push zu ".concat(e.label," (").concat(e.path,")")),n.push(e.path)},children:[(0,c.jsx)(t,{size:20}),(0,c.jsx)("span",{children:e.label}),"partner-requests"===e.id&&(0,c.jsx)("span",{className:"ml-auto bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:"Neu"})]}):(0,c.jsxs)(a(),{href:e.path,className:"flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ".concat(s?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-100"),onClick:function(){console.log("AdminSidebar (Desktop): Link zu ".concat(e.label," (").concat(e.path,") geklickt"))},children:[(0,c.jsx)(t,{size:20}),(0,c.jsx)("span",{children:e.label}),"partner-requests"===e.id&&(0,c.jsx)("span",{className:"ml-auto bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:"Neu"})]})},e.id)})})})})]})}},17662:function(e,t,r){"use strict";r.d(t,{Z:function(){return d}});var s=r(41664),n=r.n(s),a=r(25675),i=r.n(a),l=r(91472),o=r(41338),c=r(5802);function d(){return(0,c.jsx)("footer",{className:"bg-gradient-to-br from-neutral-900 to-neutral-800 text-neutral-300",children:(0,c.jsxs)("div",{className:"container mx-auto py-16 px-4",children:[(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12",children:[(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsx)(n(),{href:"/",className:"inline-block",children:(0,c.jsx)("div",{className:"flex items-center space-x-3 group",children:(0,c.jsx)("div",{className:"h-12 bg-white p-2 rounded-lg overflow-hidden relative",children:(0,c.jsx)(i(),{src:"/images/logo-fixed/Logo CT quer 4c.webp",alt:"Contact Tables Logo",width:120,height:40,className:"transition-all group-hover:scale-105",priority:!0,style:{objectFit:"contain",width:"auto",height:"100%"},quality:100})})})}),(0,c.jsx)("p",{className:"text-neutral-400 leading-relaxed",children:"Wir verbinden Menschen am Restauranttisch â€“ f\xfcr echte Begegnungen und inspirierende Gespr\xe4che."})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"text-xl font-semibold text-white mb-6 border-b border-neutral-700 pb-3",children:"Entdecken"}),(0,c.jsxs)("ul",{className:"space-y-4",children:[(0,c.jsx)("li",{children:(0,c.jsxs)(n(),{href:"/restaurants",className:"flex items-center space-x-2 text-neutral-400 hover:text-primary-400 transition-colors group",children:[(0,c.jsx)(l.i63,{className:"group-hover:translate-x-1 transition-transform"}),(0,c.jsx)("span",{children:"Restaurants finden"})]})}),(0,c.jsx)("li",{children:(0,c.jsxs)(n(),{href:"/about",className:"flex items-center space-x-2 text-neutral-400 hover:text-primary-400 transition-colors group",children:[(0,c.jsx)(l.WY8,{className:"group-hover:translate-x-1 transition-transform"}),(0,c.jsx)("span",{children:"\xdcber uns"})]})}),(0,c.jsx)("li",{children:(0,c.jsxs)(n(),{href:"/restaurant/register",className:"flex items-center space-x-2 text-neutral-400 hover:text-primary-400 transition-colors group",children:[(0,c.jsx)(l.i63,{className:"group-hover:translate-x-1 transition-transform"}),(0,c.jsx)("span",{children:"Restaurant anmelden"})]})}),(0,c.jsx)("li",{children:(0,c.jsxs)(n(),{href:"/events",className:"flex items-center space-x-2 text-neutral-400 hover:text-primary-400 transition-colors group",children:[(0,c.jsx)(l.TCC,{className:"group-hover:translate-x-1 transition-transform"}),(0,c.jsx)("span",{children:"Events & Aktionen"})]})})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"text-xl font-semibold text-white mb-6 border-b border-neutral-700 pb-3",children:"Rechtliches"}),(0,c.jsxs)("ul",{className:"space-y-4",children:[(0,c.jsx)("li",{children:(0,c.jsx)(n(),{href:"/datenschutz",className:"text-neutral-400 hover:text-primary-400 transition-colors",children:"Datenschutzerkl\xe4rung"})}),(0,c.jsx)("li",{children:(0,c.jsx)(n(),{href:"/faq",className:"text-neutral-400 hover:text-primary-400 transition-colors",children:"FAQ"})}),(0,c.jsx)("li",{children:(0,c.jsx)(n(),{href:"/impressum",className:"text-neutral-400 hover:text-primary-400 transition-colors",children:"Impressum"})}),(0,c.jsx)("li",{children:(0,c.jsx)(n(),{href:"/barrierefreiheit",className:"text-neutral-400 hover:text-primary-400 transition-colors",children:"Barrierefreiheit"})})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"text-xl font-semibold text-white mb-6 border-b border-neutral-700 pb-3",children:"Kontakt"}),(0,c.jsxs)("ul",{className:"space-y-4",children:[(0,c.jsx)("li",{className:"group",children:(0,c.jsxs)("a",{href:"tel:+4915679640069",className:"flex items-center space-x-3 text-neutral-400 hover:text-primary-400 transition-colors",children:[(0,c.jsx)("div",{className:"w-8 h-8 rounded-full bg-neutral-800 group-hover:bg-primary-700 flex items-center justify-center transition-all duration-300",children:(0,c.jsx)(l.tUt,{size:16})}),(0,c.jsx)("span",{children:"+49 15679 640069"})]})}),(0,c.jsx)("li",{className:"group",children:(0,c.jsxs)(n(),{href:"/contact",className:"flex items-center space-x-3 text-neutral-400 hover:text-primary-400 transition-colors",children:[(0,c.jsx)("div",{className:"w-8 h-8 rounded-full bg-neutral-800 group-hover:bg-primary-700 flex items-center justify-center transition-all duration-300",children:(0,c.jsx)(l.Imn,{size:16})}),(0,c.jsx)("span",{children:"Nachricht absenden"})]})}),(0,c.jsx)("li",{className:"group",children:(0,c.jsxs)("a",{href:"https://www.facebook.com/contacttables/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 text-neutral-400 hover:text-primary-400 transition-colors",children:[(0,c.jsx)("div",{className:"w-8 h-8 rounded-full bg-neutral-800 group-hover:bg-primary-700 flex items-center justify-center transition-all duration-300",children:(0,c.jsx)(o.tBk,{size:16})}),(0,c.jsx)("span",{children:"Facebook"})]})}),(0,c.jsx)("li",{className:"group",children:(0,c.jsxs)("a",{href:"https://www.instagram.com/contacttables/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 text-neutral-400 hover:text-primary-400 transition-colors",children:[(0,c.jsx)("div",{className:"w-8 h-8 rounded-full bg-neutral-800 group-hover:bg-primary-700 flex items-center justify-center transition-all duration-300",children:(0,c.jsx)(o.Zf_,{size:16})}),(0,c.jsx)("span",{children:"Instagram"})]})})]})]})]}),(0,c.jsx)("div",{className:"border-t border-neutral-800 mt-16 pt-8 text-center",children:(0,c.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[(0,c.jsxs)("p",{className:"text-neutral-500",children:["\xa9 ",new Date().getFullYear()," contact-tables. Alle Rechte vorbehalten."]}),(0,c.jsxs)("p",{className:"flex items-center text-neutral-500",children:[(0,c.jsx)("span",{children:"Made with"})," ",(0,c.jsx)(l.$aX,{className:"mx-2 text-primary-500"})," ",(0,c.jsx)("span",{children:"in Germany"})]})]})})]})})}},70063:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});var s=r(92401),n=r(91472),a=r(5802);function i(e){var t=e.id,r=e.name,i=e.placeholder,l=e.value,o=e.onChange,c=e.required,d=e.className,u=e.autoComplete,m=e.disabled,h=e.minLength,x=(0,s.useState)(!1),p=x[0],g=x[1],f=(0,s.useState)(!1),b=f[0],j=f[1],v=(0,s.useRef)(null);return(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{ref:v,type:p?"text":"password",id:t,name:r,placeholder:void 0===i?"Passwort eingeben":i,value:l,onChange:o,onFocus:function(){j(!0)},onBlur:function(){j(!1)},required:void 0!==c&&c,className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ".concat(void 0===d?"":d),autoComplete:void 0===u?"current-password":u,disabled:void 0!==m&&m,minLength:h}),(0,a.jsx)("button",{type:"button",onClick:function(e){e.preventDefault(),g(!p),v.current&&v.current.focus()},className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 focus:outline-none ".concat(b?"z-10":""),"aria-label":p?"Passwort verbergen":"Passwort anzeigen",tabIndex:-1,children:p?(0,a.jsx)(n.rzC,{size:20}):(0,a.jsx)(n.rDJ,{size:20})})]})}},99697:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return f},config:function(){return b}});var s=r(59499),n=r(50029),a=r(64687),i=r.n(a),l=r(92401),o=r(11163),c=r(63708),d=r(17662),u=r(95443),m=r(91472),h=r(70063),x=r(5802);function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach(function(t){(0,s.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var f=!0;t.default=function(e){e.user,(0,o.useRouter)();var t,a,p,f,b,j,v=(0,l.useState)({id:"1",site_name:"Contact Tables",site_description:"Restaurant Reservierungssystem",contact_email:"info@contact-tables.org",support_phone:"+49123456789",maintenance_mode:!1,registration_enabled:!0,default_subscription_days:30,max_featured_restaurants:6,updated_at:new Date().toISOString()}),y=v[0],N=v[1],w=(0,l.useState)(!0),_=w[0],k=w[1],S=(0,l.useState)(!1),E=S[0],C=S[1],F=(0,l.useState)(!1),P=F[0],M=F[1],T=(0,l.useState)(!1),z=T[0],R=T[1],O=(0,l.useState)(!1),D=O[0],I=O[1],L=(0,l.useState)(!1),q=L[0],B=L[1],A=(0,l.useState)(null),Z=A[0],W=A[1],U=(t=(0,n.Z)(i().mark(function e(){var t,r,s;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Z){e.next=2;break}return e.abrupt("return");case 2:return M(!0),e.prev=3,e.next=6,Z.from("system_settings").select("*").single();case 6:if(r=(t=e.sent).data,!(s=t.error)){e.next=11;break}throw s;case 11:r&&N(r),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),console.error("Fehler beim Laden der Einstellungen:",e.t0);case 17:return e.prev=17,k(!1),M(!1),e.finish(17);case 21:case"end":return e.stop()}},e,null,[[3,14,17,21]])})),function(){return t.apply(this,arguments)}),$=(a=(0,n.Z)(i().mark(function e(){var t,r;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),e.prev=1,e.next=4,fetch("/api/admin/settings/test-smtp",{method:"POST"});case 4:return t=e.sent,e.next=7,t.json();case 7:r=e.sent,t.ok&&r.ok?alert("SMTP-Verbindung erfolgreich."):alert("SMTP-Test fehlgeschlagen: ".concat((null==r?void 0:r.message)||"Unbekannter Fehler")),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.error("SMTP-Test Fehler:",e.t0),alert("SMTP-Test Fehler");case 15:return e.prev=15,R(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[1,11,15,18]])})),function(){return a.apply(this,arguments)}),G=(p=(0,n.Z)(i().mark(function e(){var t,r;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),e.prev=1,e.next=4,fetch("/api/admin/settings/test-email",{method:"POST"});case 4:return t=e.sent,e.next=7,t.json();case 7:r=e.sent,t.ok?alert("Test-E-Mail mit Signatur wurde gesendet. Bitte pr\xfcfen Sie Ihren Posteingang."):alert("E-Mail-Test fehlgeschlagen: ".concat((null==r?void 0:r.error)||"Unbekannter Fehler")),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.error("E-Mail-Test Fehler:",e.t0),alert("E-Mail-Test Fehler");case 15:return e.prev=15,I(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[1,11,15,18]])})),function(){return p.apply(this,arguments)}),K=(f=(0,n.Z)(i().mark(function e(){var t,r;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return B(!0),e.prev=1,e.next=4,fetch("/api/admin/settings/create-table",{method:"POST"});case 4:return t=e.sent,e.next=7,t.json();case 7:r=e.sent,t.ok?(alert("System-Settings-Tabelle wurde erfolgreich erstellt oder aktualisiert."),U()):alert("Tabellenerstellung fehlgeschlagen: ".concat((null==r?void 0:r.error)||"Unbekannter Fehler")),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.error("Tabellenerstellung Fehler:",e.t0),alert("Fehler bei der Tabellenerstellung");case 15:return e.prev=15,B(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[1,11,15,18]])})),function(){return f.apply(this,arguments)});(0,l.useEffect)(function(){W((0,r(87553).createClient)())},[]),(0,l.useEffect)(function(){Z&&U()},[Z]);var X=function(e){var t=e.target,r=t.name,n=t.value,a=t.type;N(function(t){return g(g({},t),{},(0,s.Z)({},r,"checkbox"===a?e.target.checked:"number"===a?parseInt(n,10):n))})},H=(b=(0,n.Z)(i().mark(function e(t){var r,s;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),C(!0),e.prev=2,e.next=5,fetch("/api/admin/settings/update",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g(g({},y),{},{updated_at:new Date().toISOString()}))});case 5:return r=e.sent,e.next=8,r.json();case 8:if(s=e.sent,r.ok){e.next=11;break}throw Error(s.error||"Unbekannter Fehler");case 11:alert("Einstellungen erfolgreich gespeichert"),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),console.error("Fehler beim Speichern der Einstellungen:",e.t0),alert("Fehler beim Speichern der Einstellungen: ".concat(e.t0 instanceof Error?e.t0.message:"Unbekannter Fehler"));case 18:return e.prev=18,C(!1),e.finish(18);case 21:case"end":return e.stop()}},e,null,[[2,14,18,21]])})),function(e){return b.apply(this,arguments)});return(0,x.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,x.jsx)(c.Z,{}),(0,x.jsxs)("div",{className:"flex flex-1",children:[(0,x.jsx)(u.Z,{activeItem:"settings"}),(0,x.jsx)("main",{className:"flex-1 p-6 bg-gray-50",children:(0,x.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,x.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,x.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Systemeinstellungen"}),(0,x.jsxs)("div",{className:"flex space-x-3",children:[(0,x.jsx)("button",{onClick:K,disabled:q,className:"px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors flex items-center ".concat(q?"opacity-70 cursor-not-allowed":""),children:q?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(m.Bw1,{className:"animate-spin mr-2"}),"Tabelle wird erstellt..."]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(m.bGz,{className:"mr-2"}),"Tabelle erstellen/aktualisieren"]})}),(0,x.jsx)("button",{onClick:$,disabled:z,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center ".concat(z?"opacity-70 cursor-not-allowed":""),children:z?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(m.Bw1,{className:"animate-spin mr-2"}),"SMTP wird getestet..."]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(m.LbG,{className:"mr-2"}),"SMTP testen"]})}),(0,x.jsx)("button",{onClick:G,disabled:D,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center ".concat(D?"opacity-70 cursor-not-allowed":""),children:D?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(m.Bw1,{className:"animate-spin mr-2"}),"E-Mail wird gesendet..."]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(m.LbG,{className:"mr-2"}),"E-Mail mit Signatur testen"]})}),(0,x.jsx)("button",{onClick:U,disabled:P,className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors flex items-center ".concat(P?"opacity-70 cursor-not-allowed":""),children:P?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(m.Bw1,{className:"animate-spin mr-2"}),"Wird aktualisiert..."]}):"Aktualisieren"})]})]}),_?(0,x.jsx)("div",{className:"flex justify-center py-10",children:(0,x.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-indigo-500"})}):(0,x.jsxs)("form",{onSubmit:H,children:[(0,x.jsx)("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 overflow-hidden mb-6",children:(0,x.jsxs)("div",{className:"p-6",children:[(0,x.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Allgemeine Einstellungen"}),(0,x.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{htmlFor:"site_name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Website-Name"}),(0,x.jsx)("input",{type:"text",id:"site_name",name:"site_name",value:y.site_name,onChange:X,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{htmlFor:"contact_email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Kontakt-E-Mail"}),(0,x.jsx)("input",{type:"email",id:"contact_email",name:"contact_email",value:y.contact_email,onChange:X,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",required:!0})]})]}),(0,x.jsxs)("div",{className:"mb-6",children:[(0,x.jsx)("label",{htmlFor:"site_description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Website-Beschreibung"}),(0,x.jsx)("textarea",{id:"site_description",name:"site_description",value:y.site_description,onChange:X,rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,x.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{htmlFor:"support_phone",className:"block text-sm font-medium text-gray-700 mb-1",children:"Support-Telefon"}),(0,x.jsx)("input",{type:"tel",id:"support_phone",name:"support_phone",value:y.support_phone,onChange:X,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{htmlFor:"google_maps_api_key",className:"block text-sm font-medium text-gray-700 mb-1",children:"Google Maps API-Schl\xfcssel"}),(0,x.jsx)("input",{type:"text",id:"google_maps_api_key",name:"google_maps_api_key",value:y.google_maps_api_key||"",onChange:X,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),(0,x.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{htmlFor:"default_subscription_days",className:"block text-sm font-medium text-gray-700 mb-1",children:"Standard-Abonnementdauer (Tage)"}),(0,x.jsx)("input",{type:"number",id:"default_subscription_days",name:"default_subscription_days",value:y.default_subscription_days,onChange:X,min:1,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",required:!0})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{htmlFor:"max_featured_restaurants",className:"block text-sm font-medium text-gray-700 mb-1",children:"Max. hervorgehobene Restaurants"}),(0,x.jsx)("input",{type:"number",id:"max_featured_restaurants",name:"max_featured_restaurants",value:y.max_featured_restaurants,onChange:X,min:1,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",required:!0})]})]}),(0,x.jsxs)("div",{className:"mt-6 flex items-center space-x-6",children:[(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsx)("input",{type:"checkbox",id:"maintenance_mode",name:"maintenance_mode",checked:y.maintenance_mode,onChange:X,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),(0,x.jsx)("label",{htmlFor:"maintenance_mode",className:"ml-2 block text-sm text-gray-900",children:"Wartungsmodus aktivieren"})]}),(0,x.jsxs)("div",{className:"flex items-center",children:[(0,x.jsx)("input",{type:"checkbox",id:"registration_enabled",name:"registration_enabled",checked:y.registration_enabled,onChange:X,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),(0,x.jsx)("label",{htmlFor:"registration_enabled",className:"ml-2 block text-sm text-gray-900",children:"Registrierung aktivieren"})]})]})]})}),(0,x.jsx)("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 overflow-hidden mb-6",children:(0,x.jsxs)("div",{className:"p-6",children:[(0,x.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"E-Mail-Einstellungen"}),(0,x.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{htmlFor:"smtp_host",className:"block text-sm font-medium text-gray-700 mb-1",children:"SMTP-Host"}),(0,x.jsx)("input",{type:"text",id:"smtp_host",name:"smtp_host",value:y.smtp_host||"",onChange:X,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{htmlFor:"smtp_port",className:"block text-sm font-medium text-gray-700 mb-1",children:"SMTP-Port"}),(0,x.jsx)("input",{type:"number",id:"smtp_port",name:"smtp_port",value:y.smtp_port||"",onChange:X,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),(0,x.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{htmlFor:"smtp_user",className:"block text-sm font-medium text-gray-700 mb-1",children:"SMTP-Benutzername"}),(0,x.jsx)("input",{type:"text",id:"smtp_user",name:"smtp_user",value:y.smtp_user||"",onChange:X,className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{htmlFor:"smtp_password",className:"block text-sm font-medium text-gray-700 mb-1",children:"SMTP-Passwort"}),(0,x.jsx)(h.Z,{id:"smtp_password",name:"smtp_password",value:y.smtp_password||"",onChange:X,className:"w-full rounded-md"})]})]}),(0,x.jsxs)("div",{className:"mb-6",children:[(0,x.jsx)("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 mb-4",children:(0,x.jsxs)("div",{className:"flex",children:[(0,x.jsx)("div",{className:"flex-shrink-0",children:(0,x.jsx)("svg",{className:"h-5 w-5 text-blue-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,x.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),(0,x.jsx)("div",{className:"ml-3",children:(0,x.jsx)("p",{className:"text-sm text-blue-700",children:"Die E-Mail-Signatur wird automatisch am Ende jeder ausgehenden E-Mail eingef\xfcgt."})})]})}),(0,x.jsx)("label",{htmlFor:"email_signature",className:"block text-lg font-medium text-gray-800 mb-2",children:"E-Mail-Signatur"}),(0,x.jsx)("textarea",{id:"email_signature",name:"email_signature",value:y.email_signature||"",onChange:X,rows:6,placeholder:"Ihre E-Mail-Signatur (wird am Ende jeder E-Mail eingef\xfcgt)",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"}),(0,x.jsx)("p",{className:"mt-2 text-sm text-gray-500",children:"HTML-Formatierung wird unterst\xfctzt. Beispiel: <p>Mit freundlichen Gr\xfc\xdfen,<br>Ihr Contact Tables Team</p>"})]})]})}),(0,x.jsxs)("div",{className:"flex justify-between items-center",children:[(0,x.jsxs)("div",{className:"text-sm text-gray-500",children:["Zuletzt aktualisiert: ",(j=new Date(y.updated_at)).toLocaleDateString("de-DE")+" "+j.toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})]}),(0,x.jsx)("button",{type:"submit",disabled:E,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors flex items-center ".concat(E?"opacity-70 cursor-not-allowed":""),children:E?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(m.mW3,{className:"animate-pulse mr-2"}),"Wird gespeichert..."]}):(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(m.mW3,{className:"mr-2"}),"Einstellungen speichern"]})})]})]})]})})]}),(0,x.jsx)(d.Z,{})]})};var b={unstable_runtimeJS:!0,runtime:"nodejs"}},29217:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/settings",function(){return r(99697)}])},11163:function(e,t,r){e.exports=r(11171)},13114:function(e,t,r){"use strict";r.d(t,{M:function(){return b}});var s=r(5802),n=r(92401),a=r(25364),i=r(96681),l=r(58868),o=r(240),c=r(93243),d=r(16014);class u extends n.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,r=(0,c.R)(e)&&e.offsetWidth||0,s=this.props.sizeRef.current;s.height=t.offsetHeight||0,s.width=t.offsetWidth||0,s.top=t.offsetTop,s.left=t.offsetLeft,s.right=r-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function m({children:e,isPresent:t,anchorX:r,root:a}){let i=(0,n.useId)(),l=(0,n.useRef)(null),o=(0,n.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=(0,n.useContext)(d._);return(0,n.useInsertionEffect)(()=>{let{width:e,height:s,top:n,left:d,right:u}=o.current;if(t||!l.current||!e||!s)return;let m="left"===r?`left: ${d}`:`right: ${u}`;l.current.dataset.motionPopId=i;let h=document.createElement("style");c&&(h.nonce=c);let x=a??document.head;return x.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${s}px !important;
            ${m}px !important;
            top: ${n}px !important;
          }
        `),()=>{x.contains(h)&&x.removeChild(h)}},[t]),(0,s.jsx)(u,{isPresent:t,childRef:l,sizeRef:o,children:n.cloneElement(e,{ref:l})})}let h=({children:e,initial:t,isPresent:r,onExitComplete:a,custom:l,presenceAffectsLayout:c,mode:d,anchorX:u,root:h})=>{let p=(0,i.h)(x),g=(0,n.useId)(),f=!0,b=(0,n.useMemo)(()=>(f=!1,{id:g,initial:t,isPresent:r,custom:l,onExitComplete:e=>{for(let t of(p.set(e,!0),p.values()))if(!t)return;a&&a()},register:e=>(p.set(e,!1),()=>p.delete(e))}),[r,p,a]);return c&&f&&(b={...b}),(0,n.useMemo)(()=>{p.forEach((e,t)=>p.set(t,!1))},[r]),n.useEffect(()=>{r||p.size||!a||a()},[r]),"popLayout"===d&&(e=(0,s.jsx)(m,{isPresent:r,anchorX:u,root:h,children:e})),(0,s.jsx)(o.O.Provider,{value:b,children:e})};function x(){return new Map}var p=r(15947);let g=e=>e.key||"";function f(e){let t=[];return n.Children.forEach(e,e=>{(0,n.isValidElement)(e)&&t.push(e)}),t}let b=({children:e,custom:t,initial:r=!0,onExitComplete:o,presenceAffectsLayout:c=!0,mode:d="sync",propagate:u=!1,anchorX:m="left",root:x})=>{let[b,j]=(0,p.oO)(u),v=(0,n.useMemo)(()=>f(e),[e]),y=u&&!b?[]:v.map(g),N=(0,n.useRef)(!0),w=(0,n.useRef)(v),_=(0,i.h)(()=>new Map),[k,S]=(0,n.useState)(v),[E,C]=(0,n.useState)(v);(0,l.L)(()=>{N.current=!1,w.current=v;for(let e=0;e<E.length;e++){let t=g(E[e]);y.includes(t)?_.delete(t):!0!==_.get(t)&&_.set(t,!1)}},[E,y.length,y.join("-")]);let F=[];if(v!==k){let e=[...v];for(let t=0;t<E.length;t++){let r=E[t],s=g(r);y.includes(s)||(e.splice(t,0,r),F.push(r))}return"wait"===d&&F.length&&(e=F),C(f(e)),S(v),null}let{forceRender:P}=(0,n.useContext)(a.p);return(0,s.jsx)(s.Fragment,{children:E.map(e=>{let n=g(e),a=(!u||!!b)&&(v===E||y.includes(n));return(0,s.jsx)(h,{isPresent:a,initial:(!N.current||!!r)&&void 0,custom:t,presenceAffectsLayout:c,mode:d,root:x,onExitComplete:a?void 0:()=>{if(!_.has(n))return;_.set(n,!0);let e=!0;_.forEach(t=>{t||(e=!1)}),e&&(P?.(),C(w.current),u&&j?.(),o&&o())},anchorX:m,children:e},n)})})}}},function(e){e.O(0,[6130,3365,6058,6405,8428,300,3708,2888,9774,179],function(){return e(e.s=29217)}),_N_E=e.O()}]);