(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8897],{95443:function(e,t,s){"use strict";s.d(t,{Z:function(){return d}});var r=s(92401),n=s(41664),a=s.n(n),i=s(11163),l=s(89681),c=s(91472),o=s(5802);function d(e){var t=e.activeItem,s=void 0===t?"dashboard":t,n=(0,i.useRouter)(),d=(0,r.useState)(!1),x=d[0],u=d[1],m=[{icon:c.m6D,label:"Dashboard",id:"dashboard",path:"/admin/dashboard"},{icon:c.LSm,label:"Partneranfragen",id:"partner-requests",path:"/admin/partner-requests"},{icon:c.SnF,label:"Restaurants",id:"restaurants",path:"/admin/restaurants"},{icon:c.orK,label:"Kontakttisch-Analysen",id:"contact-tables-analytics",path:"/admin/contact-tables/analytics"},{icon:c.bfl,label:"Moderation",id:"moderation",path:"/admin/moderation/reviews"},{icon:c.zFh,label:"Abonnements",id:"subscriptions",path:"/admin/subscriptions"},{icon:c.aCJ,label:"Kategorien",id:"categories",path:"/admin/categories"},{icon:c.E25,label:"Ausstattung",id:"amenities",path:"/admin/amenities"},{icon:c.i63,label:"St\xe4dte",id:"cities",path:"/admin/cities"},{icon:c.WY8,label:"Benutzer",id:"users",path:"/admin/users",useRouterPush:!0},{icon:c.NOg,label:"Blogs",id:"blogs",path:"/admin/blogs"},{icon:c.Imn,label:"Newsletter",id:"newsletter",path:"/admin/newsletters"},{icon:c.Imn,label:"E-Mail-Builder",id:"email-builder",path:"/admin/email-builder"},{icon:c.nbt,label:"Einstellungen",id:"settings",path:"/admin/settings"}];return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"fixed bottom-4 right-4 md:hidden z-30",children:(0,o.jsx)("button",{onClick:function(){return u(!x)},className:"bg-primary-600 text-white p-3 rounded-full shadow-lg",children:x?(0,o.jsx)(c.q5L,{size:24}):(0,o.jsx)(c.cur,{size:24})})}),(0,o.jsx)(l.E.div,{className:"fixed inset-0 bg-black bg-opacity-50 z-20 md:hidden",initial:{opacity:0},animate:{opacity:x?1:0},transition:{duration:.2},style:{pointerEvents:x?"auto":"none"},children:(0,o.jsxs)(l.E.div,{className:"fixed inset-y-0 left-0 w-64 bg-white shadow-xl z-30 overflow-y-auto",initial:{x:"-100%"},animate:{x:x?0:"-100%"},transition:{duration:.3},children:[(0,o.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Admin"}),(0,o.jsx)("button",{onClick:function(){return u(!1)},className:"text-gray-500 hover:text-gray-700",children:(0,o.jsx)(c.q5L,{size:24})})]})}),(0,o.jsx)("nav",{className:"p-4",children:(0,o.jsx)("ul",{className:"space-y-2",children:m.map(function(e){var t=e.icon,r=s===e.id;return(0,o.jsx)("li",{children:e.useRouterPush?(0,o.jsxs)("div",{className:"flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors cursor-pointer ".concat(r?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-100"),onClick:function(){console.log("AdminSidebar (Mobile): Router.push zu ".concat(e.label," (").concat(e.path,")")),n.push(e.path),u(!1)},children:[(0,o.jsx)(t,{size:20}),(0,o.jsx)("span",{children:e.label}),"partner-requests"===e.id&&(0,o.jsx)("span",{className:"ml-auto bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:"Neu"})]}):(0,o.jsxs)(a(),{href:e.path,className:"flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ".concat(r?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-100"),onClick:function(){console.log("AdminSidebar (Mobile): Link zu ".concat(e.label," (").concat(e.path,") geklickt")),u(!1)},children:[(0,o.jsx)(t,{size:20}),(0,o.jsx)("span",{children:e.label}),"partner-requests"===e.id&&(0,o.jsx)("span",{className:"ml-auto bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:"Neu"})]})},e.id)})})})]})}),(0,o.jsx)("aside",{className:"hidden md:block w-64 bg-white shadow-md min-h-screen pt-20",children:(0,o.jsx)("nav",{className:"p-4",children:(0,o.jsx)("ul",{className:"space-y-2",children:m.map(function(e){var t=e.icon,r=s===e.id;return(0,o.jsx)("li",{children:e.useRouterPush?(0,o.jsxs)("div",{className:"flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors cursor-pointer ".concat(r?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-100"),onClick:function(){console.log("AdminSidebar (Desktop): Router.push zu ".concat(e.label," (").concat(e.path,")")),n.push(e.path)},children:[(0,o.jsx)(t,{size:20}),(0,o.jsx)("span",{children:e.label}),"partner-requests"===e.id&&(0,o.jsx)("span",{className:"ml-auto bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:"Neu"})]}):(0,o.jsxs)(a(),{href:e.path,className:"flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ".concat(r?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-100"),onClick:function(){console.log("AdminSidebar (Desktop): Link zu ".concat(e.label," (").concat(e.path,") geklickt"))},children:[(0,o.jsx)(t,{size:20}),(0,o.jsx)("span",{children:e.label}),"partner-requests"===e.id&&(0,o.jsx)("span",{className:"ml-auto bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:"Neu"})]})},e.id)})})})})]})}},17662:function(e,t,s){"use strict";s.d(t,{Z:function(){return d}});var r=s(41664),n=s.n(r),a=s(25675),i=s.n(a),l=s(91472),c=s(41338),o=s(5802);function d(){return(0,o.jsx)("footer",{className:"bg-gradient-to-br from-neutral-900 to-neutral-800 text-neutral-300",children:(0,o.jsxs)("div",{className:"container mx-auto py-16 px-4",children:[(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12",children:[(0,o.jsxs)("div",{className:"space-y-6",children:[(0,o.jsx)(n(),{href:"/",className:"inline-block",children:(0,o.jsx)("div",{className:"flex items-center space-x-3 group",children:(0,o.jsx)("div",{className:"h-12 bg-white p-2 rounded-lg overflow-hidden relative",children:(0,o.jsx)(i(),{src:"/images/logo-fixed/Logo CT quer 4c.webp",alt:"Contact Tables Logo",width:120,height:40,className:"transition-all group-hover:scale-105",priority:!0,style:{objectFit:"contain",width:"auto",height:"100%"},quality:100})})})}),(0,o.jsx)("p",{className:"text-neutral-400 leading-relaxed",children:"Wir verbinden Menschen am Restauranttisch â€“ f\xfcr echte Begegnungen und inspirierende Gespr\xe4che."})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{className:"text-xl font-semibold text-white mb-6 border-b border-neutral-700 pb-3",children:"Entdecken"}),(0,o.jsxs)("ul",{className:"space-y-4",children:[(0,o.jsx)("li",{children:(0,o.jsxs)(n(),{href:"/restaurants",className:"flex items-center space-x-2 text-neutral-400 hover:text-primary-400 transition-colors group",children:[(0,o.jsx)(l.i63,{className:"group-hover:translate-x-1 transition-transform"}),(0,o.jsx)("span",{children:"Restaurants finden"})]})}),(0,o.jsx)("li",{children:(0,o.jsxs)(n(),{href:"/about",className:"flex items-center space-x-2 text-neutral-400 hover:text-primary-400 transition-colors group",children:[(0,o.jsx)(l.WY8,{className:"group-hover:translate-x-1 transition-transform"}),(0,o.jsx)("span",{children:"\xdcber uns"})]})}),(0,o.jsx)("li",{children:(0,o.jsxs)(n(),{href:"/restaurant/register",className:"flex items-center space-x-2 text-neutral-400 hover:text-primary-400 transition-colors group",children:[(0,o.jsx)(l.i63,{className:"group-hover:translate-x-1 transition-transform"}),(0,o.jsx)("span",{children:"Restaurant anmelden"})]})}),(0,o.jsx)("li",{children:(0,o.jsxs)(n(),{href:"/events",className:"flex items-center space-x-2 text-neutral-400 hover:text-primary-400 transition-colors group",children:[(0,o.jsx)(l.TCC,{className:"group-hover:translate-x-1 transition-transform"}),(0,o.jsx)("span",{children:"Events & Aktionen"})]})})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{className:"text-xl font-semibold text-white mb-6 border-b border-neutral-700 pb-3",children:"Rechtliches"}),(0,o.jsxs)("ul",{className:"space-y-4",children:[(0,o.jsx)("li",{children:(0,o.jsx)(n(),{href:"/datenschutz",className:"text-neutral-400 hover:text-primary-400 transition-colors",children:"Datenschutzerkl\xe4rung"})}),(0,o.jsx)("li",{children:(0,o.jsx)(n(),{href:"/faq",className:"text-neutral-400 hover:text-primary-400 transition-colors",children:"FAQ"})}),(0,o.jsx)("li",{children:(0,o.jsx)(n(),{href:"/impressum",className:"text-neutral-400 hover:text-primary-400 transition-colors",children:"Impressum"})}),(0,o.jsx)("li",{children:(0,o.jsx)(n(),{href:"/barrierefreiheit",className:"text-neutral-400 hover:text-primary-400 transition-colors",children:"Barrierefreiheit"})})]})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{className:"text-xl font-semibold text-white mb-6 border-b border-neutral-700 pb-3",children:"Kontakt"}),(0,o.jsxs)("ul",{className:"space-y-4",children:[(0,o.jsx)("li",{className:"group",children:(0,o.jsxs)("a",{href:"tel:+4915679640069",className:"flex items-center space-x-3 text-neutral-400 hover:text-primary-400 transition-colors",children:[(0,o.jsx)("div",{className:"w-8 h-8 rounded-full bg-neutral-800 group-hover:bg-primary-700 flex items-center justify-center transition-all duration-300",children:(0,o.jsx)(l.tUt,{size:16})}),(0,o.jsx)("span",{children:"+49 15679 640069"})]})}),(0,o.jsx)("li",{className:"group",children:(0,o.jsxs)(n(),{href:"/contact",className:"flex items-center space-x-3 text-neutral-400 hover:text-primary-400 transition-colors",children:[(0,o.jsx)("div",{className:"w-8 h-8 rounded-full bg-neutral-800 group-hover:bg-primary-700 flex items-center justify-center transition-all duration-300",children:(0,o.jsx)(l.Imn,{size:16})}),(0,o.jsx)("span",{children:"Nachricht absenden"})]})}),(0,o.jsx)("li",{className:"group",children:(0,o.jsxs)("a",{href:"https://www.facebook.com/contacttables/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 text-neutral-400 hover:text-primary-400 transition-colors",children:[(0,o.jsx)("div",{className:"w-8 h-8 rounded-full bg-neutral-800 group-hover:bg-primary-700 flex items-center justify-center transition-all duration-300",children:(0,o.jsx)(c.tBk,{size:16})}),(0,o.jsx)("span",{children:"Facebook"})]})}),(0,o.jsx)("li",{className:"group",children:(0,o.jsxs)("a",{href:"https://www.instagram.com/contacttables/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 text-neutral-400 hover:text-primary-400 transition-colors",children:[(0,o.jsx)("div",{className:"w-8 h-8 rounded-full bg-neutral-800 group-hover:bg-primary-700 flex items-center justify-center transition-all duration-300",children:(0,o.jsx)(c.Zf_,{size:16})}),(0,o.jsx)("span",{children:"Instagram"})]})})]})]})]}),(0,o.jsx)("div",{className:"border-t border-neutral-800 mt-16 pt-8 text-center",children:(0,o.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[(0,o.jsxs)("p",{className:"text-neutral-500",children:["\xa9 ",new Date().getFullYear()," contact-tables. Alle Rechte vorbehalten."]}),(0,o.jsxs)("p",{className:"flex items-center text-neutral-500",children:[(0,o.jsx)("span",{children:"Made with"})," ",(0,o.jsx)(l.$aX,{className:"mx-2 text-primary-500"})," ",(0,o.jsx)("span",{children:"in Germany"})]})]})})]})})}},45027:function(e,t,s){"use strict";s.r(t),s.d(t,{__N_SSP:function(){return y},default:function(){return v}});var r=s(11163),n=s(92401),a=s(63708),i=s(17662),l=s(89681),c=s(65289),o=s(95443),d=s(90116),x=s(59499),u=s(50029),m=s(64687),h=s.n(m),p=s(91472),g=s(5802);function f(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),s.push.apply(s,r)}return s}function b(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?f(Object(s),!0).forEach(function(t){(0,x.Z)(e,t,s[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):f(Object(s)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))})}return e}function j(){var e,t,s,a=(0,r.useRouter)(),i=(0,n.useState)([]),l=i[0],c=i[1],o=(0,n.useState)(!0),x=o[0],m=o[1],f=(0,n.useState)(null),j=f[0],y=f[1],v=(0,n.useState)({page:1,limit:10,totalItems:0,totalPages:0}),N=v[0],w=v[1],k=(0,n.useState)("all"),E=k[0],C=k[1],P=(0,n.useState)("all"),R=P[0],A=P[1],S=(0,n.useState)("createdAt"),z=S[0],D=S[1],O=(0,n.useState)("desc"),F=O[0],L=O[1],M=(e=(0,u.Z)(h().mark(function e(){var t,s,r;return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(!0),t=new URLSearchParams({page:N.page.toString(),limit:N.limit.toString(),status:E,contentType:R,sortBy:z,sortOrder:F}),e.next=5,fetch("/api/admin/moderation/comments?".concat(t));case 5:if((s=e.sent).ok){e.next=8;break}throw Error("Fehler beim Laden der Kommentare");case 8:return e.next=10,s.json();case 10:c((r=e.sent).comments),w(r.pagination),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),console.error("Fehler beim Laden der Kommentare:",e.t0),y("Die Kommentare konnten nicht geladen werden.");case 19:return e.prev=19,m(!1),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[0,15,19,22]])})),function(){return e.apply(this,arguments)}),B=(t=(0,u.Z)(h().mark(function e(t,s){return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("/api/admin/moderation/comments/".concat(t),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({status:s})});case 3:if(e.sent.ok){e.next=6;break}throw Error("Fehler beim Aktualisieren des Status");case 6:M(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Fehler beim Aktualisieren des Status:",e.t0),y("Der Status konnte nicht aktualisiert werden.");case 13:case"end":return e.stop()}},e,null,[[0,9]])})),function(e,s){return t.apply(this,arguments)}),I=(s=(0,u.Z)(h().mark(function e(t){return h().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm("M\xf6chten Sie diesen Kommentar wirklich l\xf6schen?")){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,fetch("/api/admin/moderation/comments/".concat(t),{method:"DELETE"});case 5:if(e.sent.ok){e.next=8;break}throw Error("Fehler beim L\xf6schen des Kommentars");case 8:M(),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.error("Fehler beim L\xf6schen des Kommentars:",e.t0),y("Der Kommentar konnte nicht gel\xf6scht werden.");case 15:case"end":return e.stop()}},e,null,[[2,11]])})),function(e){return s.apply(this,arguments)}),_=function(e){e<1||e>N.totalPages||w(function(t){return b(b({},t),{},{page:e})})};(0,n.useEffect)(function(){M()},[N.page,N.limit,E,R,z,F]);var T=function(e){var t="",s="";switch(e){case"APPROVED":t="bg-green-100 text-green-800",s="Genehmigt";break;case"REJECTED":t="bg-red-100 text-red-800",s="Abgelehnt";break;case"PENDING":t="bg-yellow-100 text-yellow-800",s="Ausstehend";break;case"FLAGGED":t="bg-orange-100 text-orange-800",s="Markiert";break;default:t="bg-gray-100 text-gray-800",s=e}return(0,g.jsx)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(t),children:s})},K=function(e){var t="",s="";switch(e){case"REVIEW":t="bg-blue-100 text-blue-800",s="Bewertung";break;case"BLOG":t="bg-purple-100 text-purple-800",s="Blog";break;case"FORUM":t="bg-indigo-100 text-indigo-800",s="Forum";break;default:t="bg-gray-100 text-gray-800",s=e}return(0,g.jsx)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(t),children:s})};return x&&0===l.length?(0,g.jsx)("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:(0,g.jsx)("div",{className:"animate-pulse flex space-x-4",children:(0,g.jsxs)("div",{className:"flex-1 space-y-4 py-1",children:[(0,g.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),(0,g.jsxs)("div",{className:"space-y-2",children:[(0,g.jsx)("div",{className:"h-4 bg-gray-200 rounded"}),(0,g.jsx)("div",{className:"h-4 bg-gray-200 rounded w-5/6"})]})]})})}):(0,g.jsxs)("div",{className:"space-y-6",children:[(0,g.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,g.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Kommentarmoderation"}),(0,g.jsx)("div",{className:"flex flex-wrap gap-2",children:(0,g.jsxs)("button",{onClick:function(){C("all"),A("all"),D("createdAt"),L("desc"),w(function(e){return b(b({},e),{},{page:1})})},className:"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[(0,g.jsx)(p.Bw1,{className:"mr-2 h-4 w-4"}),"Filter zur\xfccksetzen"]})})]}),(0,g.jsx)("div",{className:"bg-white shadow rounded-lg p-4",children:(0,g.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,g.jsxs)("div",{className:"flex-1",children:[(0,g.jsx)("label",{htmlFor:"statusFilter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,g.jsxs)("select",{id:"statusFilter",value:E,onChange:function(e){return C(e.target.value)},className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:[(0,g.jsx)("option",{value:"all",children:"Alle Status"}),(0,g.jsx)("option",{value:"APPROVED",children:"Genehmigt"}),(0,g.jsx)("option",{value:"REJECTED",children:"Abgelehnt"}),(0,g.jsx)("option",{value:"PENDING",children:"Ausstehend"}),(0,g.jsx)("option",{value:"FLAGGED",children:"Markiert"})]})]}),(0,g.jsxs)("div",{className:"flex-1",children:[(0,g.jsx)("label",{htmlFor:"contentTypeFilter",className:"block text-sm font-medium text-gray-700 mb-1",children:"Inhaltstyp"}),(0,g.jsxs)("select",{id:"contentTypeFilter",value:R,onChange:function(e){return A(e.target.value)},className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:[(0,g.jsx)("option",{value:"all",children:"Alle Typen"}),(0,g.jsx)("option",{value:"REVIEW",children:"Bewertungen"}),(0,g.jsx)("option",{value:"BLOG",children:"Blog"}),(0,g.jsx)("option",{value:"FORUM",children:"Forum"})]})]}),(0,g.jsxs)("div",{className:"flex-1",children:[(0,g.jsx)("label",{htmlFor:"sortBy",className:"block text-sm font-medium text-gray-700 mb-1",children:"Sortieren nach"}),(0,g.jsxs)("select",{id:"sortBy",value:z,onChange:function(e){return D(e.target.value)},className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:[(0,g.jsx)("option",{value:"createdAt",children:"Erstellungsdatum"}),(0,g.jsx)("option",{value:"reports",children:"Meldungen"})]})]}),(0,g.jsxs)("div",{className:"flex-1",children:[(0,g.jsx)("label",{htmlFor:"sortOrder",className:"block text-sm font-medium text-gray-700 mb-1",children:"Reihenfolge"}),(0,g.jsxs)("select",{id:"sortOrder",value:F,onChange:function(e){return L(e.target.value)},className:"block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",children:[(0,g.jsx)("option",{value:"desc",children:"Absteigend"}),(0,g.jsx)("option",{value:"asc",children:"Aufsteigend"})]})]})]})}),j&&(0,g.jsx)("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:(0,g.jsxs)("div",{className:"flex",children:[(0,g.jsx)("div",{className:"flex-shrink-0",children:(0,g.jsx)(p.q5L,{className:"h-5 w-5 text-red-400"})}),(0,g.jsx)("div",{className:"ml-3",children:(0,g.jsx)("p",{className:"text-sm text-red-700",children:j})})]})}),(0,g.jsxs)("div",{className:"bg-white shadow overflow-hidden rounded-lg",children:[(0,g.jsx)("div",{className:"overflow-x-auto",children:(0,g.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,g.jsx)("thead",{className:"bg-gray-50",children:(0,g.jsxs)("tr",{children:[(0,g.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kommentar"}),(0,g.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Typ"}),(0,g.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Benutzer"}),(0,g.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Datum"}),(0,g.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,g.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Meldungen"}),(0,g.jsx)("th",{scope:"col",className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aktionen"})]})}),(0,g.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===l.length?(0,g.jsx)("tr",{children:(0,g.jsx)("td",{colSpan:7,className:"px-6 py-4 text-center text-sm text-gray-500",children:"Keine Kommentare gefunden"})}):l.map(function(e){return(0,g.jsxs)("tr",{children:[(0,g.jsx)("td",{className:"px-6 py-4",children:(0,g.jsx)("p",{className:"text-sm text-gray-900 line-clamp-2",children:e.content.length>100?"".concat(e.content.substring(0,100),"..."):e.content})}),(0,g.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:K(e.contentType)}),(0,g.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,g.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.user.firstName," ",e.user.lastName]}),(0,g.jsx)("div",{className:"text-sm text-gray-500",children:e.user.email})]}),(0,g.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString("de-DE")}),(0,g.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:T(e.status)}),(0,g.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.reports.length>0?(0,g.jsx)("span",{className:"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full bg-red-100 text-red-800",children:e.reports.length}):(0,g.jsx)("span",{children:"0"})}),(0,g.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,g.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,g.jsx)("button",{onClick:function(){return a.push("/admin/moderation/comments/".concat(e.id))},className:"text-indigo-600 hover:text-indigo-900",title:"Details anzeigen",children:(0,g.jsx)(p.rDJ,{className:"h-5 w-5"})}),(0,g.jsx)("button",{onClick:function(){return B(e.id,"APPROVED")},className:"text-green-600 hover:text-green-900",title:"Genehmigen",children:(0,g.jsx)(p.UgA,{className:"h-5 w-5"})}),(0,g.jsx)("button",{onClick:function(){return B(e.id,"REJECTED")},className:"text-red-600 hover:text-red-900",title:"Ablehnen",children:(0,g.jsx)(p.q5L,{className:"h-5 w-5"})}),(0,g.jsx)("button",{onClick:function(){return B(e.id,"FLAGGED")},className:"text-orange-600 hover:text-orange-900",title:"Markieren",children:(0,g.jsx)(p.MJI,{className:"h-5 w-5"})}),(0,g.jsx)("button",{onClick:function(){return I(e.id)},className:"text-gray-600 hover:text-gray-900",title:"L\xf6schen",children:(0,g.jsx)(p.Ybf,{className:"h-5 w-5"})})]})})]},e.id)})})]})}),N.totalPages>1&&(0,g.jsx)("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:(0,g.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,g.jsx)("div",{children:(0,g.jsxs)("p",{className:"text-sm text-gray-700",children:["Zeige ",(0,g.jsx)("span",{className:"font-medium",children:(N.page-1)*N.limit+1})," bis"," ",(0,g.jsx)("span",{className:"font-medium",children:Math.min(N.page*N.limit,N.totalItems)})," ","von ",(0,g.jsx)("span",{className:"font-medium",children:N.totalItems})," Ergebnissen"]})}),(0,g.jsx)("div",{children:(0,g.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[(0,g.jsxs)("button",{onClick:function(){return _(N.page-1)},disabled:1===N.page,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium ".concat(1===N.page?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"),children:[(0,g.jsx)("span",{className:"sr-only",children:"Zur\xfcck"}),(0,g.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,g.jsx)("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})]}),(0,d.Z)(Array(N.totalPages)).map(function(e,t){var s=t+1,r=s===N.page;return 1===s||s===N.totalPages||s>=N.page-1&&s<=N.page+1?(0,g.jsx)("button",{onClick:function(){return _(s)},className:"relative inline-flex items-center px-4 py-2 border text-sm font-medium ".concat(r?"z-10 bg-indigo-50 border-indigo-500 text-indigo-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"),children:s},s):2===s&&N.page>3||s===N.totalPages-1&&N.page<N.totalPages-2?(0,g.jsx)("span",{className:"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700",children:"..."},s):null}),(0,g.jsxs)("button",{onClick:function(){return _(N.page+1)},disabled:N.page===N.totalPages,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium ".concat(N.page===N.totalPages?"text-gray-300 cursor-not-allowed":"text-gray-500 hover:bg-gray-50"),children:[(0,g.jsx)("span",{className:"sr-only",children:"Weiter"}),(0,g.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:(0,g.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]})})]})})]})]})}var y=!0;function v(){(0,c.useAuth)().user;var e=(0,r.useRouter)(),t=(0,n.useState)(!0),s=t[0],d=t[1];return((0,n.useEffect)(function(){d(!1)},[]),s)?(0,g.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,g.jsx)(a.Z,{}),(0,g.jsx)("main",{className:"flex-grow flex items-center justify-center",children:(0,g.jsxs)("div",{className:"text-center",children:[(0,g.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500 mx-auto"}),(0,g.jsx)("p",{className:"mt-4 text-lg",children:"Laden..."})]})}),(0,g.jsx)(i.Z,{})]}):(0,g.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,g.jsx)(a.Z,{}),(0,g.jsxs)("div",{className:"flex flex-col md:flex-row flex-grow",children:[(0,g.jsx)(o.Z,{activeItem:"moderation"}),(0,g.jsx)("main",{className:"flex-grow bg-gray-50 py-6 px-4 md:px-8",children:(0,g.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,g.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,g.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Kommentarmoderation"}),(0,g.jsxs)("div",{className:"flex space-x-2",children:[(0,g.jsx)("button",{onClick:function(){return e.push("/admin/moderation/reviews")},className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"Bewertungen moderieren"}),(0,g.jsx)("button",{onClick:function(){return e.push("/admin/dashboard")},className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Zur\xfcck zum Dashboard"})]})]}),(0,g.jsx)(j,{})]})})]}),(0,g.jsx)(i.Z,{})]})}},19265:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/moderation/comments",function(){return s(45027)}])},11163:function(e,t,s){e.exports=s(11171)},13114:function(e,t,s){"use strict";s.d(t,{M:function(){return b}});var r=s(5802),n=s(92401),a=s(25364),i=s(96681),l=s(58868),c=s(240),o=s(93243),d=s(16014);class x extends n.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,s=(0,o.R)(e)&&e.offsetWidth||0,r=this.props.sizeRef.current;r.height=t.offsetHeight||0,r.width=t.offsetWidth||0,r.top=t.offsetTop,r.left=t.offsetLeft,r.right=s-r.width-r.left}return null}componentDidUpdate(){}render(){return this.props.children}}function u({children:e,isPresent:t,anchorX:s,root:a}){let i=(0,n.useId)(),l=(0,n.useRef)(null),c=(0,n.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=(0,n.useContext)(d._);return(0,n.useInsertionEffect)(()=>{let{width:e,height:r,top:n,left:d,right:x}=c.current;if(t||!l.current||!e||!r)return;let u="left"===s?`left: ${d}`:`right: ${x}`;l.current.dataset.motionPopId=i;let m=document.createElement("style");o&&(m.nonce=o);let h=a??document.head;return h.appendChild(m),m.sheet&&m.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${r}px !important;
            ${u}px !important;
            top: ${n}px !important;
          }
        `),()=>{h.contains(m)&&h.removeChild(m)}},[t]),(0,r.jsx)(x,{isPresent:t,childRef:l,sizeRef:c,children:n.cloneElement(e,{ref:l})})}let m=({children:e,initial:t,isPresent:s,onExitComplete:a,custom:l,presenceAffectsLayout:o,mode:d,anchorX:x,root:m})=>{let p=(0,i.h)(h),g=(0,n.useId)(),f=!0,b=(0,n.useMemo)(()=>(f=!1,{id:g,initial:t,isPresent:s,custom:l,onExitComplete:e=>{for(let t of(p.set(e,!0),p.values()))if(!t)return;a&&a()},register:e=>(p.set(e,!1),()=>p.delete(e))}),[s,p,a]);return o&&f&&(b={...b}),(0,n.useMemo)(()=>{p.forEach((e,t)=>p.set(t,!1))},[s]),n.useEffect(()=>{s||p.size||!a||a()},[s]),"popLayout"===d&&(e=(0,r.jsx)(u,{isPresent:s,anchorX:x,root:m,children:e})),(0,r.jsx)(c.O.Provider,{value:b,children:e})};function h(){return new Map}var p=s(15947);let g=e=>e.key||"";function f(e){let t=[];return n.Children.forEach(e,e=>{(0,n.isValidElement)(e)&&t.push(e)}),t}let b=({children:e,custom:t,initial:s=!0,onExitComplete:c,presenceAffectsLayout:o=!0,mode:d="sync",propagate:x=!1,anchorX:u="left",root:h})=>{let[b,j]=(0,p.oO)(x),y=(0,n.useMemo)(()=>f(e),[e]),v=x&&!b?[]:y.map(g),N=(0,n.useRef)(!0),w=(0,n.useRef)(y),k=(0,i.h)(()=>new Map),[E,C]=(0,n.useState)(y),[P,R]=(0,n.useState)(y);(0,l.L)(()=>{N.current=!1,w.current=y;for(let e=0;e<P.length;e++){let t=g(P[e]);v.includes(t)?k.delete(t):!0!==k.get(t)&&k.set(t,!1)}},[P,v.length,v.join("-")]);let A=[];if(y!==E){let e=[...y];for(let t=0;t<P.length;t++){let s=P[t],r=g(s);v.includes(r)||(e.splice(t,0,s),A.push(s))}return"wait"===d&&A.length&&(e=A),R(f(e)),C(y),null}let{forceRender:S}=(0,n.useContext)(a.p);return(0,r.jsx)(r.Fragment,{children:P.map(e=>{let n=g(e),a=(!x||!!b)&&(y===P||v.includes(n));return(0,r.jsx)(m,{isPresent:a,initial:(!N.current||!!s)&&void 0,custom:t,presenceAffectsLayout:o,mode:d,root:h,onExitComplete:a?void 0:()=>{if(!k.has(n))return;k.set(n,!0);let e=!0;k.forEach(t=>{t||(e=!1)}),e&&(S?.(),R(w.current),x&&j?.(),c&&c())},anchorX:u,children:e},n)})})}}},function(e){e.O(0,[6130,3365,6058,6405,8428,300,3708,2888,9774,179],function(){return e(e.s=19265)}),_N_E=e.O()}]);