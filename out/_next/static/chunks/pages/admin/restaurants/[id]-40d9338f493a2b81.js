(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3997],{95443:function(e,s,t){"use strict";t.d(s,{Z:function(){return o}});var r=t(92401),a=t(41664),n=t.n(a),i=t(11163),l=t(89681),d=t(91472),c=t(5802);function o(e){var s=e.activeItem,t=void 0===s?"dashboard":s,a=(0,i.useRouter)(),o=(0,r.useState)(!1),x=o[0],m=o[1],h=[{icon:d.m6D,label:"Dashboard",id:"dashboard",path:"/admin/dashboard"},{icon:d.LSm,label:"Partneranfragen",id:"partner-requests",path:"/admin/partner-requests"},{icon:d.SnF,label:"Restaurants",id:"restaurants",path:"/admin/restaurants"},{icon:d.orK,label:"Kontakttisch-Analysen",id:"contact-tables-analytics",path:"/admin/contact-tables/analytics"},{icon:d.bfl,label:"Moderation",id:"moderation",path:"/admin/moderation/reviews"},{icon:d.zFh,label:"Abonnements",id:"subscriptions",path:"/admin/subscriptions"},{icon:d.aCJ,label:"Kategorien",id:"categories",path:"/admin/categories"},{icon:d.E25,label:"Ausstattung",id:"amenities",path:"/admin/amenities"},{icon:d.i63,label:"St\xe4dte",id:"cities",path:"/admin/cities"},{icon:d.WY8,label:"Benutzer",id:"users",path:"/admin/users",useRouterPush:!0},{icon:d.NOg,label:"Blogs",id:"blogs",path:"/admin/blogs"},{icon:d.Imn,label:"Newsletter",id:"newsletter",path:"/admin/newsletters"},{icon:d.Imn,label:"E-Mail-Builder",id:"email-builder",path:"/admin/email-builder"},{icon:d.nbt,label:"Einstellungen",id:"settings",path:"/admin/settings"}];return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"fixed bottom-4 right-4 md:hidden z-30",children:(0,c.jsx)("button",{onClick:function(){return m(!x)},className:"bg-primary-600 text-white p-3 rounded-full shadow-lg",children:x?(0,c.jsx)(d.q5L,{size:24}):(0,c.jsx)(d.cur,{size:24})})}),(0,c.jsx)(l.E.div,{className:"fixed inset-0 bg-black bg-opacity-50 z-20 md:hidden",initial:{opacity:0},animate:{opacity:x?1:0},transition:{duration:.2},style:{pointerEvents:x?"auto":"none"},children:(0,c.jsxs)(l.E.div,{className:"fixed inset-y-0 left-0 w-64 bg-white shadow-xl z-30 overflow-y-auto",initial:{x:"-100%"},animate:{x:x?0:"-100%"},transition:{duration:.3},children:[(0,c.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,c.jsxs)("div",{className:"flex items-center justify-between",children:[(0,c.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Admin"}),(0,c.jsx)("button",{onClick:function(){return m(!1)},className:"text-gray-500 hover:text-gray-700",children:(0,c.jsx)(d.q5L,{size:24})})]})}),(0,c.jsx)("nav",{className:"p-4",children:(0,c.jsx)("ul",{className:"space-y-2",children:h.map(function(e){var s=e.icon,r=t===e.id;return(0,c.jsx)("li",{children:e.useRouterPush?(0,c.jsxs)("div",{className:"flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors cursor-pointer ".concat(r?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-100"),onClick:function(){console.log("AdminSidebar (Mobile): Router.push zu ".concat(e.label," (").concat(e.path,")")),a.push(e.path),m(!1)},children:[(0,c.jsx)(s,{size:20}),(0,c.jsx)("span",{children:e.label}),"partner-requests"===e.id&&(0,c.jsx)("span",{className:"ml-auto bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:"Neu"})]}):(0,c.jsxs)(n(),{href:e.path,className:"flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ".concat(r?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-100"),onClick:function(){console.log("AdminSidebar (Mobile): Link zu ".concat(e.label," (").concat(e.path,") geklickt")),m(!1)},children:[(0,c.jsx)(s,{size:20}),(0,c.jsx)("span",{children:e.label}),"partner-requests"===e.id&&(0,c.jsx)("span",{className:"ml-auto bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:"Neu"})]})},e.id)})})})]})}),(0,c.jsx)("aside",{className:"hidden md:block w-64 bg-white shadow-md min-h-screen pt-20",children:(0,c.jsx)("nav",{className:"p-4",children:(0,c.jsx)("ul",{className:"space-y-2",children:h.map(function(e){var s=e.icon,r=t===e.id;return(0,c.jsx)("li",{children:e.useRouterPush?(0,c.jsxs)("div",{className:"flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors cursor-pointer ".concat(r?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-100"),onClick:function(){console.log("AdminSidebar (Desktop): Router.push zu ".concat(e.label," (").concat(e.path,")")),a.push(e.path)},children:[(0,c.jsx)(s,{size:20}),(0,c.jsx)("span",{children:e.label}),"partner-requests"===e.id&&(0,c.jsx)("span",{className:"ml-auto bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:"Neu"})]}):(0,c.jsxs)(n(),{href:e.path,className:"flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ".concat(r?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-100"),onClick:function(){console.log("AdminSidebar (Desktop): Link zu ".concat(e.label," (").concat(e.path,") geklickt"))},children:[(0,c.jsx)(s,{size:20}),(0,c.jsx)("span",{children:e.label}),"partner-requests"===e.id&&(0,c.jsx)("span",{className:"ml-auto bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:"Neu"})]})},e.id)})})})})]})}},17662:function(e,s,t){"use strict";t.d(s,{Z:function(){return o}});var r=t(41664),a=t.n(r),n=t(25675),i=t.n(n),l=t(91472),d=t(41338),c=t(5802);function o(){return(0,c.jsx)("footer",{className:"bg-gradient-to-br from-neutral-900 to-neutral-800 text-neutral-300",children:(0,c.jsxs)("div",{className:"container mx-auto py-16 px-4",children:[(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12",children:[(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsx)(a(),{href:"/",className:"inline-block",children:(0,c.jsx)("div",{className:"flex items-center space-x-3 group",children:(0,c.jsx)("div",{className:"h-12 bg-white p-2 rounded-lg overflow-hidden relative",children:(0,c.jsx)(i(),{src:"/images/logo-fixed/Logo CT quer 4c.webp",alt:"Contact Tables Logo",width:120,height:40,className:"transition-all group-hover:scale-105",priority:!0,style:{objectFit:"contain",width:"auto",height:"100%"},quality:100})})})}),(0,c.jsx)("p",{className:"text-neutral-400 leading-relaxed",children:"Wir verbinden Menschen am Restauranttisch â€“ f\xfcr echte Begegnungen und inspirierende Gespr\xe4che."})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"text-xl font-semibold text-white mb-6 border-b border-neutral-700 pb-3",children:"Entdecken"}),(0,c.jsxs)("ul",{className:"space-y-4",children:[(0,c.jsx)("li",{children:(0,c.jsxs)(a(),{href:"/restaurants",className:"flex items-center space-x-2 text-neutral-400 hover:text-primary-400 transition-colors group",children:[(0,c.jsx)(l.i63,{className:"group-hover:translate-x-1 transition-transform"}),(0,c.jsx)("span",{children:"Restaurants finden"})]})}),(0,c.jsx)("li",{children:(0,c.jsxs)(a(),{href:"/about",className:"flex items-center space-x-2 text-neutral-400 hover:text-primary-400 transition-colors group",children:[(0,c.jsx)(l.WY8,{className:"group-hover:translate-x-1 transition-transform"}),(0,c.jsx)("span",{children:"\xdcber uns"})]})}),(0,c.jsx)("li",{children:(0,c.jsxs)(a(),{href:"/restaurant/register",className:"flex items-center space-x-2 text-neutral-400 hover:text-primary-400 transition-colors group",children:[(0,c.jsx)(l.i63,{className:"group-hover:translate-x-1 transition-transform"}),(0,c.jsx)("span",{children:"Restaurant anmelden"})]})}),(0,c.jsx)("li",{children:(0,c.jsxs)(a(),{href:"/events",className:"flex items-center space-x-2 text-neutral-400 hover:text-primary-400 transition-colors group",children:[(0,c.jsx)(l.TCC,{className:"group-hover:translate-x-1 transition-transform"}),(0,c.jsx)("span",{children:"Events & Aktionen"})]})})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"text-xl font-semibold text-white mb-6 border-b border-neutral-700 pb-3",children:"Rechtliches"}),(0,c.jsxs)("ul",{className:"space-y-4",children:[(0,c.jsx)("li",{children:(0,c.jsx)(a(),{href:"/datenschutz",className:"text-neutral-400 hover:text-primary-400 transition-colors",children:"Datenschutzerkl\xe4rung"})}),(0,c.jsx)("li",{children:(0,c.jsx)(a(),{href:"/faq",className:"text-neutral-400 hover:text-primary-400 transition-colors",children:"FAQ"})}),(0,c.jsx)("li",{children:(0,c.jsx)(a(),{href:"/impressum",className:"text-neutral-400 hover:text-primary-400 transition-colors",children:"Impressum"})}),(0,c.jsx)("li",{children:(0,c.jsx)(a(),{href:"/barrierefreiheit",className:"text-neutral-400 hover:text-primary-400 transition-colors",children:"Barrierefreiheit"})})]})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"text-xl font-semibold text-white mb-6 border-b border-neutral-700 pb-3",children:"Kontakt"}),(0,c.jsxs)("ul",{className:"space-y-4",children:[(0,c.jsx)("li",{className:"group",children:(0,c.jsxs)("a",{href:"tel:+4915679640069",className:"flex items-center space-x-3 text-neutral-400 hover:text-primary-400 transition-colors",children:[(0,c.jsx)("div",{className:"w-8 h-8 rounded-full bg-neutral-800 group-hover:bg-primary-700 flex items-center justify-center transition-all duration-300",children:(0,c.jsx)(l.tUt,{size:16})}),(0,c.jsx)("span",{children:"+49 15679 640069"})]})}),(0,c.jsx)("li",{className:"group",children:(0,c.jsxs)(a(),{href:"/contact",className:"flex items-center space-x-3 text-neutral-400 hover:text-primary-400 transition-colors",children:[(0,c.jsx)("div",{className:"w-8 h-8 rounded-full bg-neutral-800 group-hover:bg-primary-700 flex items-center justify-center transition-all duration-300",children:(0,c.jsx)(l.Imn,{size:16})}),(0,c.jsx)("span",{children:"Nachricht absenden"})]})}),(0,c.jsx)("li",{className:"group",children:(0,c.jsxs)("a",{href:"https://www.facebook.com/contacttables/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 text-neutral-400 hover:text-primary-400 transition-colors",children:[(0,c.jsx)("div",{className:"w-8 h-8 rounded-full bg-neutral-800 group-hover:bg-primary-700 flex items-center justify-center transition-all duration-300",children:(0,c.jsx)(d.tBk,{size:16})}),(0,c.jsx)("span",{children:"Facebook"})]})}),(0,c.jsx)("li",{className:"group",children:(0,c.jsxs)("a",{href:"https://www.instagram.com/contacttables/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 text-neutral-400 hover:text-primary-400 transition-colors",children:[(0,c.jsx)("div",{className:"w-8 h-8 rounded-full bg-neutral-800 group-hover:bg-primary-700 flex items-center justify-center transition-all duration-300",children:(0,c.jsx)(d.Zf_,{size:16})}),(0,c.jsx)("span",{children:"Instagram"})]})})]})]})]}),(0,c.jsx)("div",{className:"border-t border-neutral-800 mt-16 pt-8 text-center",children:(0,c.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[(0,c.jsxs)("p",{className:"text-neutral-500",children:["\xa9 ",new Date().getFullYear()," contact-tables. Alle Rechte vorbehalten."]}),(0,c.jsxs)("p",{className:"flex items-center text-neutral-500",children:[(0,c.jsx)("span",{children:"Made with"})," ",(0,c.jsx)(l.$aX,{className:"mx-2 text-primary-500"})," ",(0,c.jsx)("span",{children:"in Germany"})]})]})})]})})}},74719:function(e,s,t){"use strict";t.r(s),t.d(s,{__N_SSP:function(){return v},default:function(){return N}});var r=t(11163),a=t(92401),n=t(63708),i=t(17662),l=t(89681),d=t(95443),c=t(90116),o=t(50029),x=t(64687),m=t.n(x),h=t(91472),u=t(80663),g=t(23148),p=t(25675),j=t.n(p),b=t(5802);function f(e){var s,t,r,n,i,l,d,x,g=e.restaurantId,p=(0,a.useState)(null),f=p[0],v=p[1],N=(0,a.useState)(!0),y=N[0],w=N[1],k=(0,a.useState)(null),E=k[0],D=k[1],R=(0,a.useState)("overview"),A=R[0],I=R[1];(0,a.useEffect)(function(){var e,s=(e=(0,o.Z)(m().mark(function e(){var s;return m().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,w(!0),e.next=4,fetch("/api/admin/restaurants/details?id=".concat(g));case 4:if((s=e.sent).ok){e.next=7;break}throw Error("Fehler beim Laden der Restaurant-Details");case 7:return e.next=9,s.json();case 9:v(e.sent),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.error("Fehler beim Laden der Restaurant-Details:",e.t0),D("Die Restaurant-Details konnten nicht geladen werden.");case 17:return e.prev=17,w(!1),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[0,13,17,20]])})),function(){return e.apply(this,arguments)});g&&s()},[g]);var C={labels:(null==f?void 0:f.statistics.monthlyReservations.map(function(e){return e.month}))||[],datasets:[{label:"Reservierungen",data:(null==f?void 0:f.statistics.monthlyReservations.map(function(e){return e.count}))||[],borderColor:"rgb(79, 70, 229)",backgroundColor:"rgba(79, 70, 229, 0.5)",tension:.3}]},z={labels:null!=f&&f.reviews?["1â˜…","2â˜…","3â˜…","4â˜…","5â˜…"]:[],datasets:[{label:"Anzahl der Bewertungen",data:null!=f&&f.reviews?[f.reviews.filter(function(e){return 1===e.rating}).length,f.reviews.filter(function(e){return 2===e.rating}).length,f.reviews.filter(function(e){return 3===e.rating}).length,f.reviews.filter(function(e){return 4===e.rating}).length,f.reviews.filter(function(e){return 5===e.rating}).length]:[],backgroundColor:["rgba(239, 68, 68, 0.6)","rgba(249, 115, 22, 0.6)","rgba(234, 179, 8, 0.6)","rgba(34, 197, 94, 0.6)","rgba(16, 185, 129, 0.6)"]}]};if(y)return(0,b.jsx)("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:(0,b.jsx)("div",{className:"animate-pulse flex space-x-4",children:(0,b.jsxs)("div",{className:"flex-1 space-y-4 py-1",children:[(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded"}),(0,b.jsx)("div",{className:"h-4 bg-gray-200 rounded w-5/6"})]})]})})});if(E)return(0,b.jsx)("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:(0,b.jsx)("div",{className:"text-red-500",children:E})});if(!f)return(0,b.jsx)("div",{className:"bg-white shadow rounded-lg p-6 mb-6",children:(0,b.jsx)("div",{className:"text-gray-500",children:"Kein Restaurant ausgew\xe4hlt"})});var S=function(e){var s=e.status,t="bg-gray-100 text-gray-800";return"ACTIVE"===s||"VERIFIED"===s?t="bg-green-100 text-green-800":"PENDING"===s?t="bg-yellow-100 text-yellow-800":("REJECTED"===s||"INACTIVE"===s)&&(t="bg-red-100 text-red-800"),(0,b.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(t),children:"ACTIVE"===s?"Aktiv":"PENDING"===s?"Ausstehend":"REJECTED"===s?"Abgelehnt":"VERIFIED"===s?"Verifiziert":"INACTIVE"===s?"Inaktiv":s})};return(0,b.jsx)("div",{className:"space-y-6",children:(0,b.jsxs)("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[(0,b.jsxs)("div",{className:"relative h-48",children:[f.coverImage?(0,b.jsx)(j(),{src:f.coverImage,alt:f.name,layout:"fill",objectFit:"cover"}):(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-indigo-500 to-purple-600"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-black bg-opacity-30"}),(0,b.jsx)("div",{className:"absolute bottom-0 left-0 p-6",children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:"h-16 w-16 rounded-full bg-white p-1 shadow-lg",children:f.logo?(0,b.jsx)(j(),{src:f.logo,alt:"".concat(f.name," Logo"),width:64,height:64,className:"rounded-full"}):(0,b.jsx)("div",{className:"h-full w-full rounded-full bg-gray-200 flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-xl font-bold text-gray-500",children:f.name.charAt(0)})})}),(0,b.jsxs)("div",{className:"ml-4",children:[(0,b.jsx)("h2",{className:"text-2xl font-bold text-white",children:f.name}),(0,b.jsxs)("div",{className:"flex items-center mt-1",children:[(0,b.jsx)(S,{status:f.isActive?"ACTIVE":"INACTIVE"}),(0,b.jsx)("span",{className:"mx-2 text-white",children:"â€¢"}),(0,b.jsx)(S,{status:f.contractStatus}),(0,b.jsx)("span",{className:"mx-2 text-white",children:"â€¢"}),(0,b.jsx)(S,{status:f.verificationStatus||"PENDING"})]})]})]})})]}),(0,b.jsx)("div",{className:"border-b border-gray-200",children:(0,b.jsxs)("nav",{className:"flex -mb-px",children:[(0,b.jsx)("button",{onClick:function(){return I("overview")},className:"py-4 px-6 font-medium text-sm border-b-2 ".concat("overview"===A?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"\xdcbersicht"}),(0,b.jsx)("button",{onClick:function(){return I("tables")},className:"py-4 px-6 font-medium text-sm border-b-2 ".concat("tables"===A?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Kontakttische"}),(0,b.jsx)("button",{onClick:function(){return I("reviews")},className:"py-4 px-6 font-medium text-sm border-b-2 ".concat("reviews"===A?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Bewertungen"}),(0,b.jsx)("button",{onClick:function(){return I("contract")},className:"py-4 px-6 font-medium text-sm border-b-2 ".concat("contract"===A?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Vertrag"})]})}),(0,b.jsxs)("div",{className:"p-6",children:["overview"===A&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,b.jsx)("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200",children:(0,b.jsx)("div",{className:"px-4 py-5 sm:p-6",children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:"flex-shrink-0 bg-indigo-500 rounded-md p-3",children:(0,b.jsx)(h.WY8,{className:"h-6 w-6 text-white"})}),(0,b.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,b.jsxs)("dl",{children:[(0,b.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Reservierungen"}),(0,b.jsx)("dd",{className:"flex items-baseline",children:(0,b.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:f.statistics.totalReservations})})]})})]})})}),(0,b.jsx)("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200",children:(0,b.jsx)("div",{className:"px-4 py-5 sm:p-6",children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:"flex-shrink-0 bg-green-500 rounded-md p-3",children:(0,b.jsx)(h.UgA,{className:"h-6 w-6 text-white"})}),(0,b.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,b.jsxs)("dl",{children:[(0,b.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Abgeschlossen"}),(0,b.jsx)("dd",{className:"flex items-baseline",children:(0,b.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:f.statistics.completedReservations})})]})})]})})}),(0,b.jsx)("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200",children:(0,b.jsx)("div",{className:"px-4 py-5 sm:p-6",children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:"flex-shrink-0 bg-yellow-500 rounded-md p-3",children:(0,b.jsx)(h.nae,{className:"h-6 w-6 text-white"})}),(0,b.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,b.jsxs)("dl",{children:[(0,b.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Bewertung"}),(0,b.jsx)("dd",{className:"flex items-baseline",children:(0,b.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:f.statistics.averageRating.toFixed(1)})})]})})]})})}),(0,b.jsx)("div",{className:"bg-white overflow-hidden shadow-sm rounded-lg border border-gray-200",children:(0,b.jsx)("div",{className:"px-4 py-5 sm:p-6",children:(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:"flex-shrink-0 bg-purple-500 rounded-md p-3",children:(0,b.jsx)(h.fsB,{className:"h-6 w-6 text-white"})}),(0,b.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,b.jsxs)("dl",{children:[(0,b.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Erfolgsrate"}),(0,b.jsx)("dd",{className:"flex items-baseline",children:(0,b.jsxs)("div",{className:"text-2xl font-semibold text-gray-900",children:[f.statistics.successRate.toFixed(0),"%"]})})]})})]})})})]}),(0,b.jsxs)("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 overflow-hidden",children:[(0,b.jsx)("div",{className:"px-4 py-5 sm:px-6 bg-gray-50",children:(0,b.jsx)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:"Restaurant-Informationen"})}),(0,b.jsx)("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-6",children:(0,b.jsxs)("dl",{className:"grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Beschreibung"}),(0,b.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:f.description||"Keine Beschreibung verf\xfcgbar"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Adresse"}),(0,b.jsxs)("dd",{className:"mt-1 text-sm text-gray-900",children:[null===(s=f.address)||void 0===s?void 0:s.street,(0,b.jsx)("br",{}),null===(t=f.address)||void 0===t?void 0:t.postalCode," ",null===(r=f.address)||void 0===r?void 0:r.city,(0,b.jsx)("br",{}),null===(n=f.address)||void 0===n?void 0:n.country]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Inhaber"}),(0,b.jsxs)("dd",{className:"mt-1 text-sm text-gray-900",children:[null===(i=f.owner)||void 0===i?void 0:i.firstName," ",null===(l=f.owner)||void 0===l?void 0:l.lastName,(0,b.jsx)("br",{}),null===(d=f.owner)||void 0===d?void 0:d.email,(0,b.jsx)("br",{}),null===(x=f.owner)||void 0===x?void 0:x.phone]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Registriert am"}),(0,b.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:new Date(f.createdAt).toLocaleDateString("de-DE")})]})]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Reservierungstrend"}),(0,b.jsx)("div",{className:"h-64",children:(0,b.jsx)(u.x1,{options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Monatliche Reservierungen"}},scales:{y:{beginAtZero:!0,ticks:{precision:0}}}},data:C})})]}),(0,b.jsxs)("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-6",children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Bewertungsverteilung"}),(0,b.jsx)("div",{className:"h-64",children:(0,b.jsx)(u.$Q,{options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Bewertungsverteilung"}},scales:{y:{beginAtZero:!0,ticks:{precision:0}}}},data:z})})]})]})]}),"tables"===A&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Kontakttische"}),0===f.contactTables.length?(0,b.jsx)("p",{className:"text-gray-500",children:"Keine Kontakttische verf\xfcgbar"}):(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,b.jsx)("thead",{className:"bg-gray-50",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Kapazit\xe4t"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reservierungen"}),(0,b.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Auslastung"})]})}),(0,b.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:f.contactTables.map(function(e){return(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.name}),(0,b.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[e.capacity," Personen"]}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.isActive?(0,b.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Aktiv"}):(0,b.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Inaktiv"})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.reservations.length}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.reservations.length>0?(0,b.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:(0,b.jsx)("div",{className:"bg-blue-600 h-2.5 rounded-full",style:{width:"".concat(Math.min(100,e.reservations.length/10*100),"%")}})}):"Keine Daten"})]},e.id)})})]})})]}),"reviews"===A&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center",children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Bewertungen"}),(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)(h.nae,{className:"text-yellow-400 mr-1"}),(0,b.jsx)("span",{className:"font-medium",children:f.statistics.averageRating.toFixed(1)}),(0,b.jsxs)("span",{className:"text-gray-500 ml-1",children:["(",f.reviews.length," Bewertungen)"]})]})]}),0===f.reviews.length?(0,b.jsx)("p",{className:"text-gray-500",children:"Keine Bewertungen verf\xfcgbar"}):(0,b.jsx)("div",{className:"space-y-4",children:f.reviews.map(function(e){return(0,b.jsxs)("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 p-4",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center",children:(0,b.jsxs)("span",{className:"font-medium text-gray-600",children:[e.user.firstName.charAt(0),e.user.lastName.charAt(0)]})}),(0,b.jsxs)("div",{className:"ml-3",children:[(0,b.jsxs)("p",{className:"text-sm font-medium text-gray-900",children:[e.user.firstName," ",e.user.lastName]}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:new Date(e.createdAt).toLocaleDateString("de-DE")})]})]}),(0,b.jsx)("div",{className:"flex items-center",children:(0,c.Z)([,,,,,]).map(function(s,t){return(0,b.jsx)(h.nae,{className:t<e.rating?"text-yellow-400":"text-gray-300"},t)})})]}),(0,b.jsx)("p",{className:"mt-3 text-sm text-gray-600",children:e.comment}),(0,b.jsxs)("div",{className:"mt-3 flex justify-end space-x-2",children:[(0,b.jsx)("button",{className:"inline-flex items-center px-2.5 py-1.5 border border-gray-300 text-xs font-medium rounded text-gray-700 bg-white hover:bg-gray-50",children:"Melden"}),(0,b.jsx)("button",{className:"inline-flex items-center px-2.5 py-1.5 border border-transparent text-xs font-medium rounded text-white bg-red-600 hover:bg-red-700",children:"L\xf6schen"})]})]},e.id)})})]}),"contract"===A&&(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Vertragsinformationen"}),f.contract?(0,b.jsxs)("div",{className:"bg-white shadow-sm rounded-lg border border-gray-200 overflow-hidden",children:[(0,b.jsx)("div",{className:"px-4 py-5 sm:px-6 bg-gray-50",children:(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsxs)("h3",{className:"text-lg font-medium leading-6 text-gray-900",children:["Vertrag #",f.contract.id]}),(0,b.jsx)(S,{status:f.contract.status})]})}),(0,b.jsx)("div",{className:"border-t border-gray-200 px-4 py-5 sm:p-6",children:(0,b.jsxs)("dl",{className:"grid grid-cols-1 gap-x-4 gap-y-6 sm:grid-cols-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Startdatum"}),(0,b.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:new Date(f.contract.startDate).toLocaleDateString("de-DE")})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Enddatum"}),(0,b.jsx)("dd",{className:"mt-1 text-sm text-gray-900",children:f.contract.endDate?new Date(f.contract.endDate).toLocaleDateString("de-DE"):"Unbefristet"})]}),(0,b.jsxs)("div",{className:"sm:col-span-2",children:[(0,b.jsx)("dt",{className:"text-sm font-medium text-gray-500",children:"Vertragsbedingungen"}),(0,b.jsx)("dd",{className:"mt-1 text-sm text-gray-900 whitespace-pre-line",children:f.contract.terms||"Keine Vertragsbedingungen verf\xfcgbar"})]})]})}),(0,b.jsx)("div",{className:"border-t border-gray-200 px-4 py-4 sm:px-6 bg-gray-50",children:(0,b.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,b.jsx)("button",{className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Herunterladen"}),(0,b.jsx)("button",{className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700",children:"Bearbeiten"})]})})]}):(0,b.jsx)("p",{className:"text-gray-500",children:"Kein Vertrag verf\xfcgbar"})]})]})]})})}g.kL.register(g.uw,g.f$,g.od,g.jn,g.ZL,g.Dx,g.u,g.De);var v=!0,N=function(e){e.user;var s=(0,r.useRouter)(),t=s.query.id,c=(0,a.useState)(!t),o=c[0];return(c[1],o)?(0,b.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,b.jsx)(n.Z,{}),(0,b.jsx)("main",{className:"flex-grow flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500 mx-auto"}),(0,b.jsx)("p",{className:"mt-4 text-lg",children:"Laden..."})]})}),(0,b.jsx)(i.Z,{})]}):(0,b.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,b.jsx)(n.Z,{}),(0,b.jsxs)("div",{className:"flex flex-col md:flex-row flex-grow",children:[(0,b.jsx)(d.Z,{activeItem:"restaurants"}),(0,b.jsx)("main",{className:"flex-grow bg-gray-50 py-6 px-4 md:px-8",children:(0,b.jsxs)(l.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Restaurant-Details"}),(0,b.jsx)("button",{onClick:function(){return s.back()},className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition-colors",children:"Zur\xfcck"})]}),(0,b.jsx)(f,{restaurantId:t})]})})]}),(0,b.jsx)(i.Z,{})]})}},7236:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/restaurants/[id]",function(){return t(74719)}])}},function(e){e.O(0,[6130,3365,2196,6058,6405,8428,300,8111,3708,2888,9774,179],function(){return e(e.s=7236)}),_N_E=e.O()}]);