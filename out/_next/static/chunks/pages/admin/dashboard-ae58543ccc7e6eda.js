(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9189],{95443:function(e,s,t){"use strict";t.d(s,{Z:function(){return o}});var a=t(92401),n=t(41664),r=t.n(n),i=t(11163),l=t(89681),c=t(91472),d=t(5802);function o(e){var s=e.activeItem,t=void 0===s?"dashboard":s,n=(0,i.useRouter)(),o=(0,a.useState)(!1),m=o[0],x=o[1],h=[{icon:c.m6D,label:"Dashboard",id:"dashboard",path:"/admin/dashboard"},{icon:c.LSm,label:"Partneranfragen",id:"partner-requests",path:"/admin/partner-requests"},{icon:c.SnF,label:"Restaurants",id:"restaurants",path:"/admin/restaurants"},{icon:c.orK,label:"Kontakttisch-Analysen",id:"contact-tables-analytics",path:"/admin/contact-tables/analytics"},{icon:c.bfl,label:"Moderation",id:"moderation",path:"/admin/moderation/reviews"},{icon:c.zFh,label:"Abonnements",id:"subscriptions",path:"/admin/subscriptions"},{icon:c.aCJ,label:"Kategorien",id:"categories",path:"/admin/categories"},{icon:c.E25,label:"Ausstattung",id:"amenities",path:"/admin/amenities"},{icon:c.i63,label:"St\xe4dte",id:"cities",path:"/admin/cities"},{icon:c.WY8,label:"Benutzer",id:"users",path:"/admin/users",useRouterPush:!0},{icon:c.NOg,label:"Blogs",id:"blogs",path:"/admin/blogs"},{icon:c.Imn,label:"Newsletter",id:"newsletter",path:"/admin/newsletters"},{icon:c.Imn,label:"E-Mail-Builder",id:"email-builder",path:"/admin/email-builder"},{icon:c.nbt,label:"Einstellungen",id:"settings",path:"/admin/settings"}];return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"fixed bottom-4 right-4 md:hidden z-30",children:(0,d.jsx)("button",{onClick:function(){return x(!m)},className:"bg-primary-600 text-white p-3 rounded-full shadow-lg",children:m?(0,d.jsx)(c.q5L,{size:24}):(0,d.jsx)(c.cur,{size:24})})}),(0,d.jsx)(l.E.div,{className:"fixed inset-0 bg-black bg-opacity-50 z-20 md:hidden",initial:{opacity:0},animate:{opacity:m?1:0},transition:{duration:.2},style:{pointerEvents:m?"auto":"none"},children:(0,d.jsxs)(l.E.div,{className:"fixed inset-y-0 left-0 w-64 bg-white shadow-xl z-30 overflow-y-auto",initial:{x:"-100%"},animate:{x:m?0:"-100%"},transition:{duration:.3},children:[(0,d.jsx)("div",{className:"p-4 border-b border-gray-200",children:(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Admin"}),(0,d.jsx)("button",{onClick:function(){return x(!1)},className:"text-gray-500 hover:text-gray-700",children:(0,d.jsx)(c.q5L,{size:24})})]})}),(0,d.jsx)("nav",{className:"p-4",children:(0,d.jsx)("ul",{className:"space-y-2",children:h.map(function(e){var s=e.icon,a=t===e.id;return(0,d.jsx)("li",{children:e.useRouterPush?(0,d.jsxs)("div",{className:"flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors cursor-pointer ".concat(a?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-100"),onClick:function(){console.log("AdminSidebar (Mobile): Router.push zu ".concat(e.label," (").concat(e.path,")")),n.push(e.path),x(!1)},children:[(0,d.jsx)(s,{size:20}),(0,d.jsx)("span",{children:e.label}),"partner-requests"===e.id&&(0,d.jsx)("span",{className:"ml-auto bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:"Neu"})]}):(0,d.jsxs)(r(),{href:e.path,className:"flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ".concat(a?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-100"),onClick:function(){console.log("AdminSidebar (Mobile): Link zu ".concat(e.label," (").concat(e.path,") geklickt")),x(!1)},children:[(0,d.jsx)(s,{size:20}),(0,d.jsx)("span",{children:e.label}),"partner-requests"===e.id&&(0,d.jsx)("span",{className:"ml-auto bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:"Neu"})]})},e.id)})})})]})}),(0,d.jsx)("aside",{className:"hidden md:block w-64 bg-white shadow-md min-h-screen pt-20",children:(0,d.jsx)("nav",{className:"p-4",children:(0,d.jsx)("ul",{className:"space-y-2",children:h.map(function(e){var s=e.icon,a=t===e.id;return(0,d.jsx)("li",{children:e.useRouterPush?(0,d.jsxs)("div",{className:"flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors cursor-pointer ".concat(a?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-100"),onClick:function(){console.log("AdminSidebar (Desktop): Router.push zu ".concat(e.label," (").concat(e.path,")")),n.push(e.path)},children:[(0,d.jsx)(s,{size:20}),(0,d.jsx)("span",{children:e.label}),"partner-requests"===e.id&&(0,d.jsx)("span",{className:"ml-auto bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:"Neu"})]}):(0,d.jsxs)(r(),{href:e.path,className:"flex items-center space-x-3 px-4 py-3 rounded-lg transition-colors ".concat(a?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-100"),onClick:function(){console.log("AdminSidebar (Desktop): Link zu ".concat(e.label," (").concat(e.path,") geklickt"))},children:[(0,d.jsx)(s,{size:20}),(0,d.jsx)("span",{children:e.label}),"partner-requests"===e.id&&(0,d.jsx)("span",{className:"ml-auto bg-red-500 text-white text-xs px-2 py-1 rounded-full",children:"Neu"})]})},e.id)})})})})]})}},17662:function(e,s,t){"use strict";t.d(s,{Z:function(){return o}});var a=t(41664),n=t.n(a),r=t(25675),i=t.n(r),l=t(91472),c=t(41338),d=t(5802);function o(){return(0,d.jsx)("footer",{className:"bg-gradient-to-br from-neutral-900 to-neutral-800 text-neutral-300",children:(0,d.jsxs)("div",{className:"container mx-auto py-16 px-4",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12",children:[(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)(n(),{href:"/",className:"inline-block",children:(0,d.jsx)("div",{className:"flex items-center space-x-3 group",children:(0,d.jsx)("div",{className:"h-12 bg-white p-2 rounded-lg overflow-hidden relative",children:(0,d.jsx)(i(),{src:"/images/logo-fixed/Logo CT quer 4c.webp",alt:"Contact Tables Logo",width:120,height:40,className:"transition-all group-hover:scale-105",priority:!0,style:{objectFit:"contain",width:"auto",height:"100%"},quality:100})})})}),(0,d.jsx)("p",{className:"text-neutral-400 leading-relaxed",children:"Wir verbinden Menschen am Restauranttisch â€“ f\xfcr echte Begegnungen und inspirierende Gespr\xe4che."})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"text-xl font-semibold text-white mb-6 border-b border-neutral-700 pb-3",children:"Entdecken"}),(0,d.jsxs)("ul",{className:"space-y-4",children:[(0,d.jsx)("li",{children:(0,d.jsxs)(n(),{href:"/restaurants",className:"flex items-center space-x-2 text-neutral-400 hover:text-primary-400 transition-colors group",children:[(0,d.jsx)(l.i63,{className:"group-hover:translate-x-1 transition-transform"}),(0,d.jsx)("span",{children:"Restaurants finden"})]})}),(0,d.jsx)("li",{children:(0,d.jsxs)(n(),{href:"/about",className:"flex items-center space-x-2 text-neutral-400 hover:text-primary-400 transition-colors group",children:[(0,d.jsx)(l.WY8,{className:"group-hover:translate-x-1 transition-transform"}),(0,d.jsx)("span",{children:"\xdcber uns"})]})}),(0,d.jsx)("li",{children:(0,d.jsxs)(n(),{href:"/restaurant/register",className:"flex items-center space-x-2 text-neutral-400 hover:text-primary-400 transition-colors group",children:[(0,d.jsx)(l.i63,{className:"group-hover:translate-x-1 transition-transform"}),(0,d.jsx)("span",{children:"Restaurant anmelden"})]})}),(0,d.jsx)("li",{children:(0,d.jsxs)(n(),{href:"/events",className:"flex items-center space-x-2 text-neutral-400 hover:text-primary-400 transition-colors group",children:[(0,d.jsx)(l.TCC,{className:"group-hover:translate-x-1 transition-transform"}),(0,d.jsx)("span",{children:"Events & Aktionen"})]})})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"text-xl font-semibold text-white mb-6 border-b border-neutral-700 pb-3",children:"Rechtliches"}),(0,d.jsxs)("ul",{className:"space-y-4",children:[(0,d.jsx)("li",{children:(0,d.jsx)(n(),{href:"/datenschutz",className:"text-neutral-400 hover:text-primary-400 transition-colors",children:"Datenschutzerkl\xe4rung"})}),(0,d.jsx)("li",{children:(0,d.jsx)(n(),{href:"/faq",className:"text-neutral-400 hover:text-primary-400 transition-colors",children:"FAQ"})}),(0,d.jsx)("li",{children:(0,d.jsx)(n(),{href:"/impressum",className:"text-neutral-400 hover:text-primary-400 transition-colors",children:"Impressum"})}),(0,d.jsx)("li",{children:(0,d.jsx)(n(),{href:"/barrierefreiheit",className:"text-neutral-400 hover:text-primary-400 transition-colors",children:"Barrierefreiheit"})})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h4",{className:"text-xl font-semibold text-white mb-6 border-b border-neutral-700 pb-3",children:"Kontakt"}),(0,d.jsxs)("ul",{className:"space-y-4",children:[(0,d.jsx)("li",{className:"group",children:(0,d.jsxs)("a",{href:"tel:+4915679640069",className:"flex items-center space-x-3 text-neutral-400 hover:text-primary-400 transition-colors",children:[(0,d.jsx)("div",{className:"w-8 h-8 rounded-full bg-neutral-800 group-hover:bg-primary-700 flex items-center justify-center transition-all duration-300",children:(0,d.jsx)(l.tUt,{size:16})}),(0,d.jsx)("span",{children:"+49 15679 640069"})]})}),(0,d.jsx)("li",{className:"group",children:(0,d.jsxs)(n(),{href:"/contact",className:"flex items-center space-x-3 text-neutral-400 hover:text-primary-400 transition-colors",children:[(0,d.jsx)("div",{className:"w-8 h-8 rounded-full bg-neutral-800 group-hover:bg-primary-700 flex items-center justify-center transition-all duration-300",children:(0,d.jsx)(l.Imn,{size:16})}),(0,d.jsx)("span",{children:"Nachricht absenden"})]})}),(0,d.jsx)("li",{className:"group",children:(0,d.jsxs)("a",{href:"https://www.facebook.com/contacttables/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 text-neutral-400 hover:text-primary-400 transition-colors",children:[(0,d.jsx)("div",{className:"w-8 h-8 rounded-full bg-neutral-800 group-hover:bg-primary-700 flex items-center justify-center transition-all duration-300",children:(0,d.jsx)(c.tBk,{size:16})}),(0,d.jsx)("span",{children:"Facebook"})]})}),(0,d.jsx)("li",{className:"group",children:(0,d.jsxs)("a",{href:"https://www.instagram.com/contacttables/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 text-neutral-400 hover:text-primary-400 transition-colors",children:[(0,d.jsx)("div",{className:"w-8 h-8 rounded-full bg-neutral-800 group-hover:bg-primary-700 flex items-center justify-center transition-all duration-300",children:(0,d.jsx)(c.Zf_,{size:16})}),(0,d.jsx)("span",{children:"Instagram"})]})})]})]})]}),(0,d.jsx)("div",{className:"border-t border-neutral-800 mt-16 pt-8 text-center",children:(0,d.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[(0,d.jsxs)("p",{className:"text-neutral-500",children:["\xa9 ",new Date().getFullYear()," contact-tables. Alle Rechte vorbehalten."]}),(0,d.jsxs)("p",{className:"flex items-center text-neutral-500",children:[(0,d.jsx)("span",{children:"Made with"})," ",(0,d.jsx)(l.$aX,{className:"mx-2 text-primary-500"})," ",(0,d.jsx)("span",{children:"in Germany"})]})]})})]})})}},16102:function(e,s,t){"use strict";t.r(s),t.d(s,{__N_SSP:function(){return R},default:function(){return z}});var a=t(50029),n=t(64687),r=t.n(n),i=t(11163),l=t(41664),c=t.n(l),d=t(92401),o=t(63708),m=t(17662),x=t(89681),h=t(91472),u=t(87553),g=t(59499),p=t(23148),f=t(80663),j=t(5802);function b(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);s&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),t.push.apply(t,a)}return t}function v(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?b(Object(t),!0).forEach(function(s){(0,g.Z)(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}p.kL.register(p.uw,p.f$,p.od,p.jn,p.ZL,p.qi,p.Dx,p.u,p.De);var N=function(e){var s=e.data,t=e.isLoading,a=(0,d.useState)("month"),n=a[0],r=a[1],i={responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Benutzerregistrierungen"}},scales:{y:{beginAtZero:!0}}},l={labels:s.userRegistrations.labels,datasets:[{label:"Neue Benutzer",data:s.userRegistrations.data,borderColor:"rgb(53, 162, 235)",backgroundColor:"rgba(53, 162, 235, 0.5)",tension:.3}]},c={labels:s.restaurantRegistrations.labels,datasets:[{label:"Neue Restaurants",data:s.restaurantRegistrations.data,borderColor:"rgb(255, 99, 132)",backgroundColor:"rgba(255, 99, 132, 0.5)",tension:.3}]},o={labels:s.revenue.labels,datasets:[{label:"Einnahmen (â‚¬)",data:s.revenue.data,backgroundColor:"rgba(75, 192, 192, 0.5)",borderColor:"rgb(75, 192, 192)",borderWidth:1}]},m={labels:s.userTypes.labels,datasets:[{label:"Benutzertypen",data:s.userTypes.data,backgroundColor:["rgba(255, 99, 132, 0.5)","rgba(54, 162, 235, 0.5)","rgba(255, 206, 86, 0.5)","rgba(75, 192, 192, 0.5)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)"],borderWidth:1}]};return t?(0,j.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,j.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):(0,j.jsxs)("div",{className:"space-y-6",children:[(0,j.jsxs)("div",{className:"flex justify-between items-center",children:[(0,j.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Analytik & Berichte"}),(0,j.jsxs)("div",{className:"flex space-x-2",children:[(0,j.jsx)("button",{onClick:function(){return r("week")},className:"px-3 py-1 text-sm rounded-md ".concat("week"===n?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Woche"}),(0,j.jsx)("button",{onClick:function(){return r("month")},className:"px-3 py-1 text-sm rounded-md ".concat("month"===n?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Monat"}),(0,j.jsx)("button",{onClick:function(){return r("year")},className:"px-3 py-1 text-sm rounded-md ".concat("year"===n?"bg-indigo-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"),children:"Jahr"})]})]}),(0,j.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,j.jsx)("div",{className:"bg-white p-4 rounded-lg shadow",children:(0,j.jsx)(f.x1,{options:i,data:l})}),(0,j.jsx)("div",{className:"bg-white p-4 rounded-lg shadow",children:(0,j.jsx)(f.x1,{options:v(v({},i),{},{plugins:v(v({},i.plugins),{},{title:{display:!0,text:"Restaurantregistrierungen"}})}),data:c})}),(0,j.jsx)("div",{className:"bg-white p-4 rounded-lg shadow",children:(0,j.jsx)(f.$Q,{options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Monatliche Einnahmen"}},scales:{y:{beginAtZero:!0}}},data:o})}),(0,j.jsx)("div",{className:"bg-white p-4 rounded-lg shadow",children:(0,j.jsx)(f.by,{options:{responsive:!0,plugins:{legend:{position:"top"},title:{display:!0,text:"Benutzerverteilung"}}},data:m})})]}),(0,j.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow",children:[(0,j.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Zusammenfassung"}),(0,j.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,j.jsxs)("div",{className:"bg-gray-50 p-3 rounded-md",children:[(0,j.jsx)("p",{className:"text-sm text-gray-500",children:"Neue Benutzer (letzte 30 Tage)"}),(0,j.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:s.userRegistrations.data.reduce(function(e,s){return e+s},0)})]}),(0,j.jsxs)("div",{className:"bg-gray-50 p-3 rounded-md",children:[(0,j.jsx)("p",{className:"text-sm text-gray-500",children:"Neue Restaurants (letzte 30 Tage)"}),(0,j.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:s.restaurantRegistrations.data.reduce(function(e,s){return e+s},0)})]}),(0,j.jsxs)("div",{className:"bg-gray-50 p-3 rounded-md",children:[(0,j.jsx)("p",{className:"text-sm text-gray-500",children:"Gesamteinnahmen (letzte 30 Tage)"}),(0,j.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[s.revenue.data.reduce(function(e,s){return e+s},0).toLocaleString("de-DE")," â‚¬"]})]}),(0,j.jsxs)("div",{className:"bg-gray-50 p-3 rounded-md",children:[(0,j.jsx)("p",{className:"text-sm text-gray-500",children:"Durchschnittliche Einnahmen pro Tag"}),(0,j.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:[(s.revenue.data.reduce(function(e,s){return e+s},0)/s.revenue.data.length).toFixed(2).replace(".",",")," â‚¬"]})]})]})]})]})},y=t(90116),w=t(13114);function k(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);s&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),t.push.apply(t,a)}return t}function S(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?k(Object(t),!0).forEach(function(s){(0,g.Z)(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):k(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}var E=function(e){var s,t,n,i=e.onNotificationClick,l=(0,d.useState)([]),c=l[0],o=l[1],m=(0,d.useState)(0),g=m[0],p=m[1],f=(0,d.useState)(!1),b=f[0],v=f[1],N=(0,d.useState)(!1),k=N[0],E=N[1],C=(0,u.createClient)(),D=(s=(0,a.Z)(r().mark(function e(){var s,t,a;return r().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return E(!0),e.prev=1,e.next=4,C.from("admin_notifications").select("*").order("created_at",{ascending:!1}).limit(20);case 4:if(t=(s=e.sent).data,!(a=s.error)){e.next=10;break}return console.error("Fehler beim Laden der Benachrichtigungen:",a),e.abrupt("return");case 10:o(t||[]),p((t||[]).filter(function(e){return!e.read}).length),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.error("Fehler beim Laden der Benachrichtigungen:",e.t0);case 17:return e.prev=17,E(!1),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[1,14,17,20]])})),function(){return s.apply(this,arguments)}),R=(t=(0,a.Z)(r().mark(function e(s){var t;return r().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.from("admin_notifications").update({read:!0}).eq("id",s);case 3:if(!(t=e.sent.error)){e.next=8;break}return console.error("Fehler beim Markieren als gelesen:",t),e.abrupt("return");case 8:o(c.map(function(e){return e.id===s?S(S({},e),{},{read:!0}):e})),p(function(e){return Math.max(0,e-1)}),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Fehler beim Markieren als gelesen:",e.t0);case 15:case"end":return e.stop()}},e,null,[[0,12]])})),function(e){return t.apply(this,arguments)}),z=(n=(0,a.Z)(r().mark(function e(){var s,t;return r().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,0!==(s=c.filter(function(e){return!e.read}).map(function(e){return e.id})).length){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,C.from("admin_notifications").update({read:!0}).in("id",s);case 6:if(!(t=e.sent.error)){e.next=11;break}return console.error("Fehler beim Markieren aller als gelesen:",t),e.abrupt("return");case 11:o(c.map(function(e){return S(S({},e),{},{read:!0})})),p(0),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error("Fehler beim Markieren aller als gelesen:",e.t0);case 18:case"end":return e.stop()}},e,null,[[0,15]])})),function(){return n.apply(this,arguments)});(0,d.useEffect)(function(){D();var e=C.channel("admin_notifications_channel").on("postgres_changes",{event:"INSERT",schema:"public",table:"admin_notifications"},function(e){var s=e.new;o(function(e){return[s].concat((0,y.Z)(e))}),p(function(e){return e+1})}).subscribe();return function(){C.removeChannel(e)}},[]);var A=function(e){switch(e){case"warning":return(0,j.jsx)(h.bcx,{className:"h-5 w-5 text-yellow-500"});case"error":return(0,j.jsx)(h.bcx,{className:"h-5 w-5 text-red-500"});case"success":return(0,j.jsx)(h.UgA,{className:"h-5 w-5 text-green-500"});default:return(0,j.jsx)(h.IC0,{className:"h-5 w-5 text-blue-500"})}},P=function(e){var s=new Date(e),t=new Date().getTime()-s.getTime(),a=Math.round(t/6e4),n=Math.round(t/36e5),r=Math.round(t/864e5);return a<60?"Vor ".concat(a," Minute").concat(1!==a?"n":""):n<24?"Vor ".concat(n," Stunde").concat(1!==n?"n":""):r<7?"Vor ".concat(r," Tag").concat(1!==r?"en":""):s.toLocaleDateString("de-DE")};return(0,j.jsxs)("div",{className:"relative",children:[(0,j.jsxs)("button",{onClick:function(){return v(!b)},className:"relative p-2 text-gray-600 hover:text-indigo-600 focus:outline-none","aria-label":"Benachrichtigungen",children:[(0,j.jsx)(h.vWP,{className:"h-6 w-6"}),g>0&&(0,j.jsx)("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/2 -translate-y-1/2 bg-red-500 rounded-full",children:g})]}),(0,j.jsx)(w.M,{children:b&&(0,j.jsxs)(x.E.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},className:"absolute right-0 mt-2 w-80 bg-white rounded-md shadow-lg overflow-hidden z-50",children:[(0,j.jsxs)("div",{className:"p-3 bg-gray-50 border-b border-gray-200 flex justify-between items-center",children:[(0,j.jsx)("h3",{className:"text-sm font-medium text-gray-700",children:"Benachrichtigungen"}),g>0&&(0,j.jsx)("button",{onClick:z,className:"text-xs text-indigo-600 hover:text-indigo-800",children:"Alle als gelesen markieren"})]}),(0,j.jsx)("div",{className:"max-h-96 overflow-y-auto",children:k?(0,j.jsx)("div",{className:"flex justify-center items-center p-4",children:(0,j.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-indigo-500"})}):c.length>0?(0,j.jsx)("ul",{className:"divide-y divide-gray-200",children:c.map(function(e){return(0,j.jsx)("li",{className:"p-4 hover:bg-gray-50 cursor-pointer ".concat(e.read?"":"bg-blue-50"),onClick:function(){e.read||R(e.id),i&&i(e)},children:(0,j.jsxs)("div",{className:"flex items-start",children:[(0,j.jsx)("div",{className:"flex-shrink-0 pt-0.5",children:A(e.type)}),(0,j.jsxs)("div",{className:"ml-3 w-0 flex-1",children:[(0,j.jsx)("p",{className:"text-sm font-medium text-gray-900",children:e.title}),(0,j.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:e.message}),e.action_url&&(0,j.jsx)("a",{href:e.action_url,className:"mt-2 inline-block text-xs font-medium text-indigo-600 hover:text-indigo-800",onClick:function(e){return e.stopPropagation()},children:e.action_text||"Details anzeigen"}),(0,j.jsx)("p",{className:"mt-1 text-xs text-gray-400",children:P(e.created_at)})]}),!e.read&&(0,j.jsx)("div",{className:"ml-4 flex-shrink-0 flex",children:(0,j.jsxs)("button",{onClick:function(s){s.stopPropagation(),R(e.id)},className:"bg-white rounded-md inline-flex text-gray-400 hover:text-gray-500 focus:outline-none",children:[(0,j.jsx)("span",{className:"sr-only",children:"Schlie\xdfen"}),(0,j.jsx)(h.q5L,{className:"h-5 w-5","aria-hidden":"true"})]})})]})},e.id)})}):(0,j.jsx)("div",{className:"p-4 text-center text-sm text-gray-500",children:"Keine Benachrichtigungen vorhanden"})}),(0,j.jsx)("div",{className:"p-2 bg-gray-50 border-t border-gray-200",children:(0,j.jsx)("a",{href:"/admin/notifications",className:"block w-full text-center text-xs font-medium text-indigo-600 hover:text-indigo-800",onClick:function(){return v(!1)},children:"Alle Benachrichtigungen anzeigen"})})]})})]})},C=t(95443);function D(e){return e?("string"==typeof e?new Date(e):e).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"}):"-"}var R=!0;function z(e){e.user;var s,t,n,l,g,p,f,b,v,y,w=(0,i.useRouter)(),k=(0,d.useState)(!0),S=k[0],R=k[1],z=(0,d.useState)(!1),A=z[0],P=z[1],O=(0,d.useState)(null),B=O[0],L=O[1],_=(0,d.useState)(null),M=_[0],T=_[1],I=(0,d.useState)(!1),Z=I[0],F=I[1],K=(0,d.useState)(null),q=K[0],V=K[1],W=(0,d.useState)(!1),G=W[0],U=W[1],Y=(0,d.useState)("month");Y[0],Y[1];var J=(0,d.useState)({users:0,restaurants:0,pendingRequests:0,activeRestaurants:0,recentActivity:[],financialStats:{yearlyRevenue:0,monthlyRevenue:0,averageContractValue:0,pendingPayments:0},emailStats:{totalCampaigns:0,totalSent:0,recentCampaigns:[]},eventsStats:{totalEvents:0,upcomingEvents:0,pastEvents:0,avgParticipationRate:0}}),Q=J[0],H=J[1],X=(0,u.createClient)(),$=(0,d.useState)({users:0,restaurants:0,pendingRequests:0,activeRestaurants:0,recentActivity:[],financialStats:{monthlyRevenue:0,yearlyRevenue:0,averageContractValue:0,pendingPayments:0},emailStats:{totalCampaigns:0,totalSent:0,recentCampaigns:[]},eventsStats:{totalEvents:0,upcomingEvents:0,pastEvents:0,avgParticipationRate:0}}),ee=$[0];$[1];var es=(0,d.useCallback)((0,a.Z)(r().mark(function e(){var s,t;return r().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return F(!0),e.prev=1,e.next=4,fetch("/api/admin/system-status",{method:"GET",headers:{"Cache-Control":"no-cache",Pragma:"no-cache"},credentials:"same-origin"});case 4:if((s=e.sent).ok){e.next=7;break}throw Error("Fehler beim Abrufen des Systemstatus: ".concat(s.status));case 7:return e.next=9,s.json();case 9:T({api:{status:(t=e.sent).api.status,latency:t.api.latency},database:{status:t.database.status,latency:t.database.latency},payment:{status:t.payment.status,latency:t.payment.latency},email:{status:t.email.status,latency:t.email.latency}}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(1),console.error("Fehler beim Abrufen des Systemstatus:",e.t0),T({api:{status:"offline",latency:null},database:{status:"offline",latency:null},payment:{status:"offline",latency:null},email:{status:"offline",latency:null}});case 18:return e.prev=18,F(!1),e.finish(18);case 21:case"end":return e.stop()}},e,null,[[1,14,18,21]])})),[]),et=(0,d.useCallback)((0,a.Z)(r().mark(function e(){var s,t,a=arguments;return r().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s=a.length>0&&void 0!==a[0]?a[0]:"month",U(!0),e.prev=2,e.next=5,fetch("/api/admin/analytics?timeframe=".concat(s));case 5:if((t=e.sent).ok){e.next=8;break}throw Error("Fehler beim Laden der Analytikdaten");case 8:return e.next=10,t.json();case 10:V(e.sent),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),console.error("Fehler beim Laden der Analytikdaten:",e.t0);case 17:return e.prev=17,U(!1),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[2,14,17,20]])})),[]),ea=(0,d.useCallback)((0,a.Z)(r().mark(function e(){var s,t,a,n,i;return r().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.prev=1,console.log("Starte Dashboard-Datenabfrage \xfcber API..."),e.next=5,fetch("/api/admin/dashboard",{method:"GET",headers:{"Cache-Control":"no-cache",Pragma:"no-cache"},credentials:"same-origin"});case 5:if((s=e.sent).ok){e.next=14;break}return e.t0=console,e.t1=s.status,e.next=11,s.text();case 11:throw e.t2=e.sent,e.t0.error.call(e.t0,"API-Fehler:",e.t1,e.t2),Error("Fehler beim Abrufen der Dashboard-Daten: ".concat(s.status));case 14:return e.next=16,s.json();case 16:return console.log("Dashboard-Daten erfolgreich geladen:",t=e.sent),e.next=20,fetch("/api/admin/events?page=1&pageSize=1",{method:"GET",headers:{"Cache-Control":"no-cache",Pragma:"no-cache"},credentials:"same-origin"});case 20:if(a=e.sent,n={totalEvents:0,upcomingEvents:0,pastEvents:0,avgParticipationRate:0},!a.ok){e.next=29;break}return e.next=25,a.json();case 25:(i=e.sent).ok&&i.data&&i.data.stats&&(n={totalEvents:i.data.stats.totalEvents||0,upcomingEvents:i.data.stats.upcomingEvents||0,pastEvents:i.data.stats.pastEvents||0,avgParticipationRate:i.data.stats.avgParticipationRate||0}),e.next=30;break;case 29:console.error("Fehler beim Abrufen der Events-Daten:",a.status);case 30:H({users:t.stats.users||0,restaurants:t.stats.restaurants||0,pendingRequests:t.stats.pendingRequests||0,activeRestaurants:t.stats.activeRestaurants||0,recentActivity:t.stats.recentActivity||[],financialStats:t.stats.financialStats||{monthlyRevenue:0,yearlyRevenue:0,averageContractValue:0,pendingPayments:0},emailStats:t.stats.emailStats||{totalCampaigns:0,totalSent:0,recentCampaigns:[]},eventsStats:n}),L(new Date),es(),et(),e.next=40;break;case 36:e.prev=36,e.t3=e.catch(1),console.error("Fehler beim Laden der Dashboard-Daten:",e.t3),H({users:381,restaurants:2,pendingRequests:0,activeRestaurants:0,recentActivity:[{type:"registration",restaurant:"Restaurant Sonnenschein",date:new Date().toISOString()},{type:"contract",restaurant:"Caf\xe9 am See",date:new Date(Date.now()-864e5).toISOString()},{type:"payment",restaurant:"Pizzeria Napoli",date:new Date(Date.now()-1728e5).toISOString()}],financialStats:{monthlyRevenue:4250,yearlyRevenue:51e3,averageContractValue:850,pendingPayments:1200},emailStats:{totalCampaigns:0,totalSent:0,recentCampaigns:[]},eventsStats:{totalEvents:0,upcomingEvents:0,pastEvents:0,avgParticipationRate:0}});case 40:return e.prev=40,R(!1),P(!1),e.finish(40);case 44:case"end":return e.stop()}},e,null,[[1,36,40,44]])})),[es,et]);return((0,d.useEffect)(function(){var e=X.channel("restaurants-changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"restaurants"},function(){console.log("Neue Restaurant-Registrierung erkannt"),ea()}).subscribe(),s=X.channel("contracts-changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"restaurant_contracts"},function(){console.log("Neuer Vertrag erkannt"),ea()}).subscribe(),t=X.channel("payments-changes").on("postgres_changes",{event:"INSERT",schema:"public",table:"payments"},function(){console.log("Neue Zahlung erkannt"),ea()}).subscribe();return function(){X.removeChannel(e),X.removeChannel(s),X.removeChannel(t)}},[ea]),(0,d.useEffect)(function(){ea(),es()},[ea,es]),S)?(0,j.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,j.jsx)(o.Z,{}),(0,j.jsx)("main",{className:"flex-grow flex items-center justify-center",children:(0,j.jsxs)("div",{className:"text-center",children:[(0,j.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500 mx-auto"}),(0,j.jsx)("p",{className:"mt-4 text-lg",children:"Laden..."})]})}),(0,j.jsx)(m.Z,{})]}):(0,j.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,j.jsx)(o.Z,{}),(0,j.jsxs)("div",{className:"flex flex-col md:flex-row flex-grow",children:[(0,j.jsx)(C.Z,{activeItem:"dashboard"}),(0,j.jsx)("main",{className:"flex-grow bg-gray-50 py-6 px-4 md:px-8",children:(0,j.jsxs)(x.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[(0,j.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,j.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Admin Dashboard"}),(0,j.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,j.jsx)(E,{onNotificationClick:function(e){console.log("Benachrichtigung angeklickt:",e),e.action_url&&w.push(e.action_url)}}),(0,j.jsxs)("div",{className:"flex items-center space-x-2",children:[B&&(0,j.jsxs)("span",{className:"text-sm text-gray-500",children:["Letztes Update: ",B.toLocaleTimeString("de-DE")]}),(0,j.jsx)("button",{onClick:ea,disabled:A,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors flex items-center ".concat(A?"opacity-70 cursor-not-allowed":""),children:A?(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(h.Bw1,{className:"animate-spin mr-2"}),"Wird aktualisiert..."]}):"Aktualisieren"})]})]})]}),(0,j.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,j.jsxs)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[(0,j.jsx)("div",{className:"px-4 py-5 sm:p-6",children:(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("div",{className:"flex-shrink-0 bg-indigo-500 rounded-md p-3",children:(0,j.jsx)(h.WY8,{className:"h-6 w-6 text-white"})}),(0,j.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,j.jsxs)("dl",{children:[(0,j.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Benutzer"}),(0,j.jsx)("dd",{className:"flex items-baseline",children:(0,j.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:ee.users})})]})})]})}),(0,j.jsx)("div",{className:"bg-gray-50 px-4 py-4 sm:px-6",children:(0,j.jsx)("div",{className:"text-sm",children:(0,j.jsx)(c(),{href:"/admin/users",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Alle Benutzer anzeigen"})})})]}),(0,j.jsxs)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[(0,j.jsx)("div",{className:"px-4 py-5 sm:p-6",children:(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("div",{className:"flex-shrink-0 bg-indigo-500 rounded-md p-3",children:(0,j.jsx)(h.m6D,{className:"h-6 w-6 text-white"})}),(0,j.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,j.jsxs)("dl",{children:[(0,j.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Restaurants"}),(0,j.jsx)("dd",{className:"flex items-baseline",children:(0,j.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:ee.restaurants})})]})})]})}),(0,j.jsx)("div",{className:"bg-gray-50 px-4 py-4 sm:px-6",children:(0,j.jsx)("div",{className:"text-sm",children:(0,j.jsx)(c(),{href:"/admin/restaurants",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Alle Restaurants anzeigen"})})})]}),(0,j.jsxs)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[(0,j.jsx)("div",{className:"px-4 py-5 sm:p-6",children:(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("div",{className:"flex-shrink-0 bg-yellow-500 rounded-md p-3",children:(0,j.jsx)(h.bcx,{className:"h-6 w-6 text-white"})}),(0,j.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,j.jsxs)("dl",{children:[(0,j.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Offene Anfragen"}),(0,j.jsx)("dd",{className:"flex items-baseline",children:(0,j.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:ee.pendingRequests})})]})})]})}),(0,j.jsx)("div",{className:"bg-gray-50 px-4 py-4 sm:px-6",children:(0,j.jsx)("div",{className:"text-sm",children:(0,j.jsx)(c(),{href:"/admin/partner-requests",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Anfragen bearbeiten"})})})]}),(0,j.jsxs)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[(0,j.jsx)("div",{className:"px-4 py-5 sm:p-6",children:(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("div",{className:"flex-shrink-0 bg-green-500 rounded-md p-3",children:(0,j.jsx)(h.oQC,{className:"h-6 w-6 text-white"})}),(0,j.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,j.jsxs)("dl",{children:[(0,j.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Aktive Restaurants"}),(0,j.jsx)("dd",{className:"flex items-baseline",children:(0,j.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:ee.activeRestaurants})})]})})]})}),(0,j.jsx)("div",{className:"bg-gray-50 px-4 py-4 sm:px-6",children:(0,j.jsx)("div",{className:"text-sm",children:(0,j.jsx)(c(),{href:"/admin/contact-tables",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Contact Tables anzeigen"})})})]}),(0,j.jsxs)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:[(0,j.jsx)("div",{className:"px-4 py-5 sm:p-6",children:(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("div",{className:"flex-shrink-0 bg-indigo-500 rounded-md p-3",children:(0,j.jsx)("svg",{className:"h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,j.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,j.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,j.jsxs)("dl",{children:[(0,j.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Events"}),(0,j.jsx)("dd",{className:"flex items-baseline",children:(0,j.jsx)("div",{className:"text-2xl font-semibold text-gray-900",children:Q.eventsStats.totalEvents})})]})})]})}),(0,j.jsx)("div",{className:"bg-gray-50 px-4 py-4 sm:px-6",children:(0,j.jsx)("div",{className:"text-sm",children:(0,j.jsx)(c(),{href:"/admin/events",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Alle Events anzeigen"})})})]})]}),(0,j.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg mb-8",children:(0,j.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,j.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Neueste Aktivit\xe4ten"}),(0,j.jsx)("div",{className:"flow-root",children:(0,j.jsx)("ul",{className:"-mb-8",children:ee.recentActivity.map(function(e,s){return(0,j.jsx)("li",{children:(0,j.jsxs)("div",{className:"relative pb-8",children:[s!==ee.recentActivity.length-1?(0,j.jsx)("span",{className:"absolute top-4 left-4 -ml-px h-full w-0.5 bg-gray-200","aria-hidden":"true"}):null,(0,j.jsxs)("div",{className:"relative flex space-x-3",children:[(0,j.jsx)("div",{children:(0,j.jsx)("span",{className:"h-8 w-8 rounded-full flex items-center justify-center ring-8 ring-white ".concat("registration"===e.type?"bg-blue-500":"contract"===e.type?"bg-green-500":"bg-purple-500"),children:"registration"===e.type?(0,j.jsx)(h.WY8,{className:"h-5 w-5 text-white"}):"contract"===e.type?(0,j.jsx)(h.vlc,{className:"h-5 w-5 text-white"}):(0,j.jsx)(h.oQC,{className:"h-5 w-5 text-white"})})}),(0,j.jsxs)("div",{className:"min-w-0 flex-1 pt-1.5 flex justify-between space-x-4",children:[(0,j.jsx)("div",{children:(0,j.jsxs)("p",{className:"text-sm text-gray-500",children:["registration"===e.type?"Neue Registrierung: ":"contract"===e.type?"Vertrag akzeptiert: ":"Zahlung erhalten: ",(0,j.jsx)("span",{className:"font-medium text-gray-900",children:e.restaurant})]})}),(0,j.jsx)("div",{className:"text-right text-sm whitespace-nowrap text-gray-500",children:(0,j.jsx)("time",{dateTime:e.date,children:e.date?D(new Date(e.date)):"Kein Datum"})})]})]})]})},s)})})})]})}),(0,j.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg mb-8",children:(0,j.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,j.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Finanz\xfcbersicht"}),(0,j.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,j.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg",children:(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("div",{className:"flex-shrink-0 bg-green-500 rounded-md p-3",children:(0,j.jsx)(h.oQC,{className:"h-6 w-6 text-white"})}),(0,j.jsxs)("div",{className:"ml-4",children:[(0,j.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Monatlicher Umsatz"}),(0,j.jsxs)("p",{className:"text-lg font-semibold text-gray-900",children:[null===(s=ee.financialStats)||void 0===s?void 0:s.monthlyRevenue.toLocaleString("de-DE")," â‚¬"]})]})]})}),(0,j.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg",children:(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("div",{className:"flex-shrink-0 bg-blue-500 rounded-md p-3",children:(0,j.jsx)(h.orK,{className:"h-6 w-6 text-white"})}),(0,j.jsxs)("div",{className:"ml-4",children:[(0,j.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Jahresumsatz"}),(0,j.jsxs)("p",{className:"text-lg font-semibold text-gray-900",children:[null===(t=ee.financialStats)||void 0===t?void 0:t.yearlyRevenue.toLocaleString("de-DE")," â‚¬"]})]})]})}),(0,j.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg",children:(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("div",{className:"flex-shrink-0 bg-indigo-500 rounded-md p-3",children:(0,j.jsx)(h.vlc,{className:"h-6 w-6 text-white"})}),(0,j.jsxs)("div",{className:"ml-4",children:[(0,j.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Durchschn. Vertragswert"}),(0,j.jsxs)("p",{className:"text-lg font-semibold text-gray-900",children:[null===(n=ee.financialStats)||void 0===n?void 0:n.averageContractValue.toLocaleString("de-DE")," â‚¬"]})]})]})}),(0,j.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg",children:(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("div",{className:"flex-shrink-0 bg-yellow-500 rounded-md p-3",children:(0,j.jsx)(h.TCC,{className:"h-6 w-6 text-white"})}),(0,j.jsxs)("div",{className:"ml-4",children:[(0,j.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Ausstehende Zahlungen"}),(0,j.jsxs)("p",{className:"text-lg font-semibold text-gray-900",children:[null===(l=ee.financialStats)||void 0===l?void 0:l.pendingPayments.toLocaleString("de-DE")," â‚¬"]})]})]})})]}),(0,j.jsx)("div",{className:"mt-4 text-right",children:(0,j.jsx)(c(),{href:"/admin/finances",className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",children:"Alle Finanzdaten anzeigen â†’"})})]})}),(0,j.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg mb-8",children:(0,j.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,j.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Email-Statistiken"}),(0,j.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-4",children:[(0,j.jsx)("div",{className:"bg-blue-50 p-4 rounded-lg",children:(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("div",{className:"flex-shrink-0 bg-blue-500 rounded-md p-3",children:(0,j.jsx)(h.Imn,{className:"h-6 w-6 text-white"})}),(0,j.jsxs)("div",{className:"ml-4",children:[(0,j.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Gesendete Kampagnen"}),(0,j.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:Q.emailStats.totalCampaigns})]})]})}),(0,j.jsx)("div",{className:"bg-green-50 p-4 rounded-lg",children:(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("div",{className:"flex-shrink-0 bg-green-500 rounded-md p-3",children:(0,j.jsx)(h.UgA,{className:"h-6 w-6 text-white"})}),(0,j.jsxs)("div",{className:"ml-4",children:[(0,j.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Gesendete Emails"}),(0,j.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:Q.emailStats.totalSent})]})]})}),(0,j.jsx)("div",{className:"bg-indigo-50 p-4 rounded-lg",children:(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("div",{className:"flex-shrink-0 bg-indigo-500 rounded-md p-3",children:(0,j.jsx)(h.orK,{className:"h-6 w-6 text-white"})}),(0,j.jsxs)("div",{className:"ml-4",children:[(0,j.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Durchschn. \xd6ffnungsrate"}),(0,j.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:"32%"})]})]})})]}),Q.emailStats.recentCampaigns&&Q.emailStats.recentCampaigns.length>0?(0,j.jsxs)("div",{children:[(0,j.jsx)("h3",{className:"text-md font-medium text-gray-700 mb-2",children:"Letzte Kampagnen"}),(0,j.jsx)("div",{className:"overflow-x-auto",children:(0,j.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,j.jsx)("thead",{className:"bg-gray-50",children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{scope:"col",className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Betreff"}),(0,j.jsx)("th",{scope:"col",className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Empf\xe4nger"}),(0,j.jsx)("th",{scope:"col",className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,j.jsx)("th",{scope:"col",className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Datum"})]})}),(0,j.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:Q.emailStats.recentCampaigns.slice(0,3).map(function(e){return(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:e.subject}),(0,j.jsx)("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-500",children:e.recipient_count}),(0,j.jsx)("td",{className:"px-4 py-2 whitespace-nowrap",children:(0,j.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("completed"===e.status?"bg-green-100 text-green-800":"in_progress"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:"completed"===e.status?"Abgeschlossen":"in_progress"===e.status?"In Bearbeitung":e.status})}),(0,j.jsx)("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-500",children:new Date(e.created_at).toLocaleDateString("de-DE")})]},e.id)})})]})})]}):(0,j.jsx)("div",{className:"text-center py-4 text-gray-500",children:"Keine k\xfcrzlichen Email-Kampagnen"}),(0,j.jsx)("div",{className:"mt-4 text-right",children:(0,j.jsx)(c(),{href:"/admin/email-builder/history",className:"text-sm font-medium text-indigo-600 hover:text-indigo-500",children:"Alle Email-Kampagnen anzeigen â†’"})})]})}),(0,j.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg mb-8",children:(0,j.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,j.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Events-\xdcbersicht"}),(0,j.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[(0,j.jsx)("div",{className:"bg-blue-50 p-4 rounded-lg",children:(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("div",{className:"flex-shrink-0 bg-blue-500 rounded-md p-3",children:(0,j.jsx)(h.vlc,{className:"h-6 w-6 text-white"})}),(0,j.jsxs)("div",{className:"ml-4",children:[(0,j.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Kommende Events"}),(0,j.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:Q.eventsStats.upcomingEvents})]})]})}),(0,j.jsx)("div",{className:"bg-green-50 p-4 rounded-lg",children:(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("div",{className:"flex-shrink-0 bg-green-500 rounded-md p-3",children:(0,j.jsx)(h.WY8,{className:"h-6 w-6 text-white"})}),(0,j.jsxs)("div",{className:"ml-4",children:[(0,j.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Teilnahmequote"}),(0,j.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:Q.eventsStats.avgParticipationRate>0?"".concat(Math.round(Q.eventsStats.avgParticipationRate),"%"):"0%"})]})]})}),(0,j.jsx)("div",{className:"bg-purple-50 p-4 rounded-lg",children:(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("div",{className:"flex-shrink-0 bg-purple-500 rounded-md p-3",children:(0,j.jsx)(h.orK,{className:"h-6 w-6 text-white"})}),(0,j.jsxs)("div",{className:"ml-4",children:[(0,j.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Gesamt Events"}),(0,j.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:Q.eventsStats.totalEvents})]})]})}),(0,j.jsx)("div",{className:"bg-amber-50 p-4 rounded-lg",children:(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("div",{className:"flex-shrink-0 bg-amber-500 rounded-md p-3",children:(0,j.jsx)(h.TCC,{className:"h-6 w-6 text-white"})}),(0,j.jsxs)("div",{className:"ml-4",children:[(0,j.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Vergangene Events"}),(0,j.jsx)("p",{className:"text-lg font-semibold text-gray-900",children:Q.eventsStats.pastEvents})]})]})})]}),(0,j.jsxs)("div",{className:"mt-4 text-right",children:[(0,j.jsx)(c(),{href:"/admin/events",className:"text-sm font-medium text-indigo-600 hover:text-indigo-500 mr-4",children:"Alle Events anzeigen â†’"}),(0,j.jsxs)(c(),{href:"/admin/events/new",className:"text-sm font-medium text-green-600 hover:text-green-500 flex items-center inline-flex",children:[(0,j.jsx)("svg",{className:"h-4 w-4 mr-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,j.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Neues Event erstellen"]})]})]})}),(0,j.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,j.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,j.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,j.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Schnellzugriff"}),(0,j.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,j.jsxs)(c(),{href:"/admin/partner-requests",className:"flex items-center p-3 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors",children:[(0,j.jsx)(h.bcx,{className:"h-6 w-6 text-yellow-500 mr-3"}),(0,j.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Partner-Anfragen"})]}),(0,j.jsxs)(c(),{href:"/admin/contact-tables",className:"flex items-center p-3 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors",children:[(0,j.jsx)(h.vlc,{className:"h-6 w-6 text-indigo-500 mr-3"}),(0,j.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Contact Tables"})]}),(0,j.jsxs)(c(),{href:"/admin/email-builder",className:"flex items-center p-3 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors",children:[(0,j.jsx)(h.Imn,{className:"h-6 w-6 text-blue-500 mr-3"}),(0,j.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"E-Mail-Builder"})]}),(0,j.jsxs)(c(),{href:"/admin/email-builder/history",className:"flex items-center p-3 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors",children:[(0,j.jsx)(h.Imn,{className:"h-6 w-6 text-green-500 mr-3"}),(0,j.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"E-Mail-Verlauf"})]}),(0,j.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,j.jsxs)("div",{onClick:function(){console.log("Benutzer-Link (Router-Push) geklickt"),w.push("/admin/users")},className:"flex items-center p-2 rounded-lg border border-blue-200 hover:bg-blue-50 transition-colors cursor-pointer",children:[(0,j.jsx)(h.WY8,{className:"h-5 w-5 text-blue-500 mr-2"}),(0,j.jsx)("span",{className:"text-sm font-medium text-blue-700",children:"Benutzer (Router-Push)"})]}),(0,j.jsxs)(c(),{href:"/admin/users",className:"flex items-center p-2 rounded-lg border border-green-200 hover:bg-green-50 transition-colors",onClick:function(){return console.log("Benutzer-Link (Next.js Link) geklickt")},children:[(0,j.jsx)(h.WY8,{className:"h-5 w-5 text-green-500 mr-2"}),(0,j.jsx)("span",{className:"text-sm font-medium text-green-700",children:"Benutzer (Next.js Link)"})]}),(0,j.jsxs)("a",{href:"/admin/users",className:"flex items-center p-2 rounded-lg border border-orange-200 hover:bg-orange-50 transition-colors",onClick:function(){return console.log("Benutzer-Link (HTML a-Tag) geklickt")},children:[(0,j.jsx)(h.WY8,{className:"h-5 w-5 text-orange-500 mr-2"}),(0,j.jsx)("span",{className:"text-sm font-medium text-orange-700",children:"Benutzer (HTML a-Tag)"})]})]}),(0,j.jsxs)(c(),{href:"/admin/restaurants",className:"flex items-center p-3 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors",children:[(0,j.jsx)(h.m6D,{className:"h-6 w-6 text-green-500 mr-3"}),(0,j.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Restaurants"})]}),(0,j.jsxs)(c(),{href:"/admin/moderation/comments",className:"flex items-center p-3 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors",children:[(0,j.jsx)(h.IC0,{className:"h-6 w-6 text-orange-500 mr-3"}),(0,j.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Kommentare moderieren"})]}),(0,j.jsxs)(c(),{href:"/admin/moderation/reviews",className:"flex items-center p-3 rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors",children:[(0,j.jsx)(h.nae,{className:"h-6 w-6 text-purple-500 mr-3"}),(0,j.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Bewertungen moderieren"})]})]})]})}),(0,j.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,j.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,j.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,j.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"Systemstatus"}),(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("span",{className:"text-xs text-gray-500 mr-3",children:B?"Letztes Update: ".concat(B.toLocaleTimeString("de-DE")):""}),(0,j.jsxs)("button",{onClick:es,disabled:Z,className:"text-sm text-indigo-600 hover:text-indigo-500 flex items-center",children:[(0,j.jsx)(h.Bw1,{className:"mr-1 ".concat(Z?"animate-spin":"")}),Z?"Wird aktualisiert...":"Aktualisieren"]})]})]}),Z&&!M?(0,j.jsx)("div",{className:"flex justify-center py-4",children:(0,j.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-indigo-500"})}):M?(0,j.jsxs)("div",{className:"space-y-4",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("div",{className:"h-2.5 w-2.5 rounded-full mr-2 ".concat("online"===M.api.status?"bg-green-500":"degraded"===M.api.status?"bg-yellow-500":"bg-red-500")}),(0,j.jsx)("span",{className:"text-sm text-gray-700",children:"API-Dienste"})]}),(0,j.jsx)("div",{className:"flex items-center",children:"online"===M.api.status?(0,j.jsxs)("span",{className:"text-sm text-green-600 font-medium flex items-center",children:[(0,j.jsx)(h.UgA,{className:"mr-1"})," Online",null!==M.api.latency&&M.api.latency>0&&(0,j.jsxs)("span",{className:"ml-2 text-xs text-gray-500",children:[M.api.latency,"ms"]})]}):"degraded"===M.api.status?(0,j.jsxs)("span",{className:"text-sm text-yellow-600 font-medium flex items-center",children:[(0,j.jsx)(h.BJv,{className:"mr-1"})," Eingeschr\xe4nkt"]}):(0,j.jsxs)("span",{className:"text-sm text-red-600 font-medium flex items-center",children:[(0,j.jsx)(h.bcx,{className:"mr-1"})," Offline"]})})]}),(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("div",{className:"h-2.5 w-2.5 rounded-full mr-2 ".concat("online"===M.database.status?"bg-green-500":"degraded"===M.database.status?"bg-yellow-500":"bg-red-500")}),(0,j.jsx)("span",{className:"text-sm text-gray-700",children:"Datenbank"})]}),(0,j.jsx)("div",{className:"flex items-center",children:"online"===M.database.status?(0,j.jsxs)("span",{className:"text-sm text-green-600 font-medium flex items-center",children:[(0,j.jsx)(h.UgA,{className:"mr-1"})," Online",null!==M.database.latency&&M.database.latency>0&&(0,j.jsxs)("span",{className:"ml-2 text-xs text-gray-500",children:[M.database.latency,"ms"]})]}):"degraded"===M.database.status?(0,j.jsxs)("span",{className:"text-sm text-yellow-600 font-medium flex items-center",children:[(0,j.jsx)(h.BJv,{className:"mr-1"})," Eingeschr\xe4nkt"]}):(0,j.jsxs)("span",{className:"text-sm text-red-600 font-medium flex items-center",children:[(0,j.jsx)(h.bcx,{className:"mr-1"})," Offline"]})})]}),(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("div",{className:"h-2.5 w-2.5 rounded-full mr-2 ".concat("online"===M.payment.status?"bg-green-500":"degraded"===M.payment.status?"bg-yellow-500":"bg-red-500")}),(0,j.jsx)("span",{className:"text-sm text-gray-700",children:"Zahlungssystem"})]}),(0,j.jsx)("div",{className:"flex items-center",children:"online"===M.payment.status?(0,j.jsxs)("span",{className:"text-sm text-green-600 font-medium flex items-center",children:[(0,j.jsx)(h.UgA,{className:"mr-1"})," Online"]}):"degraded"===M.payment.status?(0,j.jsxs)("span",{className:"text-sm text-yellow-600 font-medium flex items-center",children:[(0,j.jsx)(h.BJv,{className:"mr-1"})," Eingeschr\xe4nkt"]}):(0,j.jsxs)("span",{className:"text-sm text-red-600 font-medium flex items-center",children:[(0,j.jsx)(h.bcx,{className:"mr-1"})," Offline"]})})]}),(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("div",{className:"h-2.5 w-2.5 rounded-full mr-2 ".concat("online"===M.email.status?"bg-green-500":"degraded"===M.email.status?"bg-yellow-500":"bg-red-500")}),(0,j.jsx)("span",{className:"text-sm text-gray-700",children:"E-Mail-Dienst"})]}),(0,j.jsx)("div",{className:"flex items-center",children:"online"===M.email.status?(0,j.jsxs)("span",{className:"text-sm text-green-600 font-medium flex items-center",children:[(0,j.jsx)(h.UgA,{className:"mr-1"})," Online"]}):"degraded"===M.email.status?(0,j.jsxs)("span",{className:"text-sm text-yellow-600 font-medium flex items-center",children:[(0,j.jsx)(h.BJv,{className:"mr-1"})," Eingeschr\xe4nkt"]}):(0,j.jsxs)("span",{className:"text-sm text-red-600 font-medium flex items-center",children:[(0,j.jsx)(h.bcx,{className:"mr-1"})," Offline"]})})]})]}):(0,j.jsxs)("div",{className:"space-y-4",children:[(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("div",{className:"h-2.5 w-2.5 rounded-full bg-gray-300 mr-2"}),(0,j.jsx)("span",{className:"text-sm text-gray-700",children:"API-Dienste"})]}),(0,j.jsx)("span",{className:"text-sm text-gray-500 font-medium",children:"Status unbekannt"})]}),(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("div",{className:"h-2.5 w-2.5 rounded-full bg-gray-300 mr-2"}),(0,j.jsx)("span",{className:"text-sm text-gray-700",children:"Datenbank"})]}),(0,j.jsx)("span",{className:"text-sm text-gray-500 font-medium",children:"Status unbekannt"})]}),(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("div",{className:"h-2.5 w-2.5 rounded-full bg-gray-300 mr-2"}),(0,j.jsx)("span",{className:"text-sm text-gray-700",children:"Zahlungssystem"})]}),(0,j.jsx)("span",{className:"text-sm text-gray-500 font-medium",children:"Status unbekannt"})]}),(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsxs)("div",{className:"flex items-center",children:[(0,j.jsx)("div",{className:"h-2.5 w-2.5 rounded-full bg-gray-300 mr-2"}),(0,j.jsx)("span",{className:"text-sm text-gray-700",children:"E-Mail-Dienst"})]}),(0,j.jsx)("span",{className:"text-sm text-gray-500 font-medium",children:"Status unbekannt"})]})]})]})}),(0,j.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg mb-8",children:(0,j.jsxs)("div",{className:"px-4 py-5 sm:p-6",children:[(0,j.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Email-Management"}),(0,j.jsxs)("div",{className:"mb-6",children:[(0,j.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,j.jsx)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100",children:(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("p",{className:"text-sm font-medium text-blue-800",children:"Gesamt Kampagnen"}),(0,j.jsx)("p",{className:"text-2xl font-bold text-blue-900",children:(null==Q||null===(g=Q.emailStats)||void 0===g?void 0:g.totalCampaigns)||0})]}),(0,j.jsx)("div",{className:"bg-blue-100 p-3 rounded-full",children:(0,j.jsx)(h.Imn,{className:"h-6 w-6 text-blue-500"})})]})}),(0,j.jsx)("div",{className:"bg-green-50 p-4 rounded-lg border border-green-100",children:(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("p",{className:"text-sm font-medium text-green-800",children:"Gesendete E-Mails"}),(0,j.jsx)("p",{className:"text-2xl font-bold text-green-900",children:(null==Q||null===(p=Q.emailStats)||void 0===p?void 0:p.totalSent)||0})]}),(0,j.jsx)("div",{className:"bg-green-100 p-3 rounded-full",children:(0,j.jsx)(h.UgA,{className:"h-6 w-6 text-green-500"})})]})}),(0,j.jsx)("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-100",children:(0,j.jsxs)("div",{className:"flex items-center justify-between",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("p",{className:"text-sm font-medium text-purple-800",children:"Durchschnittl. Empf\xe4nger"}),(0,j.jsx)("p",{className:"text-2xl font-bold text-purple-900",children:(null==Q||null===(f=Q.emailStats)||void 0===f?void 0:f.totalCampaigns)>0?Math.round((null==Q||null===(b=Q.emailStats)||void 0===b?void 0:b.totalSent)/(null==Q||null===(v=Q.emailStats)||void 0===v?void 0:v.totalCampaigns)):0})]}),(0,j.jsx)("div",{className:"bg-purple-100 p-3 rounded-full",children:(0,j.jsx)(h.WY8,{className:"h-6 w-6 text-purple-500"})})]})})]}),(null==Q||null===(y=Q.emailStats)||void 0===y?void 0:y.recentCampaigns)&&Q.emailStats.recentCampaigns.length>0&&(0,j.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[(0,j.jsx)("h3",{className:"text-md font-medium text-gray-900 mb-3",children:"Neueste E-Mail-Kampagnen"}),(0,j.jsx)("div",{className:"overflow-hidden",children:(0,j.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,j.jsx)("thead",{className:"bg-gray-100",children:(0,j.jsxs)("tr",{children:[(0,j.jsx)("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Betreff"}),(0,j.jsx)("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Empf\xe4nger"}),(0,j.jsx)("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,j.jsx)("th",{scope:"col",className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Datum"})]})}),(0,j.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:Q.emailStats.recentCampaigns.map(function(e){return(0,j.jsxs)("tr",{children:[(0,j.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:e.subject}),(0,j.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-500",children:e.recipient_count}),(0,j.jsx)("td",{className:"px-3 py-2 whitespace-nowrap",children:(0,j.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("completed"===e.status?"bg-green-100 text-green-800":"sending"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:"completed"===e.status?"Abgeschlossen":"sending"===e.status?"Wird gesendet":e.status})}),(0,j.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-500",children:D(e.created_at)})]},e.id)})})]})})]})]}),(0,j.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,j.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 p-6 rounded-lg border border-blue-200",children:[(0,j.jsxs)("div",{className:"flex items-center mb-4",children:[(0,j.jsx)("div",{className:"flex-shrink-0 bg-blue-500 rounded-md p-3",children:(0,j.jsx)(h.Imn,{className:"h-6 w-6 text-white"})}),(0,j.jsxs)("div",{className:"ml-4",children:[(0,j.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Email-Builder"}),(0,j.jsx)("p",{className:"text-sm text-gray-500",children:"Erstellen und versenden Sie personalisierte Emails an Ihre Kunden"})]})]}),(0,j.jsx)("div",{className:"mt-4",children:(0,j.jsx)(c(),{href:"/admin/email-builder",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Email-Builder \xf6ffnen"})})]}),(0,j.jsxs)("div",{className:"bg-gradient-to-r from-green-50 to-green-100 p-6 rounded-lg border border-green-200",children:[(0,j.jsxs)("div",{className:"flex items-center mb-4",children:[(0,j.jsx)("div",{className:"flex-shrink-0 bg-green-500 rounded-md p-3",children:(0,j.jsx)(h.Imn,{className:"h-6 w-6 text-white"})}),(0,j.jsxs)("div",{className:"ml-4",children:[(0,j.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Email-Verlauf"}),(0,j.jsx)("p",{className:"text-sm text-gray-500",children:"Verfolgen Sie gesendete Kampagnen und deren Erfolgsraten"})]})]}),(0,j.jsx)("div",{className:"mt-4",children:(0,j.jsx)(c(),{href:"/admin/email-builder/history",className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Verlauf anzeigen"})})]})]})]})}),(0,j.jsx)("div",{className:"mb-8",children:G&&!q?(0,j.jsx)("div",{className:"bg-white p-6 rounded-lg shadow flex justify-center items-center h-64",children:(0,j.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})}):q?(0,j.jsx)(N,{data:q,isLoading:G}):(0,j.jsx)("div",{className:"bg-white p-6 rounded-lg shadow",children:(0,j.jsxs)("div",{className:"text-center py-8",children:[(0,j.jsx)(h.orK,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,j.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"Keine Analytikdaten verf\xfcgbar"}),(0,j.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Klicken Sie auf den Button, um Daten zu laden."}),(0,j.jsx)("div",{className:"mt-6",children:(0,j.jsxs)("button",{onClick:function(){return et()},className:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:[(0,j.jsx)(h.orK,{className:"-ml-1 mr-2 h-5 w-5","aria-hidden":"true"}),"Analytikdaten laden"]})})]})})})]})]})})]}),(0,j.jsx)(m.Z,{})]})}},52599:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/dashboard",function(){return t(16102)}])}},function(e){e.O(0,[6130,3365,2196,6058,6405,8428,300,8111,3708,2888,9774,179],function(){return e(e.s=52599)}),_N_E=e.O()}]);