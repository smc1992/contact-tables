(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2165],{17662:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}});var n=r(41664),s=r.n(n),a=r(25675),i=r.n(a),o=r(91472),c=r(41338),l=r(5802);function u(){return(0,l.jsx)("footer",{className:"bg-gradient-to-br from-neutral-900 to-neutral-800 text-neutral-300",children:(0,l.jsxs)("div",{className:"container mx-auto py-16 px-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12",children:[(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsx)(s(),{href:"/",className:"inline-block",children:(0,l.jsx)("div",{className:"flex items-center space-x-3 group",children:(0,l.jsx)("div",{className:"h-12 bg-white p-2 rounded-lg overflow-hidden relative",children:(0,l.jsx)(i(),{src:"/images/logo-fixed/Logo CT quer 4c.webp",alt:"Contact Tables Logo",width:120,height:40,className:"transition-all group-hover:scale-105",priority:!0,style:{objectFit:"contain",width:"auto",height:"100%"},quality:100})})})}),(0,l.jsx)("p",{className:"text-neutral-400 leading-relaxed",children:"Wir verbinden Menschen am Restauranttisch â€“ f\xfcr echte Begegnungen und inspirierende Gespr\xe4che."})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-xl font-semibold text-white mb-6 border-b border-neutral-700 pb-3",children:"Entdecken"}),(0,l.jsxs)("ul",{className:"space-y-4",children:[(0,l.jsx)("li",{children:(0,l.jsxs)(s(),{href:"/restaurants",className:"flex items-center space-x-2 text-neutral-400 hover:text-primary-400 transition-colors group",children:[(0,l.jsx)(o.i63,{className:"group-hover:translate-x-1 transition-transform"}),(0,l.jsx)("span",{children:"Restaurants finden"})]})}),(0,l.jsx)("li",{children:(0,l.jsxs)(s(),{href:"/about",className:"flex items-center space-x-2 text-neutral-400 hover:text-primary-400 transition-colors group",children:[(0,l.jsx)(o.WY8,{className:"group-hover:translate-x-1 transition-transform"}),(0,l.jsx)("span",{children:"\xdcber uns"})]})}),(0,l.jsx)("li",{children:(0,l.jsxs)(s(),{href:"/restaurant/register",className:"flex items-center space-x-2 text-neutral-400 hover:text-primary-400 transition-colors group",children:[(0,l.jsx)(o.i63,{className:"group-hover:translate-x-1 transition-transform"}),(0,l.jsx)("span",{children:"Restaurant anmelden"})]})}),(0,l.jsx)("li",{children:(0,l.jsxs)(s(),{href:"/events",className:"flex items-center space-x-2 text-neutral-400 hover:text-primary-400 transition-colors group",children:[(0,l.jsx)(o.TCC,{className:"group-hover:translate-x-1 transition-transform"}),(0,l.jsx)("span",{children:"Events & Aktionen"})]})})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-xl font-semibold text-white mb-6 border-b border-neutral-700 pb-3",children:"Rechtliches"}),(0,l.jsxs)("ul",{className:"space-y-4",children:[(0,l.jsx)("li",{children:(0,l.jsx)(s(),{href:"/datenschutz",className:"text-neutral-400 hover:text-primary-400 transition-colors",children:"Datenschutzerkl\xe4rung"})}),(0,l.jsx)("li",{children:(0,l.jsx)(s(),{href:"/faq",className:"text-neutral-400 hover:text-primary-400 transition-colors",children:"FAQ"})}),(0,l.jsx)("li",{children:(0,l.jsx)(s(),{href:"/impressum",className:"text-neutral-400 hover:text-primary-400 transition-colors",children:"Impressum"})}),(0,l.jsx)("li",{children:(0,l.jsx)(s(),{href:"/barrierefreiheit",className:"text-neutral-400 hover:text-primary-400 transition-colors",children:"Barrierefreiheit"})})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"text-xl font-semibold text-white mb-6 border-b border-neutral-700 pb-3",children:"Kontakt"}),(0,l.jsxs)("ul",{className:"space-y-4",children:[(0,l.jsx)("li",{className:"group",children:(0,l.jsxs)("a",{href:"tel:+4915679640069",className:"flex items-center space-x-3 text-neutral-400 hover:text-primary-400 transition-colors",children:[(0,l.jsx)("div",{className:"w-8 h-8 rounded-full bg-neutral-800 group-hover:bg-primary-700 flex items-center justify-center transition-all duration-300",children:(0,l.jsx)(o.tUt,{size:16})}),(0,l.jsx)("span",{children:"+49 15679 640069"})]})}),(0,l.jsx)("li",{className:"group",children:(0,l.jsxs)(s(),{href:"/contact",className:"flex items-center space-x-3 text-neutral-400 hover:text-primary-400 transition-colors",children:[(0,l.jsx)("div",{className:"w-8 h-8 rounded-full bg-neutral-800 group-hover:bg-primary-700 flex items-center justify-center transition-all duration-300",children:(0,l.jsx)(o.Imn,{size:16})}),(0,l.jsx)("span",{children:"Nachricht absenden"})]})}),(0,l.jsx)("li",{className:"group",children:(0,l.jsxs)("a",{href:"https://www.facebook.com/contacttables/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 text-neutral-400 hover:text-primary-400 transition-colors",children:[(0,l.jsx)("div",{className:"w-8 h-8 rounded-full bg-neutral-800 group-hover:bg-primary-700 flex items-center justify-center transition-all duration-300",children:(0,l.jsx)(c.tBk,{size:16})}),(0,l.jsx)("span",{children:"Facebook"})]})}),(0,l.jsx)("li",{className:"group",children:(0,l.jsxs)("a",{href:"https://www.instagram.com/contacttables/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-3 text-neutral-400 hover:text-primary-400 transition-colors",children:[(0,l.jsx)("div",{className:"w-8 h-8 rounded-full bg-neutral-800 group-hover:bg-primary-700 flex items-center justify-center transition-all duration-300",children:(0,l.jsx)(c.Zf_,{size:16})}),(0,l.jsx)("span",{children:"Instagram"})]})})]})]})]}),(0,l.jsx)("div",{className:"border-t border-neutral-800 mt-16 pt-8 text-center",children:(0,l.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center space-y-4 md:space-y-0",children:[(0,l.jsxs)("p",{className:"text-neutral-500",children:["\xa9 ",new Date().getFullYear()," contact-tables. Alle Rechte vorbehalten."]}),(0,l.jsxs)("p",{className:"flex items-center text-neutral-500",children:[(0,l.jsx)("span",{children:"Made with"})," ",(0,l.jsx)(o.$aX,{className:"mx-2 text-primary-500"})," ",(0,l.jsx)("span",{children:"in Germany"})]})]})})]})})}},73162:function(e,t,r){"use strict";var n=r(92401),s=r(91472),a=r(13114),i=r(89681),o=r(5802);t.Z=function(){var e=(0,n.useState)(!1),t=e[0],r=e[1];(0,n.useEffect)(function(){sessionStorage.getItem("launchPopupClosed")||r(!0)},[]);var c=function(){sessionStorage.setItem("launchPopupClosed","true"),r(!1)};return(0,o.jsx)(a.M,{children:t&&(0,o.jsx)(i.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4",children:(0,o.jsxs)(i.E.div,{initial:{scale:.9,y:20},animate:{scale:1,y:0},exit:{scale:.9,y:20},transition:{type:"spring",stiffness:300,damping:30},className:"relative bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 text-center",children:[(0,o.jsx)("button",{onClick:c,className:"absolute top-4 right-4 text-gray-400 hover:text-gray-700 transition-colors","aria-label":"Popup schlie\xdfen",children:(0,o.jsx)(s.q5L,{size:24})}),(0,o.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-3",children:"Bald geht's richtig los!"}),(0,o.jsxs)("p",{className:"text-gray-600 leading-relaxed",children:["Der offizielle Launch von contact-tables ist im",(0,o.jsx)("span",{className:"font-semibold text-primary-600",children:" Oktober 2025"}),".",(0,o.jsx)("br",{}),"Du kannst dich aber schon jetzt registrieren und Teil unserer Community werden."]}),(0,o.jsx)("p",{className:"text-gray-500 leading-relaxed mt-4 text-sm",children:"Dein Tipp z\xe4hlt! Verrate uns gerne deine Lieblingsrestaurants in deiner Stadt, die du gerne dabei h\xe4ttest oder die perfekt zu contact-tables passen k\xf6nnten. Vielen Dank!"}),(0,o.jsx)("div",{className:"mt-6",children:(0,o.jsx)("a",{href:"/auth/register",className:"bg-primary-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-primary-700 transition-colors w-full sm:w-auto inline-block",onClick:c,children:"Jetzt registrieren"})})]})})})}},52712:function(e,t,r){"use strict";r.d(t,{Z:function(){return u}}),r(92401);var n=r(9008),s=r.n(n),a=r(11163),i=r(63708),o=r(17662),c=r(73162),l=r(5802);function u(e){var t=e.children,r=e.title,n=e.description,u=e.className,d=!["/auth/login","/auth/register","/auth/update-password"].includes((0,a.useRouter)().pathname);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"flex flex-col min-h-screen bg-neutral-50 font-sans text-secondary-800",children:[(0,l.jsxs)(s(),{children:[(0,l.jsx)("title",{children:void 0===r?"contact-tables":r}),n&&(0,l.jsx)("meta",{name:"description",content:n}),(0,l.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,l.jsx)(i.Z,{}),(0,l.jsx)("main",{className:"flex-grow ".concat(u||""),children:(0,l.jsx)("div",{className:"w-full",children:t})}),d&&(0,l.jsx)(o.Z,{})]}),(0,l.jsx)(c.Z,{})]})}},34558:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return j},default:function(){return y}});var n=r(59499),s=r(92401),a=r(89681),i=r(52712),o=r(90116),c=r(50029),l=r(64687),u=r.n(l),d=r(41664),p=r.n(d),h=r(91472),f=r(83596),x=r(65289),m=r(5802);function b(e){var t,r,n=e.initialContactTables,a=e.userRole,i=(0,s.useState)(n||[])[0],l=(0,s.useState)(null),d=l[0],b=l[1],g=(0,s.useState)([]),v=g[0],j=g[1],y=(0,s.useState)(!0),w=y[0],N=y[1],k=(0,x.useAuth)().user;(0,s.useEffect)(function(){var e;(e=(0,c.Z)(u().mark(function e(){var t,r,n;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(k){e.next=3;break}return N(!1),e.abrupt("return");case 3:return e.prev=3,e.next=6,f.supabase.from("favorites").select("restaurant_id").eq("user_id",k.id);case 6:r=(t=e.sent).data,(n=t.error)?console.error("Fehler beim Laden der Favoriten:",n):j(r.map(function(e){return e.restaurant_id})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),console.error("Fehler beim Laden der Favoriten:",e.t0);case 15:return e.prev=15,N(!1),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[3,12,15,18]])})),function(){return e.apply(this,arguments)})()},[k]);var O=(t=(0,c.Z)(u().mark(function e(t){var r,n;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return b(t),e.prev=1,e.next=4,fetch("/api/contact/request",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({contactTableId:t,action:"join"})});case 4:return r=e.sent,e.next=7,r.json();case 7:if(n=e.sent,r.ok){e.next=10;break}throw Error(n.error||"Fehler beim Beitreten");case 10:alert("Erfolgreich beigetreten! Die Seite wird neu geladen, um die Teilnehmerzahl zu aktualisieren."),window.location.reload(),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),alert(e.t0.message);case 17:return e.prev=17,b(null),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[1,14,17,20]])})),function(e){return t.apply(this,arguments)}),C=(r=(0,c.Z)(u().mark(function e(t){var r,n,s;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(k){e.next=3;break}return alert("Bitte melde dich an, um Favoriten zu speichern."),e.abrupt("return");case 3:if(r=v.includes(t),e.prev=4,!r){e.next=15;break}return e.next=8,f.supabase.from("favorites").delete().eq("user_id",k.id).eq("restaurant_id",t);case 8:if(!(n=e.sent.error)){e.next=12;break}throw n;case 12:j(v.filter(function(e){return e!==t})),e.next=22;break;case 15:return e.next=17,f.supabase.from("favorites").insert({user_id:k.id,restaurant_id:t});case 17:if(!(s=e.sent.error)){e.next=21;break}throw s;case 21:j([].concat((0,o.Z)(v),[t]));case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(4),console.error("Fehler beim Aktualisieren der Favoriten:",e.t0),alert("Es gab ein Problem beim Aktualisieren deiner Favoriten. Bitte versuche es sp\xe4ter erneut.");case 28:case"end":return e.stop()}},e,null,[[4,24]])})),function(e){return r.apply(this,arguments)});return i&&0!==i.length?(0,m.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:i.filter(function(e){return e.restaurant}).map(function(e){var t,r,n;return e.max_participants,(0,m.jsxs)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden transition-transform duration-300 hover:scale-105 hover:shadow-xl flex flex-col",children:[(0,m.jsxs)("div",{className:"p-6 flex-grow",children:[(0,m.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,m.jsxs)("div",{children:[(0,m.jsxs)("p",{className:"text-sm text-neutral-500 flex items-center",children:[(0,m.jsx)(h.vlc,{className:"mr-2"}),new Date(e.datetime).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric"})]}),(0,m.jsxs)("p",{className:"text-sm text-neutral-500 flex items-center mt-1",children:[(0,m.jsx)(h.TCC,{className:"mr-2"}),new Date(e.datetime).toLocaleTimeString("de-DE",{hour:"2-digit",minute:"2-digit"})," Uhr"]})]}),(0,m.jsxs)("span",{className:"px-3 py-1 text-xs font-semibold text-primary-800 bg-primary-100 rounded-full",children:[e.max_participants," Pl\xe4tze"]})]}),(0,m.jsx)("h3",{className:"text-xl font-bold text-neutral-800 mb-2",children:e.title}),e.restaurant&&(0,m.jsxs)("div",{className:"text-sm text-neutral-600 mb-4",children:[(0,m.jsxs)("p",{className:"flex items-center",children:[(0,m.jsx)(h.i63,{className:"mr-2"}),(0,m.jsx)(p(),{href:"/restaurants/".concat(e.restaurant.id),className:"hover:underline font-semibold",children:e.restaurant.name})]}),(0,m.jsxs)("p",{className:"ml-6",children:[e.restaurant.address,", ",e.restaurant.city]})]}),e.description&&(0,m.jsxs)("div",{className:"mb-4",children:[(0,m.jsxs)("h4",{className:"font-semibold text-sm text-neutral-700 mb-2 flex items-center",children:[(0,m.jsx)(h.H33,{className:"mr-2"}),"Beschreibung"]}),(0,m.jsx)("p",{className:"text-sm text-neutral-600 bg-neutral-50 p-3 rounded-md",children:e.description})]})]}),(0,m.jsxs)("div",{className:"bg-neutral-50 px-6 py-4",children:[(0,m.jsxs)("div",{className:"flex justify-between items-center mb-3",children:["CUSTOMER"===a&&(0,m.jsx)("button",{onClick:function(){return O(e.id)},disabled:d===e.id,className:"flex-grow bg-primary-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-primary-700 transition-colors disabled:bg-neutral-400 disabled:cursor-not-allowed flex items-center justify-center mr-2",children:d===e.id?"Beitreten...":"Teilnehmen"}),k&&e.restaurant&&(0,m.jsx)("button",{onClick:function(){var t;return C((null===(t=e.restaurant)||void 0===t?void 0:t.id)||"")},disabled:w,className:"p-2 rounded-full flex items-center justify-center transition-colors ".concat(v.includes((null===(t=e.restaurant)||void 0===t?void 0:t.id)||"")?"bg-red-100 text-red-600 hover:bg-red-200":"bg-gray-100 text-gray-400 hover:bg-gray-200"),title:v.includes((null===(r=e.restaurant)||void 0===r?void 0:r.id)||"")?"Aus Favoriten entfernen":"Zu Favoriten hinzuf\xfcgen",children:(0,m.jsx)(h.$aX,{className:"h-5 w-5 ".concat(v.includes((null===(n=e.restaurant)||void 0===n?void 0:n.id)||"")?"fill-current":"")})})]}),(0,m.jsx)(p(),{href:"/contact-tables/".concat(e.id),className:"block",children:(0,m.jsx)("button",{className:"w-full border border-neutral-300 text-neutral-700 font-medium py-2 px-4 rounded-lg hover:bg-neutral-100 transition-colors",children:"Details ansehen"})})]})]},e.id)})}):(0,m.jsxs)("div",{className:"text-center p-12 bg-white rounded-lg shadow-md",children:[(0,m.jsx)("h3",{className:"text-xl font-semibold text-neutral-700",children:"Keine Kontakttische gefunden"}),(0,m.jsx)("p",{className:"text-neutral-500 mt-2",children:"Derzeit sind keine Kontakttische verf\xfcgbar. Schau sp\xe4ter noch einmal vorbei."})]})}function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach(function(t){(0,n.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var j=!0;function y(e){var t=e.initialContactTables,r=e.userRole,o=e.error,c=(0,s.useState)({date:"",city:"",interests:""}),l=c[0],u=c[1],d=(0,s.useState)(t||[]),p=d[0],h=d[1];(0,s.useEffect)(function(){var e=t||[];if(l.date&&(e=e.filter(function(e){return new Date(e.datetime).toLocaleDateString("de-DE")===new Date(l.date).toLocaleDateString("de-DE")})),l.city&&(e=e.filter(function(e){var t;return null===(t=e.restaurant)||void 0===t||null===(t=t.city)||void 0===t?void 0:t.toLowerCase().includes(l.city.toLowerCase())})),l.interests){var r=l.interests.split(",").map(function(e){return e.trim().toLowerCase()}).filter(function(e){return e});r.length>0&&(e=e.filter(function(e){return r.some(function(t){return e.title.toLowerCase().includes(t)||e.description&&e.description.toLowerCase().includes(t)})}))}h(e)},[l,t]);var f=function(e){var t=e.target,r=t.name,s=t.value;u(function(e){return v(v({},e),{},(0,n.Z)({},r,s))})};return(0,m.jsx)(i.Z,{title:"Offene Kontakttische",children:(0,m.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[o&&(0,m.jsxs)(a.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg relative mb-6",role:"alert",children:[(0,m.jsx)("strong",{className:"font-bold",children:"Fehler:"}),(0,m.jsx)("span",{className:"block sm:inline ml-2",children:o})]}),(0,m.jsxs)("div",{className:"mb-8",children:[(0,m.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,m.jsx)("h2",{className:"text-2xl font-bold text-neutral-800",children:"Finde deinen Tisch"}),(0,m.jsx)("button",{onClick:function(){u({date:"",city:"",interests:""})},className:"text-sm text-primary-600 hover:underline",children:"Filter zur\xfccksetzen"})]}),(0,m.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 bg-white p-6 rounded-lg shadow-md mb-8",children:[(0,m.jsx)("input",{type:"date",name:"date",value:l.date,onChange:f,className:"form-input w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-primary-500 focus:border-primary-500"}),(0,m.jsx)("input",{type:"text",name:"city",placeholder:"Stadt (z.B. Berlin)",value:l.city,onChange:f,className:"form-input w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-primary-500 focus:border-primary-500"}),(0,m.jsx)("input",{type:"text",name:"interests",placeholder:"Stichwort (z.B. Kunst, Jazz)",value:l.interests,onChange:f,className:"form-input w-full px-4 py-2 border border-neutral-300 rounded-lg focus:ring-primary-500 focus:border-primary-500"})]})]}),(0,m.jsx)("div",{className:"mt-8",children:(0,m.jsx)(b,{initialContactTables:p,userRole:r})})]})})}},83596:function(e,t,r){"use strict";r.r(t),r.d(t,{admin:function(){return E},auth:function(){return O},profiles:function(){return C},restaurants:function(){return P},supabase:function(){return k}});var n,s,a,i,o,c,l,u,d,p,h,f,x=r(59499),m=r(50029),b=r(64687),g=r.n(b),v=r(86405);function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach(function(t){(0,x.Z)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var w="https://efmbzrmroyetcqxcwxka.supabase.co",N="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVmbWJ6cm1yb3lldGNxeGN3eGthIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDc3MjkzNDgsImV4cCI6MjA2MzMwNTM0OH0.ohJQapQUce_nuK0Ra30WUQGfchrSG3ZTx43jxV0f0I4";w&&N||console.error("Kritischer Fehler: Supabase URL oder Anon Key fehlen in der Client-Konfiguration.");var k=(0,v.createBrowserClient)(w,N,{auth:{storageKey:"contact-tables-auth",persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0}}),O={signUp:(n=(0,m.Z)(g().mark(function e(t,r){var n,s,a,i,o=arguments;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>2&&void 0!==o[2]?o[2]:{},e.next=3,k.auth.signUp({email:t,password:r,options:{data:y(y({},n),{},{role:n.role||"CUSTOMER"})}});case 3:return a=(s=e.sent).data,i=s.error,e.abrupt("return",{data:a,error:i});case 7:case"end":return e.stop()}},e)})),function(e,t){return n.apply(this,arguments)}),signIn:(s=(0,m.Z)(g().mark(function e(t,r){var n,s,a;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.auth.signInWithPassword({email:t,password:r});case 2:return s=(n=e.sent).data,a=n.error,e.abrupt("return",{data:s,error:a});case 6:case"end":return e.stop()}},e)})),function(e,t){return s.apply(this,arguments)}),signInWithGoogle:(a=(0,m.Z)(g().mark(function e(t){var r,n,s;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.auth.signInWithOAuth({provider:"google",options:{redirectTo:(null==t?void 0:t.redirectTo)||"".concat(window.location.origin,"/auth/callback")}});case 2:return n=(r=e.sent).data,s=r.error,e.abrupt("return",{data:n,error:s});case 6:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)}),signOut:(i=(0,m.Z)(g().mark(function e(){var t;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.auth.signOut();case 2:return t=e.sent.error,e.abrupt("return",{error:t});case 5:case"end":return e.stop()}},e)})),function(){return i.apply(this,arguments)}),getUser:(o=(0,m.Z)(g().mark(function e(){var t,r,n;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.auth.getUser();case 2:return r=(t=e.sent).data,n=t.error,e.abrupt("return",{data:r,error:n});case 6:case"end":return e.stop()}},e)})),function(){return o.apply(this,arguments)}),getSession:(c=(0,m.Z)(g().mark(function e(){var t,r,n;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.auth.getSession();case 2:return r=(t=e.sent).data,n=t.error,e.abrupt("return",{data:r,error:n});case 6:case"end":return e.stop()}},e)})),function(){return c.apply(this,arguments)}),resetPassword:(l=(0,m.Z)(g().mark(function e(t){var r,n,s;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.auth.resetPasswordForEmail(t,{redirectTo:"https://contact-tables.org/auth/reset-password"});case 2:return n=(r=e.sent).data,s=r.error,e.abrupt("return",{data:n,error:s});case 6:case"end":return e.stop()}},e)})),function(e){return l.apply(this,arguments)}),updatePassword:(u=(0,m.Z)(g().mark(function e(t){var r,n,s;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.auth.updateUser({password:t});case 2:return n=(r=e.sent).data,s=r.error,e.abrupt("return",{data:n,error:s});case 6:case"end":return e.stop()}},e)})),function(e){return u.apply(this,arguments)})},C={getProfile:(d=(0,m.Z)(g().mark(function e(t){var r,n,s;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.from("profiles").select("*").eq("id",t).single();case 2:return n=(r=e.sent).data,s=r.error,e.abrupt("return",{data:n,error:s});case 6:case"end":return e.stop()}},e)})),function(e){return d.apply(this,arguments)}),updateProfile:(p=(0,m.Z)(g().mark(function e(t,r){var n,s,a;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.from("profiles").update(r).eq("id",t);case 2:return s=(n=e.sent).data,a=n.error,e.abrupt("return",{data:s,error:a});case 6:case"end":return e.stop()}},e)})),function(e,t){return p.apply(this,arguments)})},P={getRestaurantProfile:(h=(0,m.Z)(g().mark(function e(t){var r,n,s;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.from("restaurants").select("*").eq("user_id",t).single();case 2:return n=(r=e.sent).data,s=r.error,e.abrupt("return",{data:n,error:s});case 6:case"end":return e.stop()}},e)})),function(e){return h.apply(this,arguments)})},E={getAllUsers:(f=(0,m.Z)(g().mark(function e(){var t,r,n;return g().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.from("profiles").select("*");case 2:return r=(t=e.sent).data,n=t.error,e.abrupt("return",{data:r,error:n});case 6:case"end":return e.stop()}},e)})),function(){return f.apply(this,arguments)})}},33817:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/contact-tables",function(){return r(34558)}])},9008:function(e,t,r){e.exports=r(74394)},11163:function(e,t,r){e.exports=r(11171)},13114:function(e,t,r){"use strict";r.d(t,{M:function(){return g}});var n=r(5802),s=r(92401),a=r(25364),i=r(96681),o=r(58868),c=r(240),l=r(93243),u=r(16014);class d extends s.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,r=(0,l.R)(e)&&e.offsetWidth||0,n=this.props.sizeRef.current;n.height=t.offsetHeight||0,n.width=t.offsetWidth||0,n.top=t.offsetTop,n.left=t.offsetLeft,n.right=r-n.width-n.left}return null}componentDidUpdate(){}render(){return this.props.children}}function p({children:e,isPresent:t,anchorX:r,root:a}){let i=(0,s.useId)(),o=(0,s.useRef)(null),c=(0,s.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=(0,s.useContext)(u._);return(0,s.useInsertionEffect)(()=>{let{width:e,height:n,top:s,left:u,right:d}=c.current;if(t||!o.current||!e||!n)return;let p="left"===r?`left: ${u}`:`right: ${d}`;o.current.dataset.motionPopId=i;let h=document.createElement("style");l&&(h.nonce=l);let f=a??document.head;return f.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${n}px !important;
            ${p}px !important;
            top: ${s}px !important;
          }
        `),()=>{f.contains(h)&&f.removeChild(h)}},[t]),(0,n.jsx)(d,{isPresent:t,childRef:o,sizeRef:c,children:s.cloneElement(e,{ref:o})})}let h=({children:e,initial:t,isPresent:r,onExitComplete:a,custom:o,presenceAffectsLayout:l,mode:u,anchorX:d,root:h})=>{let x=(0,i.h)(f),m=(0,s.useId)(),b=!0,g=(0,s.useMemo)(()=>(b=!1,{id:m,initial:t,isPresent:r,custom:o,onExitComplete:e=>{for(let t of(x.set(e,!0),x.values()))if(!t)return;a&&a()},register:e=>(x.set(e,!1),()=>x.delete(e))}),[r,x,a]);return l&&b&&(g={...g}),(0,s.useMemo)(()=>{x.forEach((e,t)=>x.set(t,!1))},[r]),s.useEffect(()=>{r||x.size||!a||a()},[r]),"popLayout"===u&&(e=(0,n.jsx)(p,{isPresent:r,anchorX:d,root:h,children:e})),(0,n.jsx)(c.O.Provider,{value:g,children:e})};function f(){return new Map}var x=r(15947);let m=e=>e.key||"";function b(e){let t=[];return s.Children.forEach(e,e=>{(0,s.isValidElement)(e)&&t.push(e)}),t}let g=({children:e,custom:t,initial:r=!0,onExitComplete:c,presenceAffectsLayout:l=!0,mode:u="sync",propagate:d=!1,anchorX:p="left",root:f})=>{let[g,v]=(0,x.oO)(d),j=(0,s.useMemo)(()=>b(e),[e]),y=d&&!g?[]:j.map(m),w=(0,s.useRef)(!0),N=(0,s.useRef)(j),k=(0,i.h)(()=>new Map),[O,C]=(0,s.useState)(j),[P,E]=(0,s.useState)(j);(0,o.L)(()=>{w.current=!1,N.current=j;for(let e=0;e<P.length;e++){let t=m(P[e]);y.includes(t)?k.delete(t):!0!==k.get(t)&&k.set(t,!1)}},[P,y.length,y.join("-")]);let S=[];if(j!==O){let e=[...j];for(let t=0;t<P.length;t++){let r=P[t],n=m(r);y.includes(n)||(e.splice(t,0,r),S.push(r))}return"wait"===u&&S.length&&(e=S),E(b(e)),C(j),null}let{forceRender:z}=(0,s.useContext)(a.p);return(0,n.jsx)(n.Fragment,{children:P.map(e=>{let s=m(e),a=(!d||!!g)&&(j===P||y.includes(s));return(0,n.jsx)(h,{isPresent:a,initial:(!w.current||!!r)&&void 0,custom:t,presenceAffectsLayout:l,mode:u,root:f,onExitComplete:a?void 0:()=>{if(!k.has(s))return;k.set(s,!0);let e=!0;k.forEach(t=>{t||(e=!1)}),e&&(z?.(),E(N.current),d&&v?.(),c&&c())},anchorX:p,children:e},s)})})}}},function(e){e.O(0,[6130,3365,6058,6405,8428,300,3708,2888,9774,179],function(){return e(e.s=33817)}),_N_E=e.O()}]);