(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3163],{33163:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return D}});var r,o,u,i,l,a,c=t(92401);let s=(0,c.createContext)(null),f=s.Provider;function p(){let n=(0,c.useContext)(s);if(null==n)throw Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}var d=t(4730),h=t(45243),m=["bounds","boundsOptions","center","children","className","id","placeholder","style","whenReady","zoom"];function v(){return(v=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n}).apply(this,arguments)}var g=(0,c.forwardRef)(function(n,e){var t=n.bounds,r=n.boundsOptions,o=n.center,u=n.children,i=n.className,l=n.id,a=n.placeholder,s=n.style,p=n.whenReady,g=n.zoom,y=(0,d.Z)(n,m),b=(0,c.useState)({className:i,id:l,style:s})[0],O=(0,c.useState)(null),x=O[0],w=O[1];(0,c.useImperativeHandle)(e,function(){var n;return null!==(n=null==x?void 0:x.map)&&void 0!==n?n:null},[x]);var I=(0,c.useCallback)(function(n){if(null!==n&&null===x){var e=new h.Map(n,y);null!=o&&null!=g?e.setView(o,g):null!=t&&e.fitBounds(t,r),null!=p&&e.whenReady(p),w(Object.freeze({__version:1,map:e}))}},[]);(0,c.useEffect)(function(){return function(){null==x||x.map.remove()}},[x]);var z=x?c.createElement(f,{value:x},u):null!=a?a:null;return c.createElement("div",v({},b,{ref:I}),z)}),y=t(71864);function b(n,e,t){return Object.freeze({instance:n,context:e,container:t})}function O(n,e){return null==e?function(e,t){let r=(0,c.useRef)();return r.current||(r.current=n(e,t)),r}:function(t,r){let o=(0,c.useRef)();o.current||(o.current=n(t,r));let u=(0,c.useRef)(t),{instance:i}=o.current;return(0,c.useEffect)(function(){u.current!==t&&(e(i,t,u.current),u.current=t)},[i,t,r]),o}}function x(n,e){let t=(0,c.useRef)(e);(0,c.useEffect)(function(){e!==t.current&&null!=n.attributionControl&&(null!=t.current&&n.attributionControl.removeAttribution(t.current),null!=e&&n.attributionControl.addAttribution(e)),t.current=e},[n,e])}function w(n,e){let t=(0,c.useRef)();(0,c.useEffect)(function(){return null!=e&&n.instance.on(e),t.current=e,function(){null!=t.current&&n.instance.off(t.current),t.current=null}},[n,e])}function I(n,e){let t=n.pane??e.pane;return t?{...n,pane:t}:n}function z(n){return function(e){var t;let r=p(),o=n(I(e,r),r);return x(r.map,e.attribution),w(o.current,e.eventHandlers),t=o.current,(0,c.useEffect)(function(){return(r.layerContainer??r.map).addLayer(t.instance),function(){r.layerContainer?.removeLayer(t.instance),r.map.removeLayer(t.instance)}},[r,t]),o}}var C=["url"],_=(r=z(O(function(n,e){var t=n.url,r=(0,d.Z)(n,C);return b(new h.TileLayer(t,I(r,e)),e)},function(n,e,t){!function(n,e,t){let{opacity:r,zIndex:o}=e;null!=r&&r!==t.opacity&&n.setOpacity(r),null!=o&&o!==t.zIndex&&n.setZIndex(o)}(n,e,t);var r=e.url;null!=r&&r!==t.url&&n.setUrl(r)})),(0,c.forwardRef)(function(n,e){let{instance:t}=r(n).current;return(0,c.useImperativeHandle)(e,()=>t),null})),j=["position"],E=(o=z(O(function(n,e){var t,r=n.position,o=(0,d.Z)(n,j),u=new h.Marker(r,o);return b(u,(t={overlayContainer:u},Object.freeze({...e,...t})))},function(n,e,t){e.position!==t.position&&n.setLatLng(e.position),null!=e.icon&&e.icon!==t.icon&&n.setIcon(e.icon),null!=e.zIndexOffset&&e.zIndexOffset!==t.zIndexOffset&&n.setZIndexOffset(e.zIndexOffset),null!=e.opacity&&e.opacity!==t.opacity&&n.setOpacity(e.opacity),null!=n.dragging&&e.draggable!==t.draggable&&(!0===e.draggable?n.dragging.enable():n.dragging.disable())})),(0,c.forwardRef)(function(n,e){let{instance:t,context:r}=o(n).current;return(0,c.useImperativeHandle)(e,()=>t),null==n.children?null:c.createElement(f,{value:r},n.children)})),N=(u=function(n,e){return b(new h.Popup(n,e.overlayContainer),e)},i=function(n,e,t,r){var o=t.position;(0,c.useEffect)(function(){var t=n.instance;function u(n){n.popup===t&&(t.update(),r(!0))}function i(n){n.popup===t&&r(!1)}return e.map.on({popupopen:u,popupclose:i}),null==e.overlayContainer?(null!=o&&t.setLatLng(o),t.openOn(e.map)):e.overlayContainer.bindPopup(t),function(){var n;e.map.off({popupopen:u,popupclose:i}),null===(n=e.overlayContainer)||void 0===n||n.unbindPopup(),e.map.removeLayer(t)}},[n,e,r,o])},l=O(u),a=function(n,e){let t=p(),r=l(I(n,t),t);return x(t.map,n.attribution),w(r.current,n.eventHandlers),i(r.current,t,n,e),r},(0,c.forwardRef)(function(n,e){let[t,r]=(0,c.useState)(!1),{instance:o}=a(n,r).current;(0,c.useImperativeHandle)(e,()=>o),(0,c.useEffect)(function(){t&&o.update()},[o,t,n.children]);let u=o._contentNode;return u?(0,y.createPortal)(n.children,u):null}));function R(n,e){var t,r=h.DomUtil.create("div",n,document.body),o=function(n,e){for(var t,r=/url\(['"]?([^"']*?)['"]?\)/gi,o=[],u=r.exec(n);u;)o.push(e?(t=u[1]).substr(t.lastIndexOf("/")+1):u[1]),u=r.exec(n);return o}((t=S(r,"background-image"))&&"none"!==t?t:S(r,"cursor"),e),u=P(r,"width"),i=P(r,"height"),l=P(r,"margin-left"),a=P(r,"margin-top");return r.parentNode.removeChild(r),{Url:o[0],RetinaUrl:o[1],Size:[u,i],Anchor:[-l,-a]}}function U(n){var e=h.DomUtil.create("div",n,document.body),t=P(e,"margin-left"),r=P(e,"margin-top");return e.parentNode.removeChild(e),{Anchor:[t,r]}}function P(n,e){return parseInt(S(n,e),10)}function S(n,e){return h.DomUtil.getStyle(n,e)||h.DomUtil.getStyle(n,e.replace(/-(\w)/g,function(n,e){return e.toUpperCase()}))}t(53183),t(70174),h.Icon.Default.mergeOptions({iconUrl:null,iconRetinaUrl:null,shadowUrl:null,iconSize:null,iconAnchor:null,popupAnchor:null,tooltipAnchor:null,shadowSize:null,classNamePrefix:"leaflet-default-icon-"}),h.Icon.Default.include({_needsInit:!0,_getIconUrl:function(n){var e=this.options.imagePath||h.Icon.Default.imagePath||"";return this._needsInit&&this._initializeOptions(e),e+h.Icon.prototype._getIconUrl.call(this,n)},_initializeOptions:function(n){this._setOptions("icon",R,n),this._setOptions("shadow",R,n),this._setOptions("popup",U),this._setOptions("tooltip",U),this._needsInit=!1},_setOptions:function(n,e,t){var r=this.options,o=e(r.classNamePrefix+n,t);for(var u in o)r[n+u]=r[n+u]||o[u]}});var L=t(5802),k=function(n){var e=n.center,t=n.zoom,r=p().map;return(0,c.useEffect)(function(){r.setView(e,t)},[e,t,r]),null},D=function(n){var e=n.restaurants,t=n.height,r=n.center,o=r?[r.lat,r.lng]:[51.1657,10.4515],u=r?13:6;return(0,L.jsxs)(g,{center:o,zoom:u,style:{height:t,width:"100%"},scrollWheelZoom:!0,children:[(0,L.jsx)(k,{center:o,zoom:u}),(0,L.jsx)(_,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),e.map(function(n){return n.latitude&&n.longitude?(0,L.jsx)(E,{position:[n.latitude,n.longitude],children:(0,L.jsx)(N,{children:(0,L.jsxs)("div",{className:"font-sans",children:[(0,L.jsx)("h3",{className:"font-bold text-lg mb-1",children:n.name}),(0,L.jsxs)("p",{className:"text-gray-600",children:[n.address,", ",n.city]}),(0,L.jsx)("a",{href:"/restaurants/".concat(n.id),className:"text-primary-500 hover:underline mt-2 inline-block",children:"Details anzeigen"})]})})},n.id):null})]})}},70174:function(){},53183:function(){},4730:function(n,e,t){"use strict";function r(n,e){if(null==n)return{};var t,r,o=function(n,e){if(null==n)return{};var t,r,o={},u=Object.keys(n);for(r=0;r<u.length;r++)t=u[r],e.indexOf(t)>=0||(o[t]=n[t]);return o}(n,e);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(n);for(r=0;r<u.length;r++)t=u[r],!(e.indexOf(t)>=0)&&Object.prototype.propertyIsEnumerable.call(n,t)&&(o[t]=n[t])}return o}t.d(e,{Z:function(){return r}})}}]);